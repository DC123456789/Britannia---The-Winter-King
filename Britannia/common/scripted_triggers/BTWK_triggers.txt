
### BRITANNIA CUSTOM SCRIPTED TRIGGERS ###

is_roman_ruler_trigger = {
	OR = {
		culture_group = imperiale
		has_landed_title = e_gaul
		has_landed_title = e_roman_britannia
		primary_title = {
			#custom_tooltip = {
				#text = is_roman_province_tooltip
				has_title_flag = roman_province
			#}
		}
		hidden_tooltip = {
			in_revolt = yes
			liege_before_war = {
				OR = {
					culture_group = imperiale
					has_landed_title = e_gaul
					has_landed_title = e_roman_britannia
					any_demesne_title = {
						has_title_flag = roman_province
					}
				}
			}
		}
	}
	NAND = {
		primary_title = { title = k_praetorian_prefecture_of_gaul }
		k_praetorian_prefecture_of_gaul = { NOT = { has_title_flag = roman_province } }
	}
}

is_roman_legion_title_trigger = {
	OR = {
		title = d_legio_vi_gallicana
		title = d_legio_vi_victrix
		title = d_legio_xx_valeria_victrix
		title = d_legio_ii_augusta
		title = d_legio_ii_britannica
		title = d_legio_i_flavia_gallicana_constantia
		title = d_legio_i_flavia_martis
		title = d_legio_i_minervia
		title = d_legio_xxx_ulpia_victrix
		title = d_legio_xii_victrix
	}
}

is_legionary_base_province_trigger = {
	OR = {
		d_legio_vi_gallicana = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_vi_victrix = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_xx_valeria_victrix = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_ii_augusta = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_ii_britannica = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_i_flavia_gallicana_constantia = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_i_flavia_martis = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_i_minervia = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_xxx_ulpia_victrix = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
		d_legio_xii_victrix = {
			capital_scope = {
				province = PREVPREV
			}
			FROM = {
				top_liege = { any_vassal = { has_landed_title = PREVPREVPREV } }
			}
		}
	}
}

is_british_province_title_trigger = {
	OR = {
		title = k_maxima_cesariensis
		title = k_flavia_cesariensis
		title = k_britannia_prima
		title = k_britannia_secunda
		title = k_valentia
		title = k_romancaledonia
		title = k_hibernia_prima
		title = k_hibernia_secunda
	}
}

is_gallic_province_title_trigger = {
	has_title_flag = gallic_province
}

is_roman_emperor_trigger = {
	OR = {
		has_landed_title = e_gaul
		has_landed_title = e_roman_britannia
		has_landed_title = e_western_roman_empire
		has_landed_title = e_eastern_roman_empire
	}
}

is_roman_empire_title_trigger = {
	OR = {
		title = e_gaul
		title = e_roman_britannia
		title = e_western_roman_empire
		title = e_eastern_roman_empire
	}
}

is_brythonic_culture_trigger = {
	OR = {
		culture = briton
		culture = romanobritish
		culture = cumbrian
		culture = armorican
		culture = breton
	}
}

is_HK_britannia_relevant_trigger = {
	OR = {
		is_brythonic_culture_trigger = yes
		capital_scope = {
			region = world_britannia
		}
		any_demesne_title = {
			empire = {
				title = e_britannia
			}
		}
	}
}

is_HK_aengland_relevant_trigger = {
	OR = {
		culture = anglosaxon
		capital_scope = {
			region = world_britannia
		}
		any_demesne_title = {
			empire = {
				title = e_aengland
			}
		}
	}
}

is_gaelic_culture_trigger = {
	OR = {
		culture = oldirish
		culture = gaelic
	}
}

is_roman_culture_trigger = {
	OR = {
		culture_group = imperiale
		culture = romanobritish
	}
}

is_local_roman_culture_trigger = {
	OR = {
		AND = {
			region = world_gaul
			NOR = { 
				region = world_gaul_romangermania 
				region = world_gaul_aquitania_tertia
			}
			culture = romanogallic
		}
		AND = { 
			OR = {
				region = world_britannia
				region = world_caledonia
				region = world_ireland 
			}
			culture = romanobritish
		}
		AND = { 
			OR = {
				region = world_gaul_romangermania 
				region = world_germania 
			}
			NAND = {
				region = world_germania_jutland
				has_global_flag = jutland_conquered_norse
			}
			NAND = {
				region = world_germania_angeln
				has_global_flag = angeln_conquered_norse
			}
			culture = romanogermanic
		}
		AND = { 
			region = custom_scandinavia 
			OR = {
				NOT = { region = world_germania_jutland }
				has_global_flag = jutland_conquered_norse
			}
			OR = {
				NOT = { region = world_germania_angeln }
				has_global_flag = angeln_conquered_norse
			}
			culture = romanoscandian
		}
		AND = { 
			region = world_gaul_aquitania_tertia
			culture = romanoaquitanian
		}
	}
}

is_semiromanized_nongermanic_culture_trigger = {
	OR = {
		culture = briton
		culture = cumbrian
		culture = armorican
		culture = breton
		culture = vasconian
		culture = alan
		culture = numidian
		culture = hebrew
	}
}

is_semiromanized_germanic_culture_trigger = {
	OR = {
		culture = oldfrankish
		culture = frankish
		culture = dutch
		culture = franconian
		culture = oldalemannic
		culture = alemannic
		culture = oldbavarian
		culture = bavarian
		culture = french		# Not actually Germanic, but treated as such for these purposes
		culture = occitan
		culture = arpitan
	}
}

is_ingvaeonic_culture_trigger = {
	OR = {
		culture = angle
		culture = oldsaxon
		culture = jute
		culture = oldfrisian
		culture = anglosaxon
		culture = frisian
		culture = saxon
	}
}

is_istvaeonic_culture_trigger = {
	OR = {
		culture = oldfrankish
		culture = frankish
		culture = dutch
		culture = franconian
	}
}

is_irminonic_culture_trigger = {
	OR = {
		culture = oldthuringian
		culture = thuringian
		culture = oldalemannic
		culture = alemannic
		culture = oldbavarian
		culture = bavarian
		culture = suebic
	}
}

is_east_germanic_trigger = {
	OR = {
		culture = visigoth
		culture = burgundian
		culture = ostrogoth
		culture = vandal
		culture = taifal
	}
}

is_north_germanic_trigger = {
	OR = {
		culture = proto_norse
		culture = dane
	}
}

is_romanized_germanic_trigger = {
	OR = {
		culture = visigoth
		culture = burgundian
		culture = ostrogoth
		culture = vandal
		culture = taifal
		culture = suebic
	}
}

is_frankish_culture_trigger = {
	OR = {
		is_istvaeonic_culture_trigger = yes
		culture = french
		culture = occitan
		culture = arpitan
	}
}

is_roman_pagan_culture_trigger = {
	OR = {
		culture_group = imperiale
		culture_group = romance
	}	
}	

cannot_create_roman_title_trigger = {
	OR = {
		AND = {
			culture_group = germanic
			NOT = { is_romanized_germanic_trigger = yes }
		}
		culture = french
		culture = occitan
		culture = arpitan
	}
}

can_create_roman_province_gaul_trigger = {
	conditional_tooltip = {
		trigger = {
			NOT = { has_global_flag = romanized_germanic_empire_formed }
		}
		OR = {
			culture_group = imperiale
			culture = romanobritish
		}
	}
	conditional_tooltip = {
		trigger = {
			has_global_flag = romanized_germanic_empire_formed
		}
		OR = {
			culture_group = imperiale
			culture = romanobritish
			top_liege = { has_landed_title = e_visigoths }
		}
	}
	conditional_tooltip = {
		trigger = {
			has_landed_title = k_praetorian_prefecture_of_gaul
		}
		NOT = { has_landed_title = k_praetorian_prefecture_of_gaul }
	}
	has_global_flag = roman_provinces_gaul_restored
}

can_create_germanic_title_trigger = {
	OR = {
		culture_group = germanic
		culture = french
		culture = occitan
		culture = arpitan
	}
	NOT = { is_romanized_germanic_trigger = yes }
	top_liege = {
		OR = {
			culture_group = germanic
			culture = french
			culture = occitan
			culture = arpitan
		}
		NOT = { is_romanized_germanic_trigger = yes }
	}
}

can_create_brythonic_only_title_trigger = {		# Really means not for Romans or non-Romanized Germanics
	top_liege = {
		is_roman_ruler_trigger = no
	}
	cannot_create_roman_title_trigger = no
}

cannot_be_created_by_romans_trigger = {
	top_liege = {
		is_roman_ruler_trigger = no
	}
}

is_germanic_controlled_trigger = {
	holder_scope = {
		top_liege = { 
			OR = {
				AND = {
					culture_group = germanic
					is_romanized_germanic_trigger = no
				}
				culture = french
				culture = occitan
				culture = arpitan
				liege_before_war = { 
					OR = {
						AND = {
							culture_group = germanic
							is_romanized_germanic_trigger = no
						}
						culture = french
						culture = occitan
						culture = arpitan
					}
				}
			}
		}
	}
}

is_celtic_controlled_trigger = {
	holder_scope = {
		top_liege = { 
			culture_group = celtic
			is_roman_ruler_trigger = no
		}
	}
}

is_celtic_pagan_trigger = {
	OR = {
		religion = briton_pagan
		religion = briton_pagan_reformed
		religion = pict_pagan
		religion = pict_pagan_reformed
		religion = gael_pagan
		religion = gael_pagan_reformed
	}
}

is_germanic_pagan_trigger = {
	OR = {
		religion = norse_pagan
		religion = norse_pagan_reformed
		religion = germanic_pagan
		religion = germanic_pagan_reformed
		religion = frankish_pagan
		religion = frankish_pagan_reformed
		religion = suebic_pagan
		religion = suebic_pagan_reformed
		religion = gothic_pagan
		religion = gothic_pagan_reformed
	}
}

is_catholic_heresy_trigger = {
	OR = {
		religion = pelagian
		religion = nestorian
		religion = priscillian
	}
}

is_gnostic_religion_trigger = {
	OR = {
		religion = manichean
		religion = gnostic
		religion = priscillian
	}
}

is_roman_pagan_or_reformed_trigger = {
	OR = {
		religion = roman_pagan
		religion = roman_pagan_reformed
		religion = sol_invictus
	}
}

has_theocratic_religion_head_trigger = {
	OR = {
		religion_group = christian
		religion_group = gnostic_group
		religion = sol_invictus
		religion = alan_pagan_reformed
		religion = tengri_pagan_reformed
		religion = vasconic_pagan_reformed
	}
}

is_jewish_settlement_region_trigger = {
	region = world_gaul
}

is_catholic_spread_blocked_trigger = {
	OR = {
		AND = {
			culture = proto_norse
			NOT = { year = 700 }
		}
		AND = {
			culture_group = germanic
			NOT = { year = 650 }
			region = world_germania
			NOR = { 
				region = world_germania_saxony_westphalia
				region = world_hamaland_salland
				region = world_bructeria
				region = custom_frisia 
			}
		}
	}
	NOR = {
		owner = {
			OR = {
				religion = catholic
				any_liege = {
					religion = catholic
				}
			}
		}
		any_neighbor_province = {
			OR = {	
				religion = catholic
				owner = {
					OR = {
						religion = catholic
						any_liege = {
							religion = catholic
						}
					}
				}
			}
		}
	}
}

is_isolated_island_trigger = {
	OR = {
		region = world_britannia_cymry_henogledd_ynysmanaw
		region = world_outer_hebrides
		region = world_shetland
		region = world_lyonesse
		region = world_gotland
	}
}

is_in_british_isles_trigger = {
	OR = {
		region = world_britannia
		region = world_caledonia
		region = world_ireland
	}
}

is_romanized_government_trigger = {
	OR = {
		government = sub_roman_government
		government = sub_roman_brythonic_government
		government = imperial_government
	}
}

is_romanized_or_germanic_government_trigger = {
	OR = {
		government = sub_roman_government
		government = sub_roman_brythonic_government
		government = imperial_government
		government = germanic_government
	}
}

is_wrong_pagan_religion_trigger = {
	OR = {
		AND = {
			is_brythonic_culture_trigger = yes
			NOR = {
				religion = briton_pagan 
				religion = briton_pagan_reformed
			}
		}
		AND = {
			culture = pictish
			NOR = {
				religion = pict_pagan
				religion = pict_pagan_reformed
			}
		}			
		AND = {
			is_gaelic_culture_trigger = yes
			NOR = { 			
				religion = gael_pagan
				religion = gael_pagan_reformed
			}
		}
		AND = {
			is_north_germanic_trigger = yes
			NOR = {		
				religion = norse_pagan
				religion = norse_pagan_reformed
			}
		}
		AND = {
			is_ingvaeonic_culture_trigger = yes
			NOR = {		
				religion = germanic_pagan
				religion = germanic_pagan_reformed
			}
		}
		AND = {
			is_istvaeonic_culture_trigger = yes
			NOR = {		
				religion = frankish_pagan
				religion = frankish_pagan_reformed
			}
		}
		AND = {
			is_irminonic_culture_trigger = yes
			NOR = {		
				religion = suebic_pagan
				religion = suebic_pagan_reformed
			}
		}
		AND = {
			is_east_germanic_trigger = yes
			NOR = {		
				religion = gothic_pagan
				religion = gothic_pagan_reformed
			}
		}
		is_roman_pagan_culture_trigger = yes
		AND = {
			culture_group = sarmatian
			NOR = {		
				religion = alan_pagan 
				religion = alan_pagan_reformed
			}
		}
		AND = {
			culture_group = altaic
			NOR = {		
				religion = tengri_pagan 
				religion = tengri_pagan_reformed
			}
		}
		AND = {
			culture_group = basque
			NOR = {		
				religion = vasconic_pagan 
				religion = vasconic_pagan_reformed
			}
		}
		culture_group = israelite
	}
}

is_wrong_secret_pagan_religion_trigger = {
	OR = {
		AND = {
			is_brythonic_culture_trigger = yes
			NOR = {
				secret_religion = briton_pagan 
				secret_religion = briton_pagan_reformed
			}
		}
		AND = {
			culture = pictish
			NOR = {
				secret_religion = pict_pagan
				secret_religion = pict_pagan_reformed
			}
		}			
		AND = {
			is_gaelic_culture_trigger = yes
			NOR = { 			
				secret_religion = gael_pagan
				secret_religion = gael_pagan_reformed
			}
		}
		AND = {
			is_north_germanic_trigger = yes
			NOR = {		
				secret_religion = norse_pagan
				secret_religion = norse_pagan_reformed
			}
		}
		AND = {
			is_ingvaeonic_culture_trigger = yes
			NOR = {		
				secret_religion = germanic_pagan
				secret_religion = germanic_pagan_reformed
			}
		}
		AND = {
			is_istvaeonic_culture_trigger = yes
			NOR = {		
				secret_religion = frankish_pagan
				secret_religion = frankish_pagan_reformed
			}
		}
		AND = {
			is_irminonic_culture_trigger = yes
			NOR = {		
				secret_religion = suebic_pagan
				secret_religion = suebic_pagan_reformed
			}
		}
		AND = {
			is_east_germanic_trigger = yes
			NOR = {		
				secret_religion = gothic_pagan
				secret_religion = gothic_pagan_reformed
			}
		}
		is_roman_pagan_culture_trigger = yes
		AND = {
			culture_group = sarmatian
			NOR = {		
				secret_religion = alan_pagan 
				secret_religion = alan_pagan_reformed
			}
		}
		AND = {
			culture_group = altaic
			NOR = {		
				secret_religion = tengri_pagan 
				secret_religion = tengri_pagan_reformed
			}
		}
		AND = {
			culture_group = basque
			NOR = {		
				secret_religion = vasconic_pagan 
				secret_religion = vasconic_pagan_reformed
			}
		}
		culture_group = israelite
	}
}

is_same_default_pagan_religion_as_ROOT = {
	OR = {
		AND = {
			is_brythonic_culture_trigger = yes
			ROOT = { is_brythonic_culture_trigger = yes }
		}
		AND = {
			culture = pictish
			ROOT = { culture = pictish }
		}			
		AND = {
			is_gaelic_culture_trigger = yes
			ROOT = { is_gaelic_culture_trigger = yes }
		}
		AND = {
			is_north_germanic_trigger = yes
			ROOT = { is_north_germanic_trigger = yes }
		}
		AND = {
			is_ingvaeonic_culture_trigger = yes
			ROOT = { is_brythonic_culture_trigger = yes }
		}
		AND = {
			is_istvaeonic_culture_trigger = yes
			ROOT = { is_istvaeonic_culture_trigger = yes }
		}
		AND = {
			is_irminonic_culture_trigger = yes
			ROOT = { is_irminonic_culture_trigger = yes }
		}
		AND = {
			is_east_germanic_trigger = yes
			ROOT = { is_east_germanic_trigger = yes }
		}
		AND = {
			is_roman_pagan_culture_trigger = yes
			ROOT = { is_roman_pagan_culture_trigger = yes }
		}
		AND = {
			culture_group = sarmatian
			ROOT = { culture_group = sarmatian }
		}
		AND = {
			culture_group = altaic
			ROOT = { culture_group = altaic }
		}
		AND = {
			culture_group = basque
			ROOT = { culture_group = basque }
		}
		AND = {
			culture_group = israelite
			ROOT = { culture_group = israelite }
		}
	}
}

can_conquer_anglosaxon_trigger = {		# Assumes ROOT is independent
	holder_scope = {
		top_liege = {
			NOR = {
				character = ROOT
				reverse_has_truce = ROOT
				is_ingvaeonic_culture_trigger = yes
			}
		}
	}
	location = {
		any_neighbor_province = {
			owner = {
				OR = {
					character = ROOT
					is_liege_or_above = ROOT
				}
			}
		}
	}
}

has_truce_with_owner_trigger = {		# Assumes ROOT is independent
	holder_scope = {
		top_liege = {
			reverse_has_truce = ROOT
		}
	}
}

is_ROOT_liege_or_above_title_trigger = {
	holder_scope = {
		OR = {
			character = ROOT
			is_liege_or_above = ROOT
		}
	}
}

is_normal_seasons_trigger = {
	OR = {
		NOT = { has_global_flag = late_antique_little_ice_age_started }
		AND = {
			has_global_flag = late_antique_little_ice_age_ended
			NOT = { has_global_flag = medieval_warm_period_started }
		}
	}
}

has_tribal_modifier = {
	OR = {
		has_character_modifier = tribal_modifier_0
		has_character_modifier = tribal_modifier_1
		has_character_modifier = tribal_modifier_2
		has_character_modifier = tribal_modifier_3
		has_character_modifier = tribal_modifier_4
		has_character_modifier = tribal_modifier_5
		has_character_modifier = tribal_modifier_6
		has_character_modifier = tribal_modifier_7
		has_character_modifier = tribal_modifier_8
		has_character_modifier = tribal_modifier_9
		has_character_modifier = tribal_modifier_10
		has_character_modifier = tribal_modifier_11
		has_character_modifier = tribal_modifier_12
		has_character_modifier = tribal_modifier_13
		has_character_modifier = tribal_modifier_14
		has_character_modifier = tribal_modifier_15
		has_character_modifier = tribal_modifier_16
		has_character_modifier = tribal_modifier_17
		has_character_modifier = tribal_modifier_18
		has_character_modifier = tribal_modifier_19
		has_character_modifier = tribal_modifier_20
		has_character_modifier = tribal_modifier_-1
		has_character_modifier = tribal_modifier_-2
		has_character_modifier = tribal_modifier_-3
		has_character_modifier = tribal_modifier_-4
		has_character_modifier = tribal_modifier_-5
		has_character_modifier = tribal_modifier_-6
		has_character_modifier = tribal_modifier_-7
		has_character_modifier = tribal_modifier_-8
		has_character_modifier = tribal_modifier_-9
		has_character_modifier = tribal_modifier_-10
		has_character_modifier = tribal_modifier_-11
		has_character_modifier = tribal_modifier_-12
		has_character_modifier = tribal_modifier_-13
		has_character_modifier = tribal_modifier_-14
		has_character_modifier = tribal_modifier_-15
	}
}

frankish_invasion_gaul_event_trigger_with_neighbour_condition = {
	year = 475
	NOT = { year = 510 }
	is_frankish_culture_trigger = yes
	OR = {
		has_landed_title = k_franks
		has_landed_title = k_ripuarian_franks
	}
	k_gaul = {
		holder_scope = {
			is_frankish_culture_trigger = no
			NOT = {
				reverse_has_truce = ROOT
			}
		}
	}
	NOT = { has_global_flag = neustria_created }
	NOT = { 
		ROOT = { 
			has_character_modifier = friendly_with_romans 
		} 
	}
	OR = {
		year = 500
		has_global_flag = frankish_kingdoms_united
	}
	OR = {
		NOT = { has_global_flag = frankish_war_480 }
		had_global_flag = { flag = frankish_war_480 days = 2555 }
	}	
}

is_angeln_migration_province_trigger = {
	owner = {
		top_liege = {
			OR = {
				has_landed_title = k_angeln
				AND = {
					has_landed_title = d_angeln
					k_angeln = { has_holder = no }
				}
				AND = {
					ai = yes
					culture = angle
					capital_scope = {
						OR = {
							region = world_germania_jutland
							region = world_germania_angeln
						}
					}
				}
			}
		}
	}
}

# For landless titles that aren't religious heads, mercenaries, etc. - normal but offmap titles
is_landless_normal_title_trigger = {
	OR = {
		title = e_western_roman_empire
		title = e_eastern_roman_empire
		title = k_ostrogoths
	}
}

is_gothic_controlled_trigger = {
	holder_scope = {
		top_liege = {
			OR = {
				is_gothic_ruler_trigger = yes
				AND = {
					in_revolt = yes
					liege_before_war = {
						is_gothic_ruler_trigger = yes
					}
				}
			}
		}
	}
}

is_gothic_ruler_trigger = {
	OR = {
		culture = visigoth
		culture = ostrogoth
		has_landed_title = k_visigoths
		has_landed_title = k_ostrogoths
		AND = {
			has_landed_title = e_visigoths
			OR = {
				e_visigoths = { has_title_flag = empire_claimed_visigoths }
				e_visigoths = { has_title_flag = empire_claimed_ostrogoths }
			}
		}				
	}
}