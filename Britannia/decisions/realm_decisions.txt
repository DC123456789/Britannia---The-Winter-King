decisions = {

	remove_plague_laws = {
		only_rulers = yes
		is_high_prio = yes
		potential = {
			is_ruler = yes
			any_demesne_province = {
				has_province_modifier = plague_prevention
			}
		}
		allow = {
			any_demesne_province = {
				has_province_modifier = plague_prevention
			}
		}
		effect = {
			random_demesne_province = {
				limit = {
					has_province_modifier = plague_prevention
				}
				remove_province_modifier = plague_prevention
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.2
				always = yes
			}
			modifier = {
				factor = 0
				any_demesne_province = {
					disease = bubonic_plague
				}
			}
			modifier = {
				factor = 2
				year = 550
			}
			modifier = {
				factor = 2
				NOT = {
					scaled_wealth = 2.0
				}
			}
		}
	}
	
	estabilish_mediterranean_trade = {
		only_rulers = yes
		is_high_prio = yes
		potential = {
			is_tribal = no
			is_ruler = yes
			is_adult = yes
			war = no
			NOT = {
				has_character_flag = mediterranean_trader
			}
			NOT = {
				any_demesne_province = {
					has_province_modifier = mediterranean_trade_port
				}
			}
			NOT = {
				any_demesne_province = {
					has_province_flag = mediterranean_trade_port_start
				}
			}
			any_demesne_province = {
				port = yes
				NOT = { has_province_flag = mediterranean_trade_port_start }
			}
			NOR = {
				culture = pictish
				AND = {
					is_ingvaeonic_culture_trigger = yes
					NOT = { higher_tier_than = DUKE }
				}
			}
		}
		allow = {
			prestige = 350
			stewardship = 15
			diplomacy = 12
			realm_stewardship = 25
			realm_diplomacy = 25
			wealth = 250
			NOR = {
				trait = shy
				trait = uneducated
				trait = slow
				trait = incapable
				trait = imbecile
			}
		}
		effect = {
			wealth = -250
			set_character_flag = mediterranean_trader
			character_event = { id = 312950 days = 1 }
			random_demesne_province = {
				limit = {
					port = yes
					NOT = { has_province_modifier = mediterranean_trade_port }
					NOT = { has_province_flag = mediterranean_trade_port_start }
				}
				set_province_flag = mediterranean_trade_port_start
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	abdicate = {
		only_playable = yes
		potential = {
			ai = no
			any_dynasty_member = {
				is_primary_heir = yes
				OR = {
					is_female = no
					ROOT = {
						primary_title = { 
							has_law = true_cognatic_succession
						}
					}
				}
			}
		}
		allow = {
			NOT = { has_character_flag = wants_to_abdicate }
			current_heir = {
				dynasty = ROOT
				age = 15
				prisoner = no
				NOT = { trait = incapable }
				NOT = { trait = unloyal }
				reverse_opinion = { who = ROOT value = 75 }
			}
			primary_title = { 
				has_feudal_elective_succession_law = no
			}
			NOT = { trait = incapable }
			NOT = { trait = ambitious }
			NOT = { trait = proud }
			OR = {
				ruled_years = 20
				AND = {
					ruled_years = 10
					age = 60
				}
				trait = content
				trait = depressed
				trait = stressed
				trait = infirm
			}
		}
		effect = {
			set_character_flag = wants_to_abdicate
			any_dynasty_member = {
				limit = { is_primary_heir = ROOT }
				character_event = { id = 123321 }
			}
		}
		ai_will_do = {
			factor = 0
		}
	}
	
	demand_liege_title = {
		only_playable = yes
		is_high_prio = yes
		potential = {
			ai = no
			is_playable = yes
			has_ambition = obj_gain_any_title
			liege = {
				NOT = { character = ROOT }
			}
			is_adult = yes
			prisoner = no
			NOT = { trait = incapable }
		}
		allow = {
			prestige = 60
			liege = {
				has_regent = no
				NOT = { has_opinion_modifier = { who = ROOT modifier = requested_land } }
				demesne_size = 3
				any_demesne_title = {
					can_be_given_away = yes
					tier = COUNT
					NOT = { location = { is_capital = yes } }
				}
			}
		}
		effect = {
			prestige = -60
			liege = {
				opinion = {
					who = ROOT
					years = 2
					modifier = requested_land
				}
				random_demesne_title = {
					limit = {
						can_be_given_away = yes
						tier = COUNT
						NOT = { location = { is_capital = yes } }
					}
					save_event_target_as = vassal_wanted_title
				}
			}
			custom_tooltip = {
				text = demand_liege_title_tooltip
				hidden_tooltip = { liege = { letter_event = { id = 63041 days = 4 } } } # "vassal_request_events.txt"
			}
		}
		ai_will_do = {
			factor = 0 # The AI is limited to the similar event 63040
		}
	}
	
	petition_doge_for_tp = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 6
		potential = {
			is_playable = yes
			is_merchant_republic = no
			is_patrician = yes
			liege = { is_merchant_republic = yes }
			NOT = { has_character_flag = petition_doge_for_tp_taken }
			OR = {
				liege = {
					any_vassal = {
						is_patrician = yes
						num_of_trade_post_diff = {
							character = ROOT
							value = 10
						}
					}
				}
				AND = {
					NOT = { num_of_trade_posts = 1 }
					liege = {
						any_vassal = {
							is_patrician = yes
							num_of_trade_posts = 10
						}
					}
				}
			}
		}
		allow = {
			liege = {
				opinion = {
					who = ROOT
					value = 25
				}
			}
		}
		effect = {
			set_character_flag = petition_doge_for_tp_taken
			liege = {
				letter_event = { id = REP.500 days = 5 tooltip = EVTTOOLTIP_REP_500 }
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	usurp_tp = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 6
		potential = {
			is_playable = yes
			is_merchant_republic = yes
			is_patrician = yes
			NOT = { has_character_flag = usurp_tp_taken }
			OR = {
				any_vassal = {
					is_patrician = yes
					num_of_trade_post_diff = {
						character = ROOT
						value = 10
					}
				}
				AND = {
					NOT = { num_of_trade_posts = 1 }
					any_vassal = {
						is_patrician = yes
						num_of_trade_posts = 10
					}
				}
			}
		}
		allow = {
			is_merchant_republic = yes
		}
		effect = {
			set_character_flag = usurp_tp_taken
			if = {
				limit = {
					num_of_trade_posts = 1
					any_vassal = {
						is_patrician = yes
						num_of_trade_post_diff = {
							character = ROOT
							value = 10
						}
					}
				}
				random_vassal = {
					limit = {
						is_patrician = yes
						num_of_trade_post_diff = {
							character = ROOT
							value = 10
						}
					}
					set_character_flag = target_patrician_doge
					letter_event = { id = REP.510 days = 5 tooltip = EVTTOOLTIP_REP_510 }
				}
			}
			if = {
				limit = {
					NOT = { num_of_trade_posts = 1 }
					any_vassal = {
						is_patrician = yes
						num_of_trade_posts = 10
					}
				}
				random_vassal = {
					limit = {
						is_patrician = yes
						num_of_trade_posts = 10
					}
					set_character_flag = target_patrician_doge
					letter_event = { id = REP.510 days = 5 tooltip = EVTTOOLTIP_REP_510 }
				}
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
	
	welcome_jews = {
		only_playable = yes
		ai_check_interval = 6
		
		potential = {
			#has_dlc = "Sons of Abraham"
			is_playable = yes
			NOR = {
				religion_group = jewish_group 
				has_character_modifier = expelled_jews_timer
			}
			has_character_modifier = expelled_jewish
			NOT = {
				government = order_government
			}
		}
		allow = {
			has_character_modifier = expelled_jewish
		}
		effect = {
			scaled_wealth = -0.5
			prestige = 50
			remove_character_modifier = expelled_jewish
			if = {
				limit = {
					NOT = { trait = zealous }
					NOT = { trait = tolerant }
				}
				random = {
					chance = 30
					add_trait = tolerant
				}
			}
			custom_tooltip = {
				text = jews_are_welcome
			}
			hidden_tooltip = {
				character_event = { id = SoA.106 }
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0.5 # Less likely to do it
			}
			modifier = {
				factor = 0
				trait = zealous
			}
		}
	}
	
	expel_jews = {
		only_independent = yes
		ai_check_interval = 60
		
		potential = {
			has_dlc = "Sons of Abraham"
			is_playable = yes
			OR = {
				AND = {
					independent = yes
					primary_title = { higher_tier_than = DUKE }
				}
				ai = no            # So that it shows on player's list anyway
			}
			capital_scope = {
				is_jewish_settlement_region_trigger = yes
			}
			NOR = {
				religion_group = jewish_group
				religion = manichean
				has_character_modifier = expelled_jewish
				is_nomadic = yes
				secret_religion = jewish
			}
			age = 15
			NOT = {
				has_character_flag = currently_considering_expelling_jews
			}
			NOT = {
				government = order_government
			}
		}
		allow = {
			independent = yes
			primary_title = { higher_tier_than = DUKE }
			is_feudal = yes
			conditional_tooltip = {
				trigger = {
					any_realm_province = {
						religion_group = jewish_group
					}
				}
				NOT = { 
					any_realm_province = { 
						religion_group = jewish_group 
					} 
				}
			}
			conditional_tooltip = {
				trigger = {
					any_realm_lord = {
						religion_group = jewish_group
					}
				}
				NOT = { 
					any_realm_lord = { 
						religion_group = jewish_group 
					} 
				}
			}
			conditional_tooltip = {
				trigger = {
					has_character_flag = epidemic_blame_game
				}

				custom_tooltip = {
					text = cannot_expel_jews_during_blame_game_chain_TT

					always = no
				}
			}
			prisoner = no
			NOT = { trait = incapable }
			custom_tooltip = {
				text = NOT_DESCENDANT_OF_A_JEWISH_SAINT	
				hidden_trigger = {
					NOT = { 
						any_owned_bloodline = {
							has_bloodline_flag = jewish_saintly_bloodline
						}
					}
				}
			}
			prisoner = no
			NOT = { trait = incapable }
		}
		effect = {
			prestige = -100
			if = {
				limit = { religion_group = christian }
				piety = -50
			}
			scaled_wealth = 1
			banish_religion = jewish
			#if = {
			#	limit = { trait = sympathy_judaism }
			#	remove_trait = sympathy_judaism
			#}
			if = {
				limit = {
					NOT = { trait = arbitrary }
					has_character_modifier = borrowed_from_jews
				}
				add_trait = arbitrary
			}
			if = {
				limit = { has_character_modifier = borrowed_from_jews }
				remove_character_modifier = borrowed_from_jews
			}
			add_character_modifier = {
				name = expelled_jewish
				duration = -1
				inherit = yes
			}
			custom_tooltip = {
				text = jews_are_expelled
			}
			hidden_tooltip = {
				character_event = { id = SoA.105 }
				add_character_modifier = {
					name = expelled_jews_timer
					duration = 7300
					hidden = yes
				}
			}
			any_friend = {
				limit = { religion_group = jewish_group }
				remove_friend = ROOT
			}
		}
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0.025 # Less likely to do it
			}
			modifier = {
				factor = 0
				any_courtier = {
					religion_group = jewish_group
					reverse_opinion = { who = ROOT value = 20 }
				}
			}
			modifier = {
				factor = 0
				any_friend = {
					religion_group = jewish_group
				}
			}
			modifier = {
				factor = 0
				any_spouse = {
					religion_group = jewish_group
				}
			}
			modifier = {
				factor = 0
				any_child = {
					religion_group = jewish_group
				}
			}
			modifier = {
				factor = 0
				trait = kind
			}
			modifier = {
				factor = 0
				trait = just
				has_character_modifier = borrowed_from_jews
			}
			modifier = {
				factor = 1.2
				trait = zealous
				trait = arbitrary
			}
			modifier = {
				factor = 2
				has_character_modifier = borrowed_from_jews
				trait = greedy
			}
		}
	}
	
	# Hold Wargames - for nomads
	hold_nomad_wargames = {
		only_playable = yes
		ai_check_interval = 4
		
		potential = {
			is_playable = yes
			is_nomadic = yes
			NOT = { has_character_modifier = holding_nomad_wargames }
			NOT = { has_character_modifier = held_nomad_wargames }
		}
		allow = {
			is_adult = yes
			prisoner = no
			NOT = { trait = incapable }
			NOT = { is_inaccessible_trigger = yes }
			war = no
			any_demesne_title = {
				NOT = { higher_tier_than = count }
				is_occupied = no
			}
			wealth = 20
			prestige = 100
			custom_tooltip = {
				text = is_not_busy_trigger_tooltip
				hidden_tooltip = { NOT = { has_character_flag = do_not_disturb } }
			}
		}
		effect = {
			wealth = -30
			add_character_modifier = {
				name = holding_nomad_wargames
				duration = -1
			}
			set_character_flag = recent_minor_decision
			set_character_flag = do_not_disturb
			hidden_tooltip = { character_event = { id = HL.7000 } }
		}
		revoke_allowed = {
			always = no
		}
		ai_will_do = {
			factor = 0.4
			modifier = {
				factor = 0
				NOT = {
					wealth = 200
				}
			}
			modifier = {
				factor = 2
				current_heir = {
					dynasty = ROOT
					combat_rating = 70
				}
			}
			modifier = {
				factor = 0.5
				NOT = { martial = 10 }
			}	
			modifier = {
				factor = 0
				has_character_flag = recent_minor_decision
				NOT = {
					had_character_flag = {
						flag = recent_minor_decision
						days = 730
					}
				}
			}	
		}
	}
	
	convert_to_feudalism_indep = {
		only_rulers = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			government = high_tribal_government
			OR = {
				independent = yes
				trait = foederate
			}
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			primary_title = { has_law = tribal_organization_6 }
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					NOT = { religion_group = muslim }
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_FEUDALISM
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = feudal_government
			}
			
			if = {
				limit = {
					religion_group = muslim
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_IQTA
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = muslim_government
			}
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
			
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.3
				always = yes
			}
			modifier = {
				factor = 0.1
				is_ingvaeonic_culture_trigger = yes
				NOT = { year = 550 }
			}
			modifier = {
				factor = 0
				OR = {
					is_roman_culture_trigger = yes
					is_romanized_germanic_trigger = yes
					is_semiromanized_germanic_culture_trigger = yes
					AND = {
						OR = {
							is_semiromanized_nongermanic_culture_trigger = yes
							primary_title = { 
								has_law = centralization_4
								OR = {
									NOT = { has_dlc = "Conclave" }
									AND = {
										has_law = tribal_contract_3
										has_law = tribal_tax_3
									}
								}
								OR = {
									has_dlc = "Conclave"
									AND = {
										has_law = revoke_title_law_1
										has_law = revoke_title_voting_power_0
										has_law = imprison_voting_power_0
										has_law = grant_title_voting_power_0
										has_law = succession_voting_power_0
									}
								}
							}
						}
						OR = {
							any_realm_lord = {
								is_romanized_government_trigger = yes
							}
							any_realm_province = {
								is_roman_culture_trigger = yes
							}
							any_realm_province = {
								any_neighbor_province = {
									owner = {
										NOR = {
											character = ROOT
											any_liege = { character = ROOT }
										}
										OR = {
											is_romanized_government_trigger = yes
											any_liege = { is_romanized_government_trigger = yes }
										}
									}
								}
							}
							AND = {
								culture_group = germanic
								OR = {
									any_realm_lord = {
										is_romanized_or_germanic_government_trigger = yes
									}
									any_realm_province = {
										OR = {
											culture_group = imperiale
											culture = romanobritish
										}
									}
									any_realm_province = {
										any_neighbor_province = {
											owner = {
												NOR = {
													character = ROOT
													any_liege = { character = ROOT }
												}
												OR = {
													is_romanized_or_germanic_government_trigger = yes
													any_liege = { is_romanized_or_germanic_government_trigger = yes }
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	convert_to_feudalism_vassal = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			is_ruler = yes
			is_tribal = yes
			independent = no
			NOT = { trait = foederate }
			is_landed = yes
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			liege = {
				OR = {
					is_feudal = yes
					is_republic = yes
					AND = {
						is_theocracy = yes
						custom_tooltip = {
							text = TT_NOT_UNREFORMED_PAGAN
							hidden_tooltip = {
								OR = {
									NOT = { religion_group = pagan_group }
									is_reformed_religion = yes
								}
							}
						}
					}
				}
			}
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					NOT = { religion_group = muslim }
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_FEUDALISM
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = feudal_government
			}
			
			if = {
				limit = {
					religion_group = muslim
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_IQTA
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = muslim_government
			}
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
			
			hidden_tooltip = {				
				liege = {
					character_event = { id = 55100 } # Notify Liege
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				liege = {
					OR = {
						NOT = { religion_group = ROOT }
						AND = {
							religion_group = pagan_group
							NOT = { religion = ROOT }
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				liege = {
					NOT = { culture_group = ROOT }
				}
			}
			
			modifier = {
				factor = 0.1
				liege = {
					religion_group = ROOT
					NOR = { 
						religion_group = pagan_group
						religion = ROOT 
					}
				}
			}
			modifier = {
				factor = 0
				OR = {
					is_roman_culture_trigger = yes
					is_romanized_germanic_trigger = yes
					is_semiromanized_germanic_culture_trigger = yes
					any_liege = {
						is_romanized_government_trigger = yes
					}
					AND = {
						culture_group = germanic
						any_liege = {
							is_romanized_or_germanic_government_trigger = yes
						}
					}
					AND = {
						OR = {
							is_semiromanized_nongermanic_culture_trigger = yes
							is_romanized_germanic_trigger = yes
						}
						OR = {
							any_realm_lord = {
								is_romanized_government_trigger = yes
							}
							any_realm_province = {
								is_roman_culture_trigger = yes
							}
							any_realm_province = {
								any_neighbor_province = {
									owner = {
										NOT = {
											same_realm = ROOT
										}
										OR = {
											is_romanized_government_trigger = yes
											any_liege = { is_romanized_government_trigger = yes }
										}
									}
								}
							}
						}
					}
					AND = {
						culture_group = germanic
						OR = {
							any_realm_lord = {
								is_romanized_or_germanic_government_trigger = yes
							}
							any_realm_province = {
								is_roman_culture_trigger = yes
							}
							any_realm_province = {
								any_neighbor_province = {
									owner = {
										NOT = {
											same_realm = ROOT
										}
										OR = {
											is_romanized_or_germanic_government_trigger = yes
											any_liege = { is_romanized_or_germanic_government_trigger = yes }
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
	
	convert_to_sub_roman_indep_romanized = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			government = high_tribal_government
			OR = {
				independent = yes
				trait = foederate
			}
			OR = {
				is_roman_culture_trigger = yes
				is_semiromanized_nongermanic_culture_trigger = yes
				is_romanized_germanic_trigger = yes
			}
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			primary_title = { has_law = tribal_organization_6 }
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
			OR = {
				is_roman_culture_trigger = yes
				is_romanized_germanic_trigger = yes
				any_realm_lord = {
					is_romanized_government_trigger = yes
				}
				any_realm_province = {
					OR = {
						culture_group = imperiale
						culture = romanobritish
					}
				}
				custom_tooltip = {
					text = any_neighbouring_romanized_government
					hidden_tooltip = {
						any_realm_province = {
							any_neighbor_province = {
								owner = {
									NOR = {
										character = ROOT
										any_liege = { character = ROOT }
									}
									OR = {
										is_romanized_government_trigger = yes
										any_liege = { is_romanized_government_trigger = yes }
									}
								}
							}
						}
					}
				}
			}
		}
		
		effect = {			
			if = {
				limit = {
					NOR = {
						culture_group = celtic
						capital_scope = {
							OR = {
								region = world_britannia
								region = world_caledonia
								region = world_ireland
							}
						}
					}
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_SUB_ROMAN
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = sub_roman_government
			}
			
			if = {
				limit = {
					OR = {
						culture_group = celtic
						capital_scope = {
							OR = {
								region = world_britannia
								region = world_caledonia
								region = world_ireland
							}
						}
					}
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_SUB_ROMAN_BRYTHONIC
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = sub_roman_brythonic_government
			}
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
			
		}
		
		ai_will_do = {
			factor = 2
		}
	}
	
	convert_to_sub_roman_indep_nonromanized = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			government = high_tribal_government
			OR = {
				independent = yes
				trait = foederate
			}
			NOR = {
				is_roman_culture_trigger = yes
				is_semiromanized_nongermanic_culture_trigger = yes
				is_romanized_germanic_trigger = yes
				culture_group = germanic			# Reforms into Germanic government
				culture_group = romance
			}
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			primary_title = { has_law = tribal_organization_6 }
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
			primary_title = { 
				has_law = centralization_4
				conditional_tooltip = {
					trigger = {
						NOT = { has_dlc = "Conclave" }
					}
					has_law = tribal_contract_3
					has_law = tribal_tax_3
				}
				conditional_tooltip = {
					trigger = {
						has_dlc = "Conclave"
					}
					has_law = revoke_title_law_1
					has_law = revoke_title_voting_power_0
					has_law = imprison_voting_power_0
					has_law = grant_title_voting_power_0
					has_law = succession_voting_power_0
				}
			}
			OR = {
				any_realm_lord = {
					is_romanized_government_trigger = yes
				}
				any_realm_province = {
					OR = {
						culture_group = imperiale
						culture = romanobritish
					}
				}
				custom_tooltip = {
					text = any_neighbouring_romanized_government
					hidden_tooltip = {
						any_realm_province = {
							any_neighbor_province = {
								owner = {
									NOR = {
										character = ROOT
										any_liege = { character = ROOT }
									}
									OR = {
										is_romanized_government_trigger = yes
										any_liege = { is_romanized_government_trigger = yes }
									}
								}
							}
						}
					}
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					NOR = {
						culture_group = celtic
						capital_scope = {
							OR = {
								region = world_britannia
								region = world_caledonia
								region = world_ireland
							}
						}
					}
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_SUB_ROMAN
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = sub_roman_government
			}
			
			if = {
				limit = {
					OR = {
						culture_group = celtic
						capital_scope = {
							OR = {
								region = world_britannia
								region = world_caledonia
								region = world_ireland
							}
						}
					}
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_SUB_ROMAN_BRYTHONIC
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = sub_roman_brythonic_government
			}
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
			
		}
		
		ai_will_do = {
			factor = 2
		}
	}
	
	convert_to_sub_roman_vassal = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			is_ruler = yes
			is_tribal = yes
			independent = no
			NOT = { trait = foederate }
			is_landed = yes
			OR = {
				is_roman_culture_trigger = yes
				is_semiromanized_nongermanic_culture_trigger = yes
				is_romanized_germanic_trigger = yes
				liege = {
					is_romanized_government_trigger = yes
				}
			}
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			liege = {
				OR = {
					is_feudal = yes
					is_republic = yes
					AND = {
						is_theocracy = yes
						custom_tooltip = {
							text = TT_NOT_UNREFORMED_PAGAN
							hidden_tooltip = {
								OR = {
									NOT = { religion_group = pagan_group }
									is_reformed_religion = yes
								}
							}
						}
					}
				}
			}
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
			OR = {
				is_roman_culture_trigger = yes
				is_romanized_germanic_trigger = yes
				any_liege = {
					is_romanized_government_trigger = yes
				}
				any_realm_lord = {
					is_romanized_government_trigger = yes
				}
				any_realm_province = {
					OR = {
						culture_group = imperiale
						culture = romanobritish
					}
				}
				custom_tooltip = {
					text = any_neighbouring_romanized_government
					hidden_tooltip = {
						any_realm_province = {
							any_neighbor_province = {
								owner = {
									NOT = {
										same_realm = ROOT
									}
									OR = {
										is_romanized_government_trigger = yes
										any_liege = { is_romanized_government_trigger = yes }
									}
								}
							}
						}
					}
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					NOR = {
						culture_group = celtic
						capital_scope = {
							OR = {
								region = world_britannia
								region = world_caledonia
								region = world_ireland
							}
						}
					}
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_SUB_ROMAN
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = sub_roman_government
			}
			
			if = {
				limit = {
					OR = {
						culture_group = celtic
						capital_scope = {
							OR = {
								region = world_britannia
								region = world_caledonia
								region = world_ireland
							}
						}
					}
				}
				
				if = {
					limit = {
						ai = no
					}
					chronicle = {
						entry = CHRONICLE_ADOPTED_SUB_ROMAN_BRYTHONIC
						picture = GFX_evt_castle_construction
					}
				}
				set_government_type = sub_roman_brythonic_government
			}
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
			
			hidden_tooltip = {				
				liege = {
					character_event = { id = 55100 } # Notify Liege
				}
			}
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.01
				liege = {
					OR = {
						NOT = { religion_group = ROOT }
						AND = {
							religion_group = pagan_group
							NOT = { religion = ROOT }
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				liege = {
					NOT = { culture_group = ROOT }
				}
			}
			
			modifier = {
				factor = 0.1
				liege = {
					religion_group = ROOT
					NOR = { 
						religion_group = pagan_group
						religion = ROOT 
					}
				}
			}
		}
	}
	
	convert_to_germanic_indep_romanized = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			government = high_tribal_government
			OR = {
				independent = yes
				trait = foederate
			}
			is_semiromanized_germanic_culture_trigger = yes
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			primary_title = { has_law = tribal_organization_6 }
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
			# OR = {
				# any_realm_lord = {
					# is_romanized_government_trigger = yes
				# }
				# any_realm_province = {
					# OR = {
						# culture_group = imperiale
						# culture = romanobritish
					# }
				# }
				# custom_tooltip = {
					# text = any_neighbouring_romanized_government
					# hidden_tooltip = {
						# any_realm_province = {
							# any_neighbor_province = {
								# owner = {
									# NOR = {
										# character = ROOT
										# any_liege = { character = ROOT }
									# }
									# OR = {
										# is_romanized_government_trigger = yes
										# any_liege = { is_romanized_government_trigger = yes }
									# }
								# }
							# }
						# }
					# }
				# }
			# }
		}
		
		effect = {
			if = {
				limit = {
					ai = no
				}
				chronicle = {
					entry = CHRONICLE_ADOPTED_GERMANIC
					picture = GFX_evt_castle_construction
				}
			}
			set_government_type = germanic_government
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
			
		}
		
		ai_will_do = {
			factor = 2
		}
	}
	
	convert_to_germanic_indep_nonromanized = {
		only_rulers = yes
		is_high_prio = yes
		potential = {
			government = high_tribal_government
			OR = {
				independent = yes
				trait = foederate
			}
			culture_group = germanic
			is_semiromanized_germanic_culture_trigger = no
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			primary_title = { has_law = tribal_organization_6 }
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
			primary_title = { 
				has_law = centralization_4
				conditional_tooltip = {
					trigger = {
						NOT = { has_dlc = "Conclave" }
					}
					has_law = tribal_contract_3
					has_law = tribal_tax_3
				}
				conditional_tooltip = {
					trigger = {
						has_dlc = "Conclave"
					}
					has_law = revoke_title_law_1
					has_law = revoke_title_voting_power_0
					has_law = imprison_voting_power_0
					has_law = grant_title_voting_power_0
					has_law = succession_voting_power_0
				}
			}
			OR = {
				any_realm_lord = {
					is_romanized_or_germanic_government_trigger = yes
				}
				any_realm_province = {
					OR = {
						culture_group = imperiale
						culture = romanobritish
					}
				}
				custom_tooltip = {
					text = any_neighbouring_romanized_or_germanic_government
					hidden_tooltip = {
						any_realm_province = {
							any_neighbor_province = {
								owner = {
									NOR = {
										character = ROOT
										any_liege = { character = ROOT }
									}
									OR = {
										is_romanized_or_germanic_government_trigger = yes
										any_liege = { is_romanized_or_germanic_government_trigger = yes }
									}
								}
							}
						}
					}
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					ai = no
				}
				chronicle = {
					entry = CHRONICLE_ADOPTED_GERMANIC
					picture = GFX_evt_castle_construction
				}
			}
			set_government_type = germanic_government
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.1
				is_ingvaeonic_culture_trigger = yes
				NOT = { year = 550 }
			}
		}
	}
	
	convert_to_germanic_vassal = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			is_ruler = yes
			is_tribal = yes
			independent = no
			NOT = { trait = foederate }
			is_landed = yes
			culture_group = germanic
			is_romanized_germanic_trigger = no
			OR = {
				is_semiromanized_germanic_culture_trigger = yes
				liege = {
					is_romanized_or_germanic_government_trigger = yes
				}
			}
		}
		allow = {
			war = no
			#custom_tooltip = {
			#	text = TT_NOT_UNREFORMED_PAGAN
			#	hidden_tooltip = {
			#		OR = {
			#			NOT = { religion_group = pagan_group }
			#			is_reformed_religion = yes
			#		}
			#	}
			#}
			liege = {
				OR = {
					is_feudal = yes
					is_republic = yes
					AND = {
						is_theocracy = yes
						custom_tooltip = {
							text = TT_NOT_UNREFORMED_PAGAN
							hidden_tooltip = {
								OR = {
									NOT = { religion_group = pagan_group }
									is_reformed_religion = yes
								}
							}
						}
					}
				}
			}
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						has_building = tb_hillfort_8
					}
					holding_type = castle
				}
			}
			OR = {
				is_semiromanized_germanic_culture_trigger = yes
				any_liege = {
					is_romanized_or_germanic_government_trigger = yes
				}
				any_realm_lord = {
					is_romanized_or_germanic_government_trigger = yes
				}
				any_realm_province = {
					OR = {
						culture_group = imperiale
						culture = romanobritish
					}
				}
				custom_tooltip = {
					text = any_neighbouring_romanized_or_germanic_government
					hidden_tooltip = {
						any_realm_province = {
							any_neighbor_province = {
								owner = {
									NOT = {
										same_realm = ROOT
									}
									OR = {
										is_romanized_or_germanic_government_trigger = yes
										any_liege = { is_romanized_or_germanic_government_trigger = yes }
									}
								}
							}
						}
					}
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					ai = no
				}
				chronicle = {
					entry = CHRONICLE_ADOPTED_GERMANIC
					picture = GFX_evt_castle_construction
				}
			}
			set_government_type = germanic_government
			
			any_demesne_title = {
				limit = {
					tier = baron
					holding_type = tribal
				}
				convert_tribal_holding_to_castle_effect = yes
			}
			
			hidden_tooltip = {				
				liege = {
					character_event = { id = 55100 } # Notify Liege
				}
			}
		}
		
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0.01
				liege = {
					OR = {
						NOT = { religion_group = ROOT }
						AND = {
							religion_group = pagan_group
							NOT = { religion = ROOT }
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				liege = {
					NOT = { culture_group = ROOT }
				}
			}
			
			modifier = {
				factor = 0.1
				liege = {
					religion_group = ROOT
					NOR = { 
						religion_group = pagan_group
						religion = ROOT 
					}
				}
			}
		}
	}
	
	convert_to_high_tribal_indep = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			government = tribal_government
			independent = yes
		}
		allow = {
			war = no
			primary_title = { has_law = tribal_organization_3 }
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						OR = {
							has_building = tb_hillfort_4
							has_building = tb_hillfort_5
							has_building = tb_hillfort_6
							has_building = tb_hillfort_7
							has_building = tb_hillfort_8
						}
					}
					holding_type = castle
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					ai = no
				}
				chronicle = {
					entry = CHRONICLE_ADOPTED_HIGH_TRIBALISM
					picture = GFX_evt_castle_construction
				}
			}
			
			set_government_type = high_tribal_government
			
			prestige = 100			
		}
		
		ai_will_do = {
			factor = 1
		}
	}
	
	convert_to_high_tribal_vassal = {
		only_playable = yes
		is_high_prio = yes
		ai_check_interval = 12
		
		potential = {
			is_ruler = yes
			government = tribal_government
			independent = no
			is_landed = yes
		}
		allow = {
			war = no
			liege = {
				OR = {
					is_feudal = yes
					is_republic = yes
					is_theocracy = yes
					government = high_tribal_government
				}
			}
			capital_holding = {
				OR = {
					AND = {
						holding_type = tribal
						OR = {
							has_building = tb_hillfort_4
							has_building = tb_hillfort_5
							has_building = tb_hillfort_6
							has_building = tb_hillfort_7
							has_building = tb_hillfort_8
						}
					}
					holding_type = castle
				}
			}
		}
		
		effect = {
			if = {
				limit = {
					ai = no
				}
				chronicle = {
					entry = CHRONICLE_ADOPTED_HIGH_TRIBALISM
					picture = GFX_evt_castle_construction
				}
			}
			
			set_government_type = high_tribal_government
			
			hidden_tooltip = {				
				liege = {
					character_event = { id = 55100 } # Notify Liege
				}
			}
		}
		
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0.01
				liege = {
					OR = {
						NOT = { religion_group = ROOT }
						AND = {
							religion_group = pagan_group
							NOT = { religion = ROOT }
						}
					}
				}
			}
			modifier = {
				factor = 0.1
				liege = {
					NOT = { culture_group = ROOT }
				}
			}
			
			modifier = {
				factor = 0.1
				liege = {
					religion_group = ROOT
					NOR = { 
						religion_group = pagan_group
						religion = ROOT 
					}
				}
			}
		}
	}
	
}

targetted_decisions = {
	embrace_mutazila = {
		only_playable = yes
		
		filter = self
		ai_target_filter = self
		ai_check_interval = 60
		
		potential = {
			has_dlc = "Sons of Abraham"
			is_playable = yes
			religion = sunni
			NOT = { 
				OR = {
					trait = mutazilite
					trait = ashari
				}
			}
			is_adult = yes
			prisoner = no
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
		
		allow = {
			piety = 50
		}
		
		effect = {
			add_trait = mutazilite
			character_event = { id = SoA.600 tooltip = EVTTOOLTIP_SoA_600 }
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				trait = zealous
			}
			modifier = {
				factor = 1.2
				trait = cynical
			}
			modifier = {
				factor = 1.2
				liege = { trait = mutazilite }
			}
			modifier = {
				factor = 0.5 # Slow it down
			}
		}
	}
	embrace_ashari = {
		only_playable = yes
		ai_check_interval = 60
		
		filter = self
		ai_target_filter = self
		
		potential = {	
			has_dlc = "Sons of Abraham"
			is_playable = yes
			religion = sunni
			NOT = { 
				OR = {
					trait = mutazilite
					trait = ashari
				}
			}
			is_adult = yes
			prisoner = no
			NOT = {
				has_alternate_start_parameter = { key = religion_names value = random }
			}
		}
		
		allow = {
			piety = 50
		}
		
		effect = {
			add_trait = ashari
			character_event = { id = SoA.601 tooltip = EVTTOOLTIP_SoA_601 }
		}
		
		revoke_allowed = {
			always = no
		}
		
		ai_will_do = {
			factor = 1
			
			modifier = {
				factor = 0
				trait = cynical
			}
			modifier = {
				factor = 1.2
				trait = zealous
			}
			modifier = {
				factor = 1.2
				liege = { trait = ashari }
			}
			modifier = {
				factor = 1.2
				decadence = 40
			}
			modifier = {
				factor = 1.2
				decadence = 60
			}
			modifier = {
				factor = 1.2
				decadence = 80
			}
			modifier = {
				factor = 0.5 # Slow it down
			}
		}
	}
}