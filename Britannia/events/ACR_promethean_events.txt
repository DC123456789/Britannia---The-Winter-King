##################################################################
# 
# ANCIENT RELIGIONS
# - Promethean Events
#
# Event IDs promethean.3400-3549 are reserved
#
# promethean.400 - 410	various events
# promethean.411 - 420	Rebuilding of Crotone
# promethean.450 - 3549	The Unbinding Festival
# promethean.550 - 3599	Holy Order Events
#
##################################################################

# Author: Adam 'theStormWeaver/xirsoi' Chevalier
namespace = promethean

###################################################################
#
# Prosperity Events
#  - promethean.100 - 199 reserved
#
###################################################################

# # Province prospers after a long period of grain subsidies
# province_event = {
	# id = promethean.100
	# desc = promethean.100.desc
	# picture = GFX_evt_market
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes
	
	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 20 }
			# }
		# }
	# }
# }

# # better roads improve trade
# # [on_yearly_pulse]
# province_event = {
	# id = promethean.101
	# desc = promethean.101.desc
	# picture = GFX_evt_peasants
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# has_province_modifier = acr_infrastructure_investment
		# OR = {
			# had_province_flag = { flag = acr_infrastructure_event days = 45 }
			# NOT = { has_province_flag = acr_infrastructure_investment }
		# }
	# }

	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
				# set_province_flag = acr_infrastructure_investment
			# }
		# }
	# }
# }

# # roads allow better patrols, reducing banditry
# province_event = {
	# id = promethean.102
	# desc = promethean.102.desc
	# picture = GFX_evt_peasants
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# has_province_modifier = acr_infrastructure_investment
		# OR = {
			# had_province_flag = { flag = acr_infrastructure_event days = 45 }
			# NOT = { has_province_flag = acr_infrastructure_investment }
		# }
	# }

	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
				# set_province_flag = acr_infrastructure_investment
			# }
		# }
	# }

	
# }

# # dams increase arable land
# province_event = {
	# id = promethean.103
	# desc = promethean.103.desc
	# picture = GFX_evt_peasants
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# has_province_modifier = acr_infrastructure_investment
		# OR = {
			# had_province_flag = { flag = acr_infrastructure_event days = 45 }
			# NOT = { has_province_flag = acr_infrastructure_investment }
		# }
	# }

	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
				# set_province_flag = acr_infrastructure_investment
			# }
		# }
	# }
# }

# # irrigation increases arable land
# province_event = {
	# id = promethean.104
	# desc = promethean.104.desc
	# picture = GFX_evt_peasants
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# has_province_modifier = acr_infrastructure_investment
		# OR = {
			# had_province_flag = { flag = acr_infrastructure_event days = 45 }
			# NOT = { has_province_flag = acr_infrastructure_investment }
		# }
	# }

	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
				# set_province_flag = acr_infrastructure_investment
			# }
		# }
	# }
# }

# # bridges improve travel and trade
# province_event = {
	# id = promethean.105
	# desc = promethean.105.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# has_province_modifier = acr_infrastructure_investment
		# OR = {
			# had_province_flag = { flag = acr_infrastructure_event days = 45 }
			# NOT = { has_province_flag = acr_infrastructure_event }
		# }
	# }

	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
				# set_province_flag = acr_infrastructure_investment
			# }
		# }
	# }
# }

# # leaving event ids promethean.106-109 for more infrastructure events

# # small group of settlers arrive from neighboring province
# province_event = {
	# id = promethean.110
	# desc = promethean.110.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# location = {
			# has_province_modifier = acr_open_settlement
			# OR = {
				# had_province_flag = { flag = acr_settlement_event days = 60 }
				# NOT = { has_province_flag = acr_settlement_event }
			# }
		# }
	# }

	# immediate = {
		# location = {
			# set_province_flag = acr_settlement_event
		# }
		# random_neighbor_province = {
			# save_event_target_as = origin
		# }
	# }

	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
			# }
		# }
	# }
# }

# # influx of foreigners in the province
# province_event = {
	# id = promethean.111
	# desc = promethean.111.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# location = {
			# has_province_modifier = acr_open_settlement
			# OR = {
				# had_province_flag = { flag = acr_settlement_event days = 60 }
				# NOT = { has_province_flag = acr_settlement_event }
			# }
			# any_province = {
				# distance = { where = PREV distance > 1000 }
				# distance = { where = PREV distance < 10000 }
				# NOT = {
					# culture = PREV
				# }
			# }
		# }
	# }

	# immediate = {
		# location = {
			# set_province_flag = acr_settlement_event
		# }
		# random_province = {
			# limit = {
				# ROOT = {
					# location = {
						# distance = { where = PREVPREV distance > 1000 }
						# distance = { where = PREVPREV distance < 10000 }
						# NOT = {
							# culture = PREVPREV
						# }
					# }
				# }
			# }
			# save_event_target_as = origin
		# }
	# }

	# option = {
		# name = promethean.111.a
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
			# }
		# }
		# add_foreign_influence_moderate_effect = yes
	# }

	# option = {
		# name = promethean.111.a
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 10 }
			# }
		# }
		# location = {
			# add_province_modifier = { name = acr_cultural_friction days = 365 }
		# }
	# }

	# option = {
		# name = promethean.111.b
	# }
# }

# # friction between locals and immigrants
# province_event = {
	# id = promethean.112
	# desc = promethean.112.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# location = {
			# has_province_modifier = acr_open_settlement
			# OR = {
				# had_province_flag = { flag = acr_settlement_event days = 60 }
				# NOT = { has_province_flag = acr_settlement_event }
			# }
			# check_variable = { which = "foreign_influence" value > 10 }
		# }
	# }

	# immediate = {
		# location = {
			# set_province_flag = acr_settlement_event
		# }
		# random_neighbor_province = {
			# save_event_target_as = origin
		# }
	# }

	# option = { # suck it up, buttercup
		# name = promethean.112.a
		# add_province_modifier = { name = acr_cultural_friction duration = 365 }
	# }

	# option = { # kick out some of the foreigners
		# name = promethean.112.b
		# custom_tooltip = {
			# text = province_declines_custom_tooltip
			# change_variable = { which = prosperity_value value = -10 }
		# }
		# subtract_foreign_influence_moderate_effect = yes
	# }

	# option = {
		# name = promethean.112.c
		# tooltip_info = diplomacy
		# subtract_foreign_influence_minor_effect = yes
	# }

	# weight_multiplier = {
		# days = 14

		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 20 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 30 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 40 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 50 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 60 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 70 } }
		# }	
	# }
# }

# # friction between locals and immigrants 2: electric boogaloo
# # i don't remember what was supposed to happen in this event, disabled for now
# province_event = {
	# id = promethean.113
	# desc = promethean.113.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# always = no
		# location = {
			# has_province_modifier = acr_open_settlement
			# OR = {
				# had_province_flag = { flag = acr_settlement_event days = 60 }
				# NOT = { has_province_flag = acr_settlement_event }
			# }
			# check_variable = { which = "foreign_influence" value > 10 }
		# }
	# }

	# immediate = {
		# location = {
			# set_province_flag = acr_settlement_event
		# }
		# random_neighbor_province = {
			# save_event_target_as = origin
		# }
	# }

	# option = { # suck it up, buttercup
		# name = promethean.113.a
		# add_province_modifier = { name = acr_cultural_friction duration = 365 }
	# }

	# option = { # kick out the foreigners
		# name = promethean.113.b
		# custom_tooltip = {
			# text = province_declines_custom_tooltip
			# change_variable = { which = prosperity_value value = -10 }
		# }
		# add_foreign_influence_moderate_effect = yes
	# }

	# weight_multiplier = {
		# days = 14

		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 20 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 30 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 40 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 50 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 60 } }
		# }
		# modifier = {
			# factor = 1.1
			# location = { check_variable = { which = "foreign_influence" value > 70 } }
		# }	
	# }
# }

# # extended family arrive from regional province
# province_event = {
	# id = promethean.114
	# desc = promethean.114.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# location = {
			# has_province_modifier = acr_open_settlement
			# OR = {
				# had_province_flag = { flag = acr_settlement_event days = 60 }
				# NOT = { has_province_flag = acr_settlement_event }
			# }
			# any_province = {
				# distance = { where = PREV distance > 500 }
				# distance = { where = PREV distance < 2000 }
			# }
		# }
	# }

	# immediate = {
		# location = {
			# set_province_flag = acr_settlement_event
		# }
		# random_province = {
			# limit = {
				# ROOT = {
					# location = {
						# distance = { where = PREVPREV distance > 500 }
						# distance = { where = PREVPREV distance < 2000 }
					# }
				# }
			# }
			# save_event_target_as = origin
		# }
	# }

	# option = {
		# name = OK
		# custom_tooltip = {
			# text = province_prospers_custom_tooltip
			# hidden_tooltip = {
				# change_variable = { which = prosperity_value value = 5 }
			# }
		# }
		# add_foreign_influence_minor_effect = yes
	# }
# }

# # minor noble asks to settle in province
# province_event = {
	# id = promethean.115
	# desc = promethean.115.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# trigger = {
		# location = {
			# has_province_modifier = acr_open_settlement
			# OR = {
				# had_province_flag = { flag = acr_settlement_event days = 60 }
				# NOT = { has_province_flag = acr_settlement_event }
			# }
			# has_empty_holding = yes
		# }
	# }

	# immediate = {
		# location = {
			# set_province_flag = acr_settlement_event
		# }
		# random_province = {
			# limit = {
				# ROOT = {
					# NOT = { culture = PREV }
				# }
			# }
			# save_event_target_as = origin
		# }
		# create_random_steward = {
			# dynasty = random
			# culture = event_target:origin
			# religion = event_target:origin
			# female = no
			# age = 36
		# }
		# new_character = {
			# save_event_target_as = foreign_noble
		# }
		# create_random_diplomat = {
			# dynasty = random
			# culture = event_target:origin
			# religion = event_target:origin
			# female = yes
			# age = 32
		# }
		# new_character = {
			# add_spouse = event_target:foreign_noble
		# }
	# }

	# option = {
		# name = promethean.115.a
		# custom_tooltip = {
			# text = province_prospers_major_custom_tooltip
			# hidden_tooltip = {
				# location = { change_variable = { which = prosperity_value value = 20 } }
			# }
		# }
		# add_foreign_influence_major_effect = yes
		# location = {
			# show_scope_change = no
			# build_holding = { type = castle holder = event_target:foreign_noble }
			# owner = {
				# show_scope_change = no
				# event_target:foreign_noble = {
					# set_defacto_liege = PREV
					# hidden_tooltip = {
						# wealth = 300
					# }
				# }
			# }
		# }
	# }

	# option = {
		# name = promethean.115.b
		# custom_tooltip = {
			# text = promethean.115.tt
			# event_target:foreign_noble = {
				# spouse = {
					# show_scope_change = no
					# death = { death_reason = death_vanished }
				# }
				# death = { death_reason = death_vanished }
			# }
		# }
	# }
# }

# # province is too populous for open settlement(prosperity 2),
# # or is controlled by a non-Promethean character
# province_event = {
	# id = promethean.116
	# desc = {
		# trigger = {
			# location = {
				# OR = {
					# has_province_modifier = prosperity_modifier_2
					# has_province_modifier = prosperity_modifier_3
				# }
			# }
		# }
		# text = promethean.116.prosperous
	# }
	# desc = {
		# trigger = {
			# owner = {
				# NOT = { religion = promethean_pagan }
			# }
		# }
		# text = promethean.116.infidel
	# }
	# border = GFX_event_normal_frame_economy
	# picture = GFX_evt_culture_change

	# is_triggered_only = yes

	# trigger = {
		# location = {
			# has_province_modifier = acr_open_settlement
		# }
		# OR = {
			# location = {
				# OR = {
					# has_province_modifier = prosperity_modifier_2
					# has_province_modifier = prosperity_modifier_3
				# }
			# }
			# owner = {
				# NOT = { religion = promethean_pagan }
			# }
		# }
	# }

	# weight_multiplier = {
		# days = 1
	# }

	# option = {
		# name = OK
		# location = {
			# show_scope_change = no
			# remove_province_modifier = acr_open_settlement
			# remove_province_modifier = acr_foreign_influence
			# set_variable = { which = "foreign_influence" value = 0 }
		# }
	# }
# }

###################################################################
#
# Misc Events
#  - promethean.400 - 410 reserved
#
###################################################################

# First Academy has been restored!
# narrative_event = {
	# id = promethean.400
	# title = promethean.400.title
	# desc = promethean.400.desc
	# picture = GFX_evt_scientist
	# border = GFX_event_narrative_frame_religion

	# major = yes
	# is_triggered_only = yes

	# option = {
		# name = promethean.400.a
		# trigger = {
			# has_character_flag = acr_restorer_of_academy
		# }

		# chronicle = {
			# entry = CHRONICLE_FIRST_ACADEMY
			# portrait = [Root.GetID]
		# }
	# }

	# option = {
		# name = promethean.400.b
		# trigger = {
			# religion = promethean_pagan
			# NOT = {
				# has_character_flag = acr_restorer_of_academy
			# }
		# }
	# }

	# option = {
		# name = promethean.400.c
		# trigger = {
			# NOT = { religion = promethean_pagan }
		# }
	# }

	# after = {
		# hidden_tooltip = {
			# d_promethean_pagan = {
				# holder_scope = { narrative_event = { id = promethean.408 days = 60 random = 21 } }
			# }
		# }
	# }
# }

# # Depopulated Province Conversion
# province_event = {
	# id = promethean.401
	# hide_window = yes
	
	# lacks_dlc = "Reapers"

	# trigger = {
		# NOT = { religion = promethean_pagan }
		# has_province_modifier = depopulated_province
		# owner = {
			# religion = promethean_pagan
		# }
	# }

	# mean_time_to_happen = {
		# years = 50
		# modifier = {
			# factor = 0.9
			# religion_authority = 0.50
		# }
		# modifier = {
			# factor = 0.9
			# religion_authority = 0.75
		# }
		# modifier = {
			# factor = 0.9
			# religion_authority = 0.90
		# }
		# modifier = {
			# factor = 0.9
			# any_neighbor_province = {
				# religion = promethean_pagan
			# }
		# }
	# }

	# immediate = {
		# save_event_target_as = receiver_province
		# owner = { 
			# character_event = { id = promethean.402 }
		# }
	# }
# }

# # Depopulated Province Conversion (owner)
# character_event = {
	# id = promethean.402
	# desc = {
		# text = promethean.402.desc
		# trigger = {
			# NOT = { has_dlc = "Reapers" }
		# }
	# }
	# desc = {
		# text = promethean.402.desc.reapers
		# trigger = {
			# has_dlc = "Reapers"
		# }
	# }
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# immediate = {
		# if = {
			# limit = {
				# has_dlc = "Reapers"
			# }
			# # get a donor province
			# random_demesne_province = {
				# limit = {
					# OR = {
						# has_province_modifier = prosperity_modifier_1
						# has_province_modifier = prosperity_modifier_2
						# has_province_modifier = prosperity_modifier_3
					# }
				# }

				# save_event_target_as = donor_province
			# }
		# }
	# }

	# option = {
		# name = OK
		# trigger = {
			# NOT = { has_dlc = "Reapers" }
		# }
		# event_target:receiver_province = {
			# religion = ROOT
			# culture = ROOT
			# remove_province_modifier = depopulated_province
		# }
	# }

	# option = { # move one prosperity
		# name = promethean.402.b
		# trigger = {
			# has_dlc = "Reapers"
		# }

		# ai_chance = {
			# factor = 50
		# }

		# custom_tooltip = {
			# text = promethean.402.b.tt
			# hidden_tooltip = {
				# event_target:donor_province = {
					# decrease_prosperity_effect = yes
					# remove_province_modifier = preparing_settlers
				# }
				# event_target:receiver_province = {
					# set_province_flag = received_one_prosperity
					# decrease_depopulation_effect = yes
				# }
			# }
		# }
	# }

	# option = { # move two prosperity
		# name = promethean.402.c
		# trigger = {
			# has_dlc = "Reapers"
			# event_target:receiver_province = {
				# OR = {
					# has_province_modifier = depopulated_2
					# has_province_modifier = depopulated_3
				# }
			# }
			# event_target:donor_province = {
				# OR = {
					# has_province_modifier = prosperity_modifier_2
					# has_province_modifier = prosperity_modifier_3
				# }
			# }
		# }

		# ai_chance = {
			# factor = 30
		# }

		# custom_tooltip = {
			# text = promethean.402.c.tt
			# hidden_tooltip = {
				# event_target:donor_province = {
					# decrease_prosperity_effect = yes
					# decrease_prosperity_effect = yes
					# remove_province_modifier = preparing_settlers
				# }
				# event_target:receiver_province = {
					# set_province_flag = received_two_prosperity
					# decrease_depopulation_effect = yes
					# decrease_depopulation_effect = yes
				# }
			# }
		# }
	# }

	# option = { # move three prosperity
		# name = promethean.402.d
		# trigger = {
			# has_dlc = "Reapers"
			# event_target:receiver_province = {
				# has_province_modifier = depopulated_3
			# }
			# event_target:donor_province = {
				# has_province_modifier = prosperity_modifier_3
			# }
		# }

		# ai_chance = {
			# factor = 20
		# }

		# custom_tooltip = {
			# text = promethean.402.d.tt
			# hidden_tooltip = {
				# event_target:donor_province = {
					# increase_depopulation_effect = yes
					# increase_depopulation_effect = yes
					# increase_depopulation_effect = yes
					# remove_province_modifier = preparing_settlers
				# }
				# event_target:receiver_province = {
					# set_province_flag = received_three_prosperity
					# decrease_depopulation_effect = yes
					# decrease_depopulation_effect = yes
					# decrease_depopulation_effect = yes
				# }
			# }
		# }
	# }

	# option = { # request settlers from your liege
		# name = promethean.402.e
		# trigger = {
			# has_dlc = "Reapers"
			# independent = no
			# liege = {
				# any_demesne_province = {
					# is_prosperous_trigger = yes
				# }
			# }
		# }

		# ai_chance = {
			# factor = 15
			# modifier = {
				# factor = 2
				# trait = greedy
			# }
		# }

		# custom_tooltip = {
			# text = promethean.402.e.tt
			# hidden_tooltip = {
				# liege = { character_event = { id = promethean.405 days = 3 } }
			# }
		# }
	# }

	# after = {
		# event_target:receiver_province = {
			# if = {
				# limit = {
					# OR = {
						# has_province_flag = received_one_prosperity
						# has_province_flag = received_two_prosperity
						# has_province_flag = received_three_prosperity
					# }
				# }

				# random_province_conversion_from_colonists_effect = yes
			# }
		# }
	# }
# }

# # ask direct liege to send colonists to depopulated province (liege)
# character_event = {
	# id = promethean.405
	# desc = promethean.405.desc
	# picture = GFX_evt_emissary
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# immediate = {
		# random_demesne_province = {
			# limit = {
				# is_prosperous_trigger = yes
			# }

			# save_event_target_as = donor_province
		# }
	# }

	# option = { # bump it up further
		# name = promethean.405.a
		# trigger = {
			# independent = no
		# }

		# ai_chance = {
			# factor = 25
			# modifier = {
				# factor = 1.2
				# trait = greedy
			# }
		# }

		# custom_tooltip = {
			# text = promethean.405.a.tt
			# liege = { character_event = { id = promethean.405 days = 3 } }
		# }
	# }

	# option = { # that land is your responsibility!
		# name = promethean.405.b
		
		# ai_chance = {
			# factor = 25
		# }

		# custom_tooltip = {
			# text = promethean.405.b.tt
			# hidden_tooltip = {
				# event_target:receiver_province = {
					# owner = { 
						# character_event = { id = promethean.406 days = 3 }
					# }
				# }
			# }
		# }
	# }

	# option = { # send settlers (move one prosperity)
		# name = promethean.405.c
		# trigger = {
			# has_dlc = "Reapers"
		# }

		# ai_chance = {
			# factor = 25
		# }

		# custom_tooltip = {
			# text = promethean.405.c.tt
			# hidden_tooltip = {
				# event_target:donor_province = {
					# decrease_prosperity_effect = yes
				# }
				# event_target:receiver_province = {
					# set_province_flag = received_one_prosperity
					# decrease_depopulation_effect = yes

					# owner = {
						# character_event = { id = promethean.407 days = 3 }
					# }
				# }
			# }
		# }
	# }
# }

# # liege has declined request to send settlers
# character_event = {
	# id = promethean.406
	# desc = promethean.406.desc
	# picture = GFX_evt_emissary
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# option = {
		# name = ancrel.that_bastard
	# }
# }

# # liege has fulfilled request to send settlers
# character_event = {
	# id = promethean.407
	# desc = promethean.407.desc
	# picture = GFX_evt_culture_change
	# border = GFX_event_normal_frame_economy

	# is_triggered_only = yes

	# option = {
		# name = ancrel.fantastic
		# random_province_conversion_from_colonists_effect = yes
	# }
# }

# Promethean child comes of age and chooses which school to join
# [on_adulthood]
character_event = {
	id = promethean.403
	desc = promethean.403.desc
	picture = GFX_evt_library

	is_triggered_only = yes

	religion = promethean_pagan
	
	immediate = {
		set_character_flag = acr_changed_school
	}

	option = {
		name = promethean.403.a
		add_trait = stoic

		if = {
			limit = {
				has_global_flag = flag_restored_stoic_intelligentia
			}
			join_society = monastic_order_stoics
		}

		ai_chance = {
			factor = 40
			modifier = {
				factor = 1.2
				trait = cynical
			}
			modifier = {
				factor = 1.2
				trait = just
			}
		}
	}
	option = {
		name = promethean.403.b
		add_trait = skeptic

		if = {
			limit = {
				has_global_flag = flag_restored_stoic_intelligentia
			}
			join_society = monastic_order_skeptics
		}

		ai_chance = {
			factor = 35
			modifier = {
				factor = 0.75
				trait = ambitious
			}
		}
	}
	option = {
		name = promethean.403.c
		add_trait = epicurean

		if = {
			limit = {
				has_global_flag = flag_restored_stoic_intelligentia
			}
			join_society = monastic_order_epicureans
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0.5
				trait = gluttonous
			}
			modifier = {
				factor = 0.5
				trait = lustful
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = { # the ambitious would never choose Epicureanism
				factor = 0
				trait = ambitious
			}
		}
	}
}

# Neoplatonist schools are flourishing with the restoration of The First Academy
narrative_event = {
	id = promethean.408
	title = EVTTITLEHF23123
	desc = promethean.408.desc
	picture = GFX_evt_courtiers_talking
	border = GFX_event_narrative_frame_religion

	major = yes
	is_triggered_only = yes

	immediate = {
		set_global_flag = flag_restored_stoic_intelligentia
		hidden_tooltip = {
			create_random_priest = {
				random_traits = yes
				random_traits = yes
				dynasty = none
				religion = ROOT
				culture = ROOT
				attributes = {
					learning = 10
				}
				female = no
				age = 32
			}
			new_character = {
				join_society = monastic_order_skeptics
				set_society_grandmaster = yes # Set character as Grand Master
				add_society_currency_massive_effect = yes
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 16
				}
				new_character = { join_society = monastic_order_skeptics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 18
				}
				new_character = { join_society = monastic_order_skeptics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 20
				}
				new_character = { join_society = monastic_order_skeptics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 25
				}
				new_character = { join_society = monastic_order_skeptics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 26
				}
				new_character = { join_society = monastic_order_skeptics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 28
				}
				new_character = { join_society = monastic_order_skeptics }
			}
			create_random_priest = {
				random_traits = yes
				random_traits = yes
				dynasty = none
				religion = ROOT
				culture = ROOT
				attributes = {
					learning = 10
				}
				female = no
				age = 32
			}
			new_character = {
				join_society = monastic_order_epicureans
				set_society_grandmaster = yes # Set character as Grand Master
				add_society_currency_massive_effect = yes
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 16
				}
				new_character = { join_society = monastic_order_epicureans }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 18
				}
				new_character = { join_society = monastic_order_epicureans }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 20
				}
				new_character = { join_society = monastic_order_epicureans }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 25
				}
				new_character = { join_society = monastic_order_epicureans }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 26
				}
				new_character = { join_society = monastic_order_epicureans }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 28
				}
				new_character = { join_society = monastic_order_epicureans }
			}
			create_random_priest = {
				random_traits = yes
				random_traits = yes
				dynasty = none
				religion = ROOT
				culture = ROOT
				attributes = {
					learning = 10
				}
				female = no
				age = 32
			}
			new_character = {
				join_society = monastic_order_stoics
				set_society_grandmaster = yes # Set character as Grand Master
				add_society_currency_massive_effect = yes
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 16
				}
				new_character = { join_society = monastic_order_stoics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 18
				}
				new_character = { join_society = monastic_order_stoics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 20
				}
				new_character = { join_society = monastic_order_stoics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 25
				}
				new_character = { join_society = monastic_order_stoics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 26
				}
				new_character = { join_society = monastic_order_stoics }
				create_random_priest = {
					random_traits = yes
					dynasty = random
					religion = ROOT
					culture = ROOT
					attributes = {
						learning = 10
					}
					female = no
					age = 28
				}
				new_character = { join_society = monastic_order_stoics }
			}
		}
	}

	option = {
		name = EVTOPTAHF23123
		trigger = {
			OR = { 
				society_member_of = monastic_order_stoics 
				religion = roman_pagan
				religion = roman_pagan_reformed
				religion = promethean_pagan
				secret_religion = roman_pagan
				secret_religion = roman_pagan_reformed
				secret_religion = promethean_pagan
				can_join_society = monastic_order_stoics
			}
		}
		if = {
			limit = { 
				NOT = { society_member_of = monastic_order_stoics }
				can_join_society = monastic_order_stoics
			}
			join_society = monastic_order_stoics
		}
		ai_chance = {
			factor = 40
			modifier = {
				factor = 1.2
				trait = cynical
			}
			modifier = {
				factor = 1.2
				trait = just
			}
		}
	}
	option = {
		name = EVTOPTBHF23123
		trigger = {
			NOR = { 
				society_member_of = monastic_order_stoics 
				society_member_of = monastic_order_skeptics
				society_member_of = monastic_order_epicureans
				religion = roman_pagan
				religion = roman_pagan_reformed
				religion = promethean_pagan
				secret_religion = roman_pagan
				secret_religion = roman_pagan_reformed
				secret_religion = promethean_pagan
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.2
				has_education_martial_trigger = yes
			}
			modifier = {
				factor = 1.2
				has_lifestyle_martial_trigger = yes
			}
			modifier = {
				factor = 1.5
				trait = imbecile
			}
			modifier = {
				factor = 1.3
				trait = inbred
			}
			modifier = {
				factor = 1.1
				trait = slow
			}
		}
	}
    ### ACR ###
	option = { # skeptics
		name = EVTOPTCHF23123
		trigger = {
			OR = { 
				society_member_of = monastic_order_skeptics 
				religion = roman_pagan
				religion = roman_pagan_reformed
				religion = promethean_pagan
				secret_religion = roman_pagan
				secret_religion = roman_pagan_reformed
                secret_religion = promethean_pagan
				can_join_society = monastic_order_skeptics
			}
		}
		if = {
			limit = { 
				NOT = { society_member_of = monastic_order_skeptics }
				can_join_society = monastic_order_skeptics
			}
			join_society = monastic_order_skeptics
		}
		ai_chance = {
			factor = 35
			modifier = {
				factor = 0.75
				trait = ambitious
			}
		}
	}
	option = { #epicureans
		name = EVTOPTDHF23123
		trigger = {
			OR = { 
				society_member_of = monastic_order_epicureans
				religion = roman_pagan
				religion = roman_pagan_reformed
				religion = promethean_pagan
				secret_religion = roman_pagan
				secret_religion = roman_pagan_reformed
                secret_religion = promethean_pagan
				can_join_society = monastic_order_epicureans
			}
		}
		if = {
			limit = { 
				NOT = { society_member_of = monastic_order_epicureans }
				can_join_society = monastic_order_epicureans
			}
			join_society = monastic_order_epicureans
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0.5
				trait = gluttonous
			}
			modifier = {
				factor = 0.5
				trait = lustful
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = { # the ambitious would never choose Epicureanism
				factor = 0
				trait = ambitious
			}
		}
	}
}

# Promethean has decided to change their school of thought
# [decision]
character_event = {
	id = promethean.404
	desc = promethean.404.desc
	picture = GFX_evt_library

	is_triggered_only = yes

	option = {
		name = promethean.403.a
		trigger = {	NOT = {	trait = stoic } }

		add_trait = stoic

		if = {
			limit = {
				has_global_flag = flag_restored_stoic_intelligentia
			}
			join_society = monastic_order_stoics
		}

		ai_chance = {
			factor = 40
			modifier = {
				factor = 1.2
				trait = cynical
			}
			modifier = {
				factor = 1.2
				trait = just
			}
		}
	}
	option = {
		name = promethean.403.b
		trigger = {	NOT = {	trait = skeptic } }

		add_trait = skeptic

		if = {
			limit = {
				has_global_flag = flag_restored_stoic_intelligentia
			}
			join_society = monastic_order_skeptics
		}

		ai_chance = {
			factor = 35
			modifier = {
				factor = 0.75
				trait = ambitious
			}
		}
	}
	option = {
		name = promethean.403.c
		trigger = {	NOT = {	trait = epicurean } }

		add_trait = epicurean

		if = {
			limit = {
				has_global_flag = flag_restored_stoic_intelligentia
			}
			join_society = monastic_order_epicureans
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0.5
				trait = gluttonous
			}
			modifier = {
				factor = 0.5
				trait = lustful
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = { # the ambitious would never choose Epicureanism
				factor = 0
				trait = ambitious
			}
		}
	}
}

###################################################################
#
# Rebuilding Crotone
#  - promethean.411 - 3420 reserved
#
###################################################################

# # Rebuild Crotone
# character_event = {
	# id = promethean.411
	# title = promethean.411.title
	# desc = promethean.411.desc
	# picture = GFX_persepolis_ruin

	# is_triggered_only = yes
	
	# immediate = {
		# 337 = { set_province_flag = acr_reb_crotone_1 }
	# }	

	# option = {
		# name = promethean.411.a # Make it the greatest academy there ever was!
	# }
# }

# # Choose the focus of the academy
# province_event = {
	# id = promethean.412
	# title = promethean.412.title
	# desc = promethean.412.desc
	# picture = GFX_evt_castle_construction
	
	# has_global_flag = acr_crotone_building

	# trigger = {
		# province_id = 337 # Consenza
		# NOT = { has_global_flag = acr_crotone_rebuilt }
		# had_province_flag = { flag = acr_reb_crotone_1 days = 1045 }
		# NOT = { has_province_flag = acr_reb_crotone_2 }
	# }

	# immediate = {
		# set_province_flag = acr_reb_crotone_2
	# }
	
	# mean_time_to_happen = {
		# months = 6
	# }
	
	# option = {
		# name = promethean.412.a # Art, History, and Philosophy; Culture
		# 337 = {
			# add_province_modifier = { name = acr_crotone_arts duration = -1 }
		# }
	# }
	# option = {
		# name = promethean.412.b # Engineering & Architecture; Economic
		# 337 = {
			# add_province_modifier = { name = acr_crotone_engineering duration = -1 }
		# }
	# }
	# option = {
		# name = promethean.412.c # Officer Academy; Military
		# 337 = {
			# add_province_modifier = { name = acr_crotone_military duration = -1 }
		# }
	# }
# }

# # Crotone Finished!
# province_event = {
	# id = promethean.413
	# title = promethean.413.title
	# desc = promethean.413.desc
	# picture = GFX_evt_roman_temple
	
	# has_global_flag = acr_crotone_building
	
	# trigger = {
		# province_id = 337 # Consenza
		# NOT = { has_global_flag = acr_crotone_rebuilt }
		# has_province_flag = acr_reb_crotone_1
		# had_province_flag = { flag = acr_reb_crotone_2 days = 546 }		
	# }

	# mean_time_to_happen = {
		# months = 3
	# }
	
	# immediate = {
		# clr_global_flag = acr_crotone_building
		# clr_province_flag = acr_reb_crotone_1
		# clr_province_flag = acr_reb_crotone_2
		# set_global_flag = acr_crotone_rebuilt
	# }

	# option = {
		# name = promethean.413.a
		# owner = {
			# chronicle = {
				# entry = CHRONICLE_CROTONE
				# portrait = [Root.GetID]
			# }
			# 337 = {
				# build_holding = {
					# title = b_crotone
					# type = temple
					# holder = PREV
				# }

				# if = {
					# limit = {
						# has_dlc = "Reapers"
					# }
					# change_variable = { which = prosperity_value value = 20 }
				# }
			# }
			# religion_authority = { modifier = crotone_academy }
			# prestige = 500
		# }
		# hidden_tooltip = {
			# owner = {
				# set_character_flag = acr_rebuilt_crotone
				# narrative_event = { id = promethean.414 days = 7 }
			# }
		# }
	# }
# }

# # Crotone Complete major event
# narrative_event = {
	# id = promethean.414
	# title = promethean.414.title
	# desc = promethean.414.desc
	# picture = GFX_evt_roman_temple
	# border = GFX_event_narrative_frame_religion
	
	# major = yes
	# only_rulers = yes
	# is_triggered_only = yes
	
	# trigger = {
		# NOT = { has_character_flag = acr_rebuilt_crotone }
	# }

	# option = {
		# trigger = {
			# religion = promethean_pagan
		# }
		# name = promethean.414.a
	# }

	# option = {
		# trigger = {
			# NOT = { religion = promethean_pagan }
		# }

		# name = promethean.414.b
	# }
# }

###################################################################
#
# The Unbinding Festival
# - promethean.450 - promethean.549 reserved
#
###################################################################

# Festival Planning Begins!
character_event = {
	id = promethean.450
	desc = promethean.450.desc
	picture = GFX_evt_council

	is_triggered_only = yes

	option = {
		name = promethean.450.a
		hidden_tooltip = {
			character_event = { id = promethean.451 days = 3 } # let the decisions begin!
		}
	}
}

# How extravagant shall the opening ceremony be?
character_event = {
	id = promethean.451
	desc = promethean.451.desc
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	immediate = {
		character_event = { id = promethean.452 days = 3 }
	}

	option = { # just rent out a theatre in the city
		name = promethean.451.a
		scaled_wealth = -0.05
		prestige = 75

		random = {
			chance = 10
			add_trait = greedy
			hidden_tooltip = {
				character_event = { id = 38252 } #Notify Greedy
			}
		}

		set_character_flag = unbinding_cheap_open

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 1 }
					}
				}
			}
		}
		
		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.5
				NOT = {
					scaled_wealth = 0.2
				}
			}
			modifier = {
				factor = 2
				trait = greedy
			}
			modifier = {
				factor = 10
				NOT = {
					scaled_wealth = 0.1
				}
			}
			modifier = {
				factor = 0.5
				NOT = { prestige = 200 }
			}
		}
	}

	option = { # build one of wood in the city square
		name = promethean.451.b
		scaled_wealth = -0.10
		prestige = 150

		set_character_flag = unbinding_middle_open

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 3 }
					}
				}
			}
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				trait = greedy
			}
			modifier = {
				factor = 0.75
				NOT = {
					scaled_wealth = 0.2
				}
			}
			modifier = {
				factor = 2
				scaled_wealth = 0.5
			}
			modifier = {
				factor = 2
				NOT = {
					prestige = 200
				}
			}
		}
	}

	option = { # build a grand stage of real stone!
		name = promethean.451.c
		scaled_wealth = -0.20
		prestige = 300

		random = {
			chance = 10
			add_trait = charitable
			hidden_tooltip = {
				character_event = { id = 38273 } #Notify Charitable
			}
		}

		set_character_flag = unbinding_grand_open

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 5 }
					}
				}
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				scaled_wealth = 1.0
			}
		}
	}
}

# How much shall be spent on the festivities?
character_event = {
	id = promethean.452
	desc = promethean.452.desc
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	immediate = {
		character_event = { id = promethean.453 days = 3 }
	}

	option = { # keep it simple
		name = promethean.452.a
		set_character_flag = unbinding_cheap_festivities

		scaled_wealth = -0.05
		prestige = -25

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 1 }
					}
				}
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.5
				NOT = {
					scaled_wealth = 0.2
				}
			}
			modifier = {
				factor = 2
				trait = greedy
			}
			modifier = {
				factor = 10
				NOT = {
					scaled_wealth = 0.1
				}
			}
			modifier = {
				factor = 0.5
				NOT = { prestige = 200 }
			}
		}
	}
	option = { # lets not be cheap
		name = promethean.452.b
		set_character_flag = unbinding_middle_festivities

		scaled_wealth = -0.1
		prestige = 25

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 3 }
					}
				}
			}
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				trait = greedy
			}
			modifier = {
				factor = 0.75
				NOT = {
					scaled_wealth = 0.2
				}
			}
			modifier = {
				factor = 2
				scaled_wealth = 0.5
			}
			modifier = {
				factor = 2
				NOT = {
					prestige = 200
				}
			}
		}	
	}
	option = { # lets make it a festival to remember!
		name = promethean.452.c
		set_character_flag = unbinding_grand_festivities

		scaled_wealth = -0.2
		prestige = 50

		if = {
			limit = {
				has_dlc = "Reapers"
			}
			custom_tooltip = {
				text = capital_prospers_custom_tooltip
				hidden_tooltip = {
					capital_scope = {
						change_variable = { which = prosperity_value value = 5 }
					}
				}
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				scaled_wealth = 1.0
			}
		}
	}
}

# Opening Ceremony - Who Plays Prometheus?
character_event = {
	id = promethean.453
	desc = promethean.453.desc
	picture = GFX_evt_prometheus_bound
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = { #play Prometheus yourself
		name = promethean.453.a
		save_event_target_as = festival_prometheus
		prestige = 100

		job_spiritual = {
			opinion = { modifier = ancrel_dissapointed who = ROOT years = 2}
		}

 		hidden_tooltip = { # inform the priest
 			job_spiritual = { character_event = { id = promethean.547 } }
 		}

 		ai_chance = {
 			factor = 25
 			modifier = {
 				factor = 1.5
 				trait = proud
 			}
 			modifier = {
 				factor = 1.5
 				trait = possessed
 			}
 			modifier = {
 				factor = 1.1
 				job_spiritual = {
 					ROOT = { NOT = { opinion = { who = PREV value = 0 } } }
 				}
 			}
 			modifier = {
 				factor = 1.1
 				job_spiritual = {
 					ROOT = { NOT = { opinion = { who = PREV value = -30 } } }
 				}
 			}
 			modifier = {
 				factor = 1.1
 				job_spiritual = {
 					ROOT = { NOT = { opinion = { who = PREV value = -60 } } }
 				}
 			}
 		}
	}

	option = { #have your Court Priest do it
		name = promethean.453.b
		trigger = {
			any_courtier = {
				has_job_title = job_spiritual
			}
		}

		job_spiritual = {
			prestige = 100
			save_event_target_as = festival_prometheus
			opinion = { modifier = ancrel_honored_me who = ROOT years = 2 }
		}

		hidden_tooltip = { #inform the priest
			job_spiritual = { character_event = { id = promethean.548 } }
		}

 		ai_chance = {
 			factor = 50
 			modifier = {
 				factor = 2
 				trait = just
 			}
 			modifier = {
 				factor = 1.2
 				trait = content
 			}
 			modifier = {
 				factor = 1.2
 				job_spiritual = {
 					ROOT = { opinion = { who = PREV value = 60 } }
 				}
 			}
 			modifier = {
 				factor = 1.2
 				trait = humble
 			}
 			modifier = {
 				factor = 1.2
 				job_spiritual = {
 					ROOT = { is_plot_target_of = PREV }
 				}
 			}
 		}
	}

	option = { #random pious vassal
		name = promethean.453.c
		trigger = {
			any_vassal = {
				piety = 500
				NOT = { has_job_title = job_spiritual }
			}
		}

		random_vassal = {
			limit = {
				piety = 500
				NOT = { has_job_title = job_spiritual }
			}

			prestige = 100
			save_event_target_as = festival_prometheus
			opinion = { modifier = ancrel_honored_me who = ROOT years = 2 }
		}

		job_spiritual = {
			opinion = { modifier = ancrel_dissapointed who = ROOT years = 2 }
		}

 		hidden_tooltip = { # inform the characters
 			event_target:festival_prometheus = { character_event = { id = promethean.548 } }
 			job_spiritual = { character_event = { id = promethean.546 } }
 		}

 		ai_chance = {
 			factor = 25
 			modifier = {
 				factor = 1.2
 				job_spiritual = {
 					ROOT = { NOT = { opinion = { who = PREV value = -30 } } }
 				}
 			}
 			modifier = {
 				factor = 1.2
 				job_spiritual = {
 					ROOT = { NOT = { opinion = { who = PREV value = -60 } } }
 				}
 			}
 			modifier = {
 				factor = 1.5
 				trait = arbitrary
 			}
 		}
	}

	option = { #totally random vassal, because apparently there is a lack of piety in your realm
		name = promethean.453.d
		trigger = {
			NOT = {
				any_vassal = {
					piety = 500
					NOT = { has_job_title = job_spiritual }
				}
			}
		}

		random_vassal = {
			limit = {
				NOT = { has_job_title = job_spiritual }
			}
			prestige = 100
			save_event_target_as = festival_prometheus
			opinion = { modifier = ancrel_honored_me who = ROOT years = 2 }
		}

		job_spiritual = {
			opinion = { modifier = ancrel_dissapointed who = ROOT years = 2 }
		}

 		hidden_tooltip = { # inform the characters
 			event_target:festival_prometheus = { character_event = { id = promethean.548 } }
 			job_spiritual = { character_event = { id = promethean.546 } }
 		}

 		ai_chance = {
 			factor = 25
 			modifier = {
 				factor = 1.2
 				job_spiritual = {
 					ROOT = { NOT = { opinion = { who = PREV value = -30 } } }
 				}
 			}
 			modifier = {
 				factor = 1.2
 				job_spiritual = {
 					ROOT = { NOT = { opinion = { who = PREV value = -60 } } }
 				}
 			}
 			modifier = {
 				factor = 1.5
 				trait = arbitrary
 			}
 			modifier = {
 				factor = 1.1
 				trait = lunatic
 			}
 		}
	}

	after = {
 		character_event = { id = promethean.454 days = 1 } # next decision
	}
}

# Opening Ceremony - Who Plays Heracles?
character_event = {
	id = promethean.454
	desc = promethean.454.desc
	picture = GFX_evt_prometheus_bound
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = { #play Heracles yourself
		name = promethean.454.a
		trigger = { # you can't play Prometheus and Heracles at the same time
			NOT = {
				character = event_target:festival_prometheus
			}
		}
		save_event_target_as = festival_heracles
		prestige = 100

		job_marshal = {
			reverse_opinion = { modifier = ancrel_dissapointed who = ROOT }
		}
		hidden_tooltip = {
			job_marshal = { # inform the marshal
				character_event = { id = promethean.544 }
			}
		}

 		ai_chance = {
 			factor = 25
 			modifier = {
 				factor = 1.5
 				trait = proud
 			}
 			modifier = {
 				factor = 1.5
 				trait = possessed
 			}
 			modifier = {
 				factor = 1.1
 				job_marshal = {
 					ROOT = { NOT = { opinion = { who = PREV value = 30 } } }
 				}
 			}
 			modifier = {
 				factor = 1.1
 				job_marshal = {
 					ROOT = { NOT = { opinion = { who = PREV value = 0 } } }
 				}
 			}
 			modifier = {
 				factor = 1.1
 				job_marshal = {
 					ROOT = { NOT = { opinion = { who = PREV value = -30 } } }
 				}
 			}
 		}
	}

	option = { #have your Marshal do it
		name = promethean.454.b
		trigger = {
			any_courtier = {
				has_job_title = job_marshal
			}
		}

		job_marshal = {
			prestige = 100
			save_event_target_as = festival_heracles
			opinion = { modifier = ancrel_honored_me who = ROOT years = 2 }
		}

		hidden_tooltip = { # inform the marshal
			job_marshal = {
				character_event = { id = promethean.545 }
			}
		}

 		ai_chance = {
 			factor = 50
 			modifier = {
 				factor = 2
 				trait = just
 			}
 			modifier = {
 				factor = 1.2
 				trait = content
 			}
 			modifier = {
 				factor = 1.2
 				job_marshal = {
 					ROOT = { opinion = { who = PREV value = 60 } }
 				}
 			}
 			modifier = {
 				factor = 1.2
 				trait = humble
 			}
 			modifier = {
 				factor = 1.2
 				job_marshal = {
 					ROOT = { is_plot_target_of = PREV }
 				}
 			}
 		}
	}

	option = { #random prestigous vassal
		name = promethean.454.c
		trigger = {
			any_vassal = {
				prestige = 500
					NOR = { 
						has_job_title = job_marshal
						event_target:festival_prometheus = {
							character = PREV
						}
					}
			}
		}

		random_vassal = {
			limit = {
				prestige = 500
				NOT = { has_job_title = job_marshal }
			}

			prestige = 100
			save_event_target_as = festival_heracles
			opinion = { modifier = ancrel_honored_me who = ROOT years = 2 }
		}

		job_marshal = {
			opinion = { modifier = ancrel_dissapointed who = ROOT years = 2 }
		}

		hidden_tooltip = {
			event_target:festival_heracles = { # inform the lucky vassal
				character_event = { id = promethean.545 }
			}
			job_marshal = { # inform the marshal
				character_event = { id = promethean.543 }
			}
		}

 		ai_chance = {
 			factor = 25
 			modifier = {
 				factor = 1.2
 				job_marshal = {
 					ROOT = { NOT = { opinion = { who = PREV value = -30 } } }
 				}
 			}
 			modifier = {
 				factor = 1.2
 				job_marshal = {
 					ROOT = { NOT = { opinion = { who = PREV value = -60 } } }
 				}
 			}
 			modifier = {
 				factor = 1.5
 				trait = arbitrary
 			}
 		}
	}

	option = { #totally random vassal, because apparently there is a lack of prestige in your realm
		name = promethean.454.d
		trigger = {
			NOT = {
				any_vassal = {
					prestige = 500
					NOR = { 
						has_job_title = job_marshal
						event_target:festival_prometheus = {
							character = PREV
						}
					}
				}
			}
		}

		random_vassal = {
			limit = {
				NOT = { has_job_title = job_marshal }
			}
			save_event_target_as = festival_heracles
			prestige = 100
			opinion = { modifier = ancrel_honored_me who = ROOT years = 2 }
		}
		job_marshal = {
			opinion = { modifier = ancrel_dissapointed who = ROOT years = 2 }
		}

		hidden_tooltip = {
			event_target:festival_heracles = { # inform the lucky vassal
				character_event = { id = promethean.545 }
			}
			job_marshal = { # inform the marshal
				character_event = { id = promethean.543 }
			}
		}

 		ai_chance = {
 			factor = 25
 			modifier = {
 				factor = 1.2
 				job_marshal = {
 					ROOT = { NOT = { opinion = { who = PREV value = -30 } } }
 				}
 			}
 			modifier = {
 				factor = 1.2
 				job_marshal = {
 					ROOT = { NOT = { opinion = { who = PREV value = -60 } } }
 				}
 			}
 			modifier = {
 				factor = 1.5
 				trait = arbitrary
 			}
 			modifier = {
 				factor = 1.1
 				trait = lunatic
 			}
 		}
	}

	after = {
		narrative_event = { id = promethean.455 days = 1 } # the opening ceremony!		
	}
}

# Opening Ceremony (liege)
narrative_event = {
	id = promethean.455
	title = ancrel.unbinding_prometheus
	picture = GFX_evt_prometheus_bound
	border = GFX_event_narrative_frame_religion

	desc = { # the ruler is Prometheus
		trigger = {
			character = event_target:festival_prometheus
		}
		text = promethean.455.desc.prometheus
	}
	desc = { # the ruler is Heracles
		trigger = {
			character = event_target:festival_heracles
		}
		text = promethean.455.desc.heracles
	}
	desc = { # the ruler is neither
		trigger = {
			NOR = {
				character = event_target:festival_heracles
				character = event_target:festival_prometheus
			}
		}
		text = promethean.455.desc.other
	}

	immediate = {
		add_character_modifier = {
			name = holding_unbinding_festival
			duration = -1
		}
	}

	is_triggered_only = yes

	option = {
		name = promethean.455.a
		hidden_tooltip = {
			any_realm_character = { # regular vassals
				limit = {
					NOR = {
						event_target:festival_heracles = {
							character = PREV
						}
						event_target:festival_prometheus = {
							character = PREV
						}
					}
				}
				narrative_event = { id = promethean.456 }
			}
			if = {
				limit = {
					event_target:festival_prometheus = {
						NOT = { character = ROOT }
					}
				}
				event_target:festival_prometheus = { # prometheus
					narrative_event = { id = promethean.457 }
				}
			}
			if = {
				limit = {
					event_target:festival_heracles = {
						NOT = { character = ROOT }
					}
				}
				event_target:festival_heracles = { # heracles
					narrative_event = { id = promethean.458 }
				}
			}
		}
	}
}

# Opening Ceremony (vassals)
narrative_event = {
	id = promethean.456
	title = ancrel.unbinding_prometheus
	desc = promethean.455.desc.other
	picture = GFX_evt_prometheus_bound
	border = GFX_event_narrative_frame_religion

	is_triggered_only = yes

	option = {
		name = promethean.456.a
		set_character_flag = unbinding_festival_open
	}
}

# Opening Ceremony (Prometheus)
narrative_event = {
	id = promethean.457
	title = ancrel.unbinding_prometheus
	desc = promethean.455.desc.prometheus
	picture = GFX_evt_prometheus_bound
	border = GFX_event_narrative_frame_religion

	is_triggered_only = yes

	option = {
		name = promethean.457.a
		set_character_flag = unbinding_festival_open
	}
}

# Opening Ceremony (Heracles)
narrative_event = {
	id = promethean.458
	title = ancrel.unbinding_prometheus
	desc = promethean.455.desc.heracles
	picture = GFX_evt_prometheus_bound
	border = GFX_event_narrative_frame_religion

	is_triggered_only = yes

	option = {
		name = promethean.458.a
		set_character_flag = unbinding_festival_open
	}
}

###################################################################
#
# Festival Events
#
###################################################################

# A firedancer accidentally burns down a building!
character_event = {
	id = promethean.459
	desc = promethean.459.desc
	picture = GFX_evt_burning_house

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
		NOT = { has_character_flag = ancrel_remove_firedancers }
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 480
		
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_cheap_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_grand_festivities
		}
	}

	option = {
		name = promethean.459.a
		capital_holding = {
			destroy_random_building = yes
		}
	}
}

# a vassal is pleased by the firedancer's performance
character_event = {
	id = promethean.460
	desc = promethean.460.desc
	picture = GFX_evt_firedancers

	trigger = { 
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
		NOT = { has_character_flag = ancrel_remove_firedancers }
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 360
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}	
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_cheap_festivities
		}
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_grand_festivities
		}
	}

	option = {
		name = promethean.460.a
		random_vassal = {
			limit = {
				prisoner = no
			}
			opinion = {
				modifier = opinion_approves
				who = ROOT
				years = 5
			}
		}
	}
}

# spouse/courtier/vassal looks attractive in the firelight (liege)
character_event = {
	id = promethean.461
	desc = promethean.461.desc
	picture = GFX_evt_couple_by_firelight

	is_triggered_only = yes

	option = { # make your move!
		name = promethean.461.a
		hidden_tooltip = {
			FROM = { # replace the vanilla spurn/accept event, because it sucks
				character_event = { id = promethean.492 }
			}
		}

		random = {
			chance = 25
			add_trait = lustful
			hidden_tooltip = {
				character_event = { id = 38272 } #Notify Lustful
			}
		}

		ai_chance = {
			factor = 20
			modifier = {
				factor = 1.5
				trait = lustful
			}
			modifier = {
				factor = 5
				is_lover = FROM
			}
			modifier = {
				factor = 10
				has_focus = focus_seduction
			}
			modifier = {
				factor = 2
				NOT = {
					any_lover = {
						count = 1
					}
				}
			}
		}
	}

	option = { # admire from afar
		name = promethean.461.b
		piety = 25

		random_list = {
			10 = {
				add_trait = content
				hidden_tooltip = {
   					character_event = {
  						id = 38279 #Notify Content
   					}
   				}
			}
			20 = {
				add_trait = stressed
				hidden_tooltip = {
   					character_event = {
  						id = 38282 #Notify Stressed
   					}
   				}
			}
			70 = {
				#do nothing
			}
		}

		ai_chance = {
			factor = 60
			modifier = {
				factor = 200
				any_lover = {
					count = 3
				}
			}
			modifier = {
				factor = 2
				trait = content
			}
			modifier = {
				factor = 2
				NOT = { 
					opinion = { who = FROM value = 30} 
				}
			}
			modifier = {
				factor = 0.5
				opinion = { who = FROM value = 60 }
			}
		}
	}

	option = { # who needs sex?
		name = promethean.461.c
		piety = 100

		random_vassal = {
			limit = {
				is_theocracy = yes
				NOT = {
					trait = lustful
					trait = seducer
					trait = seductress
					has_focus = focus_carousing
					has_focus = focus_seduction
				}
			}

			opinion = { 
				modifier = opinion_approves 
				who = ROOT 
				years = 5
			}
		}
		random_realm_character = {
			limit = {
				OR = {
					trait = lustful
					trait = seducer
					trait = seductress
					has_focus = focus_carousing
					has_focus = focus_seduction
				}
			}

			opinion = {
				modifier = ancrel_dissapointed
				who = ROOT
				years = 5
			}
		}

		random = {
			chance = 25
			add_trait = chaste
			hidden_tooltip = {
				character_event = { id = 38274 } #Notify Chaste
			}
		}

		ai_chance = {
			factor = 20
			modifier = {
				factor = 200
				OR = {
					trait = monk
					trait = nun
					trait = celibate
				}

			}
			modifier = {
				factor = 0
				OR = {
					trait = lustful
					trait = hedonist
					trait = seducer
					trait = seductress
				}
			}
		}
	}
}

# courtier/vassal looks attractive in the firelight (c/v)
character_event = {
	id = promethean.462
	hide_window = yes

	min_age = 15

	trigger = {
		liege = {
			has_character_modifier = holding_unbinding_festival
			OR = {
				NOT = { has_character_flag = festival_event_happened }
				had_character_flag = {
					flag = festival_event_happened
					days = 3
				}
			}
			is_attracted_to_prev = yes
			NOT = { spouse = { character = ROOT } } # different event for spouses, since they may not be a vassal
			NOT = { has_character_flag = ancrel_remove_firedancers }
		}
	}

	immediate = {
		liege = {
			set_character_flag = festival_event_happened
			set_character_flag = festival_lover
			character_event = { id = promethean.461 }
		}
	}

	mean_time_to_happen = {
		days = 360

		modifier = {
			factor = 0.75
			liege = { trait = lustful }
		}
		modifier = {
			factor = 0.9
			trait = lustful
		}
		modifier = {
			factor = 0.8
			is_fair_trigger = yes
		}
		modifier = {
			factor = 0.7
			liege = {
				is_lover = ROOT
			}
		}
		modifier = {
			factor = 1.5
			liege = {
				trait = chaste
			}
		}
		modifier = {
			factor = 2
			liege = {
				has_character_flag = festival_lover
			}
		}
		modifier = {
			factor = 10
			liege = {
				trait = celibate
			}
		}
	}
}

# spouse looks attractive in the firelight (spouse)
character_event = {
	id = promethean.463
	hide_window = yes

	min_age = 15

	trigger = {
		spouse = {
			has_character_modifier = holding_unbinding_festival
			OR = {
				NOT = { has_character_flag = festival_event_happened }
				had_character_flag = {
					flag = festival_event_happened
					days = 3
				}
			}
			is_attracted_to_prev = yes
			NOT = { has_character_flag = ancrel_remove_firedancers }
		}
	}

	immediate = {
		spouse = {
			set_character_flag = festival_event_happened
			set_character_flag = festival_lover
			character_event = { id = promethean.461 }
		}
	}

	mean_time_to_happen = {
		days = 180

		modifier = {
			factor = 0.75
			spouse = { trait = lustful }
		}
		modifier = {
			factor = 0.9
			trait = lustful
		}
		modifier = {
			factor = 0.8
			is_fair_trigger = yes
		}
		modifier = {
			factor = 0.5
			spouse = {
				is_lover = ROOT
			}
		}
		modifier = {
			factor = 1.5
			spouse = {
				trait = chaste
			}
		}
		modifier = {
			factor = 2
			spouse = {
				has_character_flag = festival_lover
			}
		}
		modifier = {
			factor = 10
			spouse = {
				trait = celibate
			}
		}
	}
}

# The character accepts or spurns the liege/spouse
character_event = {
	id = promethean.492
	desc = promethean.492.desc
	picture = GFX_evt_lovers

	is_triggered_only = yes

	option = {
		name = EVTOPTA452 # What took him/her so long?
		ai_chance = {
			factor = 34
			modifier = {
				factor = 2
				FROM = {
					ROOT = { is_attracted_to_prev = yes }
				}
			}
			modifier = {
				factor = 1.5
				spouse = {
					ROOT = { likes_better_than = { who = FROM than = PREV } }
				}
			}
			modifier = {
				factor = 1.2
				trait = lustful
			}
			modifier = {
				factor = 1.2
				trait = arbitrary
			}
		}
		
		add_lover = FROM
		
		FROM = { character_event = { id = 453 tooltip = EVTTOOLTIP453 } }
		
		# Chance of impregnation
		if = {
			limit = {
				fertility = 0.25
				FROM = { fertility = 0.25 }
				OR = {
					AND = {
						is_female = yes
						FROM = { is_female = no }
						NOT = { age = 45 }
					}
					AND = {
						is_female = no
						FROM = {
							is_female = yes
							NOT = { age = 45 }
						}
					}
				}
			}
			if = {
				limit = {
					fertility = 0.5
					FROM = { fertility = 0.5 }
				}
				random_list = {
					75 = {
						if = { 
							limit = {
								OR = {
									is_female = yes
									FROM = {
										is_female = yes
									}
								}
							}
							impregnate = FROM
							break = yes
						}
						impregnate_cuckoo = FROM
					}
					25 = { }
				}
				break = yes
			}
			
			random_list = {
				50 = {
					if = { 
						limit = {
							OR = {
								is_female = yes 
								FROM = {
									is_female = yes
								}
							}
						}
						impregnate = FROM
						break = yes
					}
					impregnate_cuckoo = FROM
				}
				50 = { }
			}
		}
	}

	option = {
		name = EVTOPTB452 # Dissuade
		ai_chance = {
			factor = 33
			modifier = {
				factor = 10
				trait = chaste
			}
			modifier = {
				factor = 2
				FROM = { is_female = no }
				is_female = yes
			}
			modifier = {
				factor = 2
				trait = shy
			}
			modifier = {
				factor = 0.5
				trait = trusting
			}
			modifier = {
				factor = 0.1
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 5
				FROM = {
					ROOT = { is_attracted_to_prev = no }
				}
			}
		}
		
		FROM = { character_event = { id = 454 tooltip = EVTTOOLTIP454 } }
	}

	option = {
		name = EVTOPTC452 # Scream for help!
		trigger = {
			FROM = { is_female = no }
			is_female = yes
			NOT = { trait = lustful }
			NOT = { trait = hedonist }
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 10
				trait = chaste
			}
			modifier = {
				factor = 2
				trait = shy
			}
			modifier = {
				factor = 0.5
				trait = trusting
			}
			modifier = {
				factor = 0.01
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 10
				FROM = {
					ROOT = { is_attracted_to_prev = no }
				}
			}
		}
		FROM = { character_event = { id = 455 tooltip = EVTTOOLTIP455 } }
	}
}

# you've been burned by firedancer oil!
character_event = {
	id = promethean.464
	desc = promethean.464.desc
	picture = GFX_evt_firedancers

	trigger = { 
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
		NOT = { has_character_flag = ancrel_remove_firedancers }
	}

	immediate = {
		set_character_flag = festival_event_happened
		add_trait = wounded
	}

	mean_time_to_happen = {
		days = 360
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}	
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_cheap_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_grand_festivities
		}
	}

	option = { # execute them!
		name = promethean.464.a
		custom_tooltip = {
			text = ancrel.remove_firedancers
			set_character_flag = ancrel_remove_firedancers
		}
		prestige = 100
		random = {
			chance = 20
			add_trait = wroth
		}
		capital_scope = {
			add_province_modifier = {
				name = peasant_unrest
				days = 180
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = impaler
			}
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
		}
	}
	option = { # imprison them!
		name = promethean.464.b
		custom_tooltip = {
			text = ancrel.remove_firedancers
			set_character_flag = ancrel_remove_firedancers
		}
		prestige = 50
		capital_scope = {
			add_province_modifier = {
				name = peasant_unrest
				days = 90
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 1.5
				trait = arbitrary
			}
			modifier = {
				factor = 1.5
				trait = proud
			}
		}
	}
	option = { # on with the show!
		name = promethean.464.c
		prestige = -100

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = just
			}
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = craven
			}
		}
	}
}

# a vassal is burned by fire dancer oil!
character_event = {
	id = promethean.494
	hide_window = yes

	trigger = { 
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
		NOT = { has_character_flag = ancrel_remove_firedancers }
	}

	immediate = {
		set_character_flag = festival_event_happened
		random_vassal = {
			character_event = { id = promethean.465 days = 0 }
		}
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.50
			NOT = { has_character_flag = festival_event_happened }
		}	
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_cheap_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_grand_festivities
		}
	}
}

# a vassal has been burned by fire dancer oil! (vassal)
character_event = {
	id = promethean.465
	desc = promethean.465.desc
	picture = GFX_evt_firedancers

	is_triggered_only = yes

	immediate = {
		add_trait = wounded
	}

	option = { # demand the firedancers are punished!
		name = promethean.465.a
		custom_tooltip = {
			text = promethean.465.a.tt
			liege = {
				character_event = { id = promethean.466 }
			}
		}
		random = {
			chance = 20
			add_trait = wroth
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = wroth
			}
			modifier = {
				factor = 5
				trait = cruel
			}
			modifier = {
				factor = 10
				trait = impaler
			}
		}
	}
	option = { 	# it was an unfortunate, painful, accident. thats all
		name = promethean.465.b
		custom_tooltip = {
			text = promethean.465.b.tt
			liege = {
				character_event = { id = promethean.467 }
			}
		}
		random = {
			chance = 20
			add_trait = kind
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = patient
			}
			modifier = {
				factor = 5
				trait = kind
			}
			modifier = {
				factor = 10
				trait = just
			}
		}
	}
}

# a vassal is burned by firedancer oil and demands punishment! (liege)
character_event = {
	id = promethean.466
	desc = promethean.466.desc
	picture = GFX_evt_firedancers

	is_triggered_only = yes

	option = {
		#kill 'em
		name = promethean.466.a
		custom_tooltip = {
			text = ancrel.remove_firedancers
			set_character_flag = ancrel_remove_firedancers
		}
		reverse_opinion = { modifier = ancrel_pleased who = FROM years = 2 }
		random = {
			chance = 20
			add_trait = arbitrary
		}
		capital_scope = {
			add_province_modifier = {
				name = peasant_unrest
				days = 180
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = impaler
			}
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value = 30 }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value = 60 }
			}
		}
	}
	option = {
		#remove them from the festival
		name = promethean.466.b
		custom_tooltip = {
			text = ancrel.remove_firedancers
			set_character_flag = ancrel_remove_firedancers
		}
		capital_scope = {
			add_province_modifier = {
				name = peasant_unrest
				days = 90
			}
		}
		random = {
			chance = 20
			add_trait = just
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = impaler
			}
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 1.1
				opinion = { who = FROM value = 30 }
			}
			modifier = {
				factor = 1.1
				opinion = { who = FROM value = 60 }
			}
		}
	}
	option = {
		# it was just an accident
		name = promethean.466.c
		reverse_opinion = { modifier = ancrel_dissapointed who = FROM years = 2 }
		random = {
			chance = 20
			add_trait = kind
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = just
			}
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = { who = FROM value = -30 }
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = { who = FROM value = -60 }
				}
			}
		}
	}
}

# a vassal is burned by firedancer oil and suggests leniency! (liege)
character_event = {
	id = promethean.467
	desc = promethean.467.desc
	picture = GFX_evt_firedancers

	is_triggered_only = yes

	option = {
		#kill 'em
		name = promethean.467.a
		reverse_opinion = { modifier = ancrel_dissapointed who = FROM years = 2 }
		custom_tooltip = {
			text = ancrel.remove_firedancers
			set_character_flag = ancrel_remove_firedancers
		}
		random = {
			chance = 20
			add_trait = arbitrary
		}
		capital_scope = {
			add_province_modifier = {
				name = peasant_unrest
				days = 180
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = impaler
			}
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = { who = FROM value = -30 }
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = { who = FROM value = -60 }
				}
			}
		}
	}
	option = {
		#remove them from the festival
		name = promethean.467.b
		custom_tooltip = {
			text = ancrel.remove_firedancers
			set_character_flag = ancrel_remove_firedancers
		}
		random = {
			chance = 20
			add_trait = just
		}
		capital_scope = {
			add_province_modifier = {
				name = peasant_unrest
				days = 90
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = impaler
			}
			modifier = {
				factor = 2
				trait = cruel
			}
			modifier = {
				factor = 2
				trait = arbitrary
			}
			modifier = {
				factor = 1.1
				opinion = { who = FROM value = 30 }
			}
			modifier = {
				factor = 1.1
				opinion = { who = FROM value = 60 }
			}
		}
	}
	option = {
		# it was just an accident
		name = promethean.467.c
		random = {
			chance = 20
			add_trait = kind
		}
		reverse_opinion = { modifier = ancrel_pleased who = FROM years = 2 }

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = just
			}
			modifier = {
				factor = 2
				trait = kind
			}
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value = 30 }
			}
			modifier = {
				factor = 1.2
				opinion = { who = FROM value = 60 }
			}
		}
	}
}

# actors portray the brothers making humanity, two vassals have theological argument
character_event = {
	id = promethean.470
	desc = promethean.470.desc
	picture = GFX_evt_jugglers

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
		any_realm_character = {
			prisoner = no
			liege = {
				character = ROOT
			}
			trait = zealous
		}
		any_realm_character = {
			prisoner = no
			liege = {
				character = ROOT
			}
			trait = cynical
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
		random_realm_character = {
			limit = {
				prisoner = no
				liege = {
					character = ROOT
				}
				trait = cynical
			}
			save_event_target_as = cynic
		}
		random_realm_character = {
			limit = {
				prisoner = no
				liege = {
					character = ROOT
				}
				trait = zealous
			}
			save_event_target_as = zealot
		}
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}	
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_grand_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_cheap_festivities
		}
	}

	option = { # agree with the cynical vassal
		name = promethean.470.a
		event_target:cynic = {
			add_friend = ROOT
		}
		event_target:zealot = {
			add_rival = ROOT
		}
		random = {
			chance = 15
			add_trait = zealous
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.2
				likes_better_than = { who = event_target:cynic than = event_target:zealot }
			}
			modifier = {
				factor = 5
				trait = cynical
			}
		}
	}
	option = { # diffuse the situation
		name = promethean.470.b
		trigger = {
			diplomacy = 13
		}
		tooltip_info = diplomacy

		prestige = 25

		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				NOR = {
					trait = cynical
					trait = zealous
				}
			}
		}
	}
	option = { # waffle
		name = promethean.470.c
		trigger = {
			NOT = {
				diplomacy = 13
			}
		}
		event_target:cynic = {
			opinion = {	modifier = ancrel_dissapointed who = ROOT years = 2	}
		}
		event_target:zealot = {
			opinion = {	modifier = ancrel_dissapointed who = ROOT years = 2	}
		}
		random = {
			chance = 20
			add_trait = stressed
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 5
				trait = craven
			}
		}
	}
	option = { # agree with the zealous vassal
		name = promethean.470.d
		event_target:cynic = {
			add_rival = ROOT
		}
		event_target:zealot = {
			add_friend = ROOT
		}
		random = {
			chance = 15
			add_trait = cynical
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.2
				likes_better_than = { who = event_target:zealot than = event_target:cynic }
			}
			modifier = {
				factor = 5
				trait = zealous
			}
		}
	}
}

# actors botch a performance and unintentionally blaspheme, and rioting ensues
character_event = {
	id = promethean.471
	desc = promethean.471.desc
	picture = GFX_evt_riots_byzantine

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}	
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_cheap_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_grand_festivities
		}
	}

	option = {
		name = promethean.471.a
		capital_scope = {
			add_province_modifier = { name = acr_blasphemous_exhibition duration = 180 }
		}
	}
}

# actors do an amazing performance and peasants are pleased!
character_event = {
	id = promethean.472
	desc = promethean.472.desc
	picture = GFX_evt_peasants

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}	
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_grand_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_cheap_festivities
		}
	}

	option = {
		name = promethean.472.a
		capital_scope = {
			add_province_modifier = { name = acr_excellent_performance duration = 180 }
		}
	}
}

# a brilliant actor distinguishes themselves, you may invite them to your court
character_event = {
	id = promethean.473
	desc = promethean.473.desc
	picture = GFX_evt_diplomat

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}	
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_grand_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_cheap_festivities
		}
	}

	option = { # welcome them into your court
		name = promethean.473.a
		create_character = {
			dynasty = none
			age = 23
			religion = promethean_pagan
			culture = ROOT
			attributes = {
				diplomacy = 10
			}
			trait = grey_eminence
			trait = scholar
			trait = genius
			trait = fair
			trait = diligent
			trait = proud
			trait = envious
		}
		new_character = {
			opinion = { modifier = opinion_patron who = ROOT years = 10 }
		}
		ai_chance = {
			factor = 90
		}
	}
	option = { # no need for professional liars in my court
		name = promethean.473.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 3
				trait = honest
			}
			modifier = {
				factor = 1.2
				trait = arbitrary
			}
		}
	}
}

# you are called up on stage to perform a key scene
character_event = {
	id = promethean.474
	desc = promethean.474.desc
	picture = GFX_evt_theatre

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}	
	}

	option = { # chicken out (bawk!)
		name = promethean.474.a
		prestige = -10
		random_list = {
			80 = {
				#do nothing
			}
			10 = {
				add_trait = craven
			}
			10 = {
				add_trait = stressed
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 0
				diplomacy = 14 # be diplomatic if you can
			}
		}
	}
	option = { # go on stage, but stick to the lines
		name = promethean.474.b
		custom_tooltip = {
			text = promethean.474.b.tt
			random_list = {
				33 = { # good outcome
					modifier = {
						factor = 2
						learning = 12
					}
					character_event = { id = promethean.475 }
				}
				34 = { # neutral outcome
					modifier = {
						factor = 1.5
						learning = 8
						NOT = { learning = 12 }
					}
					character_event = { id = promethean.476 }
				}
				33 = { # bad outcome
					modifier = {
						factor = 1.2
						NOT = { learning = 8 }
					}
					character_event = { id = promethean.477 }
				}
			}
		}

		ai_chance = {
			factor = 25
			modifier ={
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 1.5
				trait = gregarious
			}
			modifier = {
				factor = 2
				trait = content
			}
		}
	}
	option = { # go on stage and improvise the lines
		name = promethean.474.c
		custom_tooltip = {
			text = promethean.474.c.tt
			hidden_tooltip = {
				random_list = {
					50 = { # good outcome
						modifier = {
							factor = 1.2
							intrigue = 12
						}
						modifier = {
							factor = 1.2
							intrigue = 16
						}
						modifier = {
							factor = 1.2
							diplomacy = 12
						}
						modifier = {
							factor = 1.2
							diplomacy = 16
						}
						modifier = {
							factor = 1.2
							trait = gregarious
						}
						character_event = { id = promethean.478 }
					}
					50 = { # bad outcome
						modifier = {
							factor = 1.2
							NOT = { intrigue = 8 }
						}
						modifier = {
							factor = 1.2
							NOT = { intrigue = 4 }
						}
						modifier = {
							factor = 1.2
							NOT = { diplomacy = 8 }
						}
						modifier = {
							factor = 1.2
							NOT = { diplomacy = 4 }
						}
						modifier = {
							factor = 1.2
							trait = shy
						}
						character_event = { id = promethean.479 }
					}
				}
			}
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = brave
			}
			modifier = {
				factor = 2
				trait = gregarious
			}
			modifier = {
				factor = 2
				trait = ambitious
			}
		}
	}
	option = { # gracefully decline
		trigger = {
			diplomacy = 14
		}
		name = promethean.474.d
		tooltip_info = diplomacy

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				NOR = {
					trait = brave
					trait = gregarious
				}
			}
			modifier ={
				factor = 2
				trait = craven
			}
			modifier = {
				factor = 1.2 # slight preference for this option when available
				always = yes
			}
		}
	}
}

# stick to the lines (good outcome)
character_event = {
	id = promethean.475
	desc = promethean.475.desc
	picture = GFX_evt_theatre

	is_triggered_only = yes

	option = {
		name = promethean.475.a
		prestige = 50
		add_character_modifier = { name = acr_good_performance duration = 360 }
	}
}

# stick to the lines (neutral outcome)
character_event = {
	id = promethean.476
	desc = promethean.476.desc
	picture = GFX_evt_theatre

	is_triggered_only = yes

	option = {
		name = promethean.476.a
	}
}

# stick to the lines (bad outcome)
character_event = {
	id = promethean.477
	desc = promethean.477.desc
	picture = GFX_evt_theatre

	is_triggered_only = yes

	option = {
		name = promethean.477.a
		prestige = -50
		add_character_modifier = { name = acr_bad_performance duration = 360 }
	}
}

# improvise! (bad outcome)
character_event = {
	id = promethean.478
	desc = promethean.478.desc
	picture = GFX_evt_theatre

	is_triggered_only = yes

	option = {
		name = promethean.478.a
		prestige = -100
		add_character_modifier = { name = acr_terrible_performance duration = 360 }
	}
}

# improvise! (good outcome)
character_event = {
	id = promethean.479
	desc = promethean.479.desc
	picture = GFX_evt_theatre

	is_triggered_only = yes
	option = {
		name = promethean.479.a
		prestige = 100
		add_character_modifier = { name = acr_great_performance duration = 360 }
	}
}

# a philosopher speaks about Pandora and the Jar
character_event = {
	id = promethean.480
	desc = promethean.480.desc
	picture = GFX_evt_priests_in_forest

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 180
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}
	}

	option = { # say something pious
		name = promethean.480.a
		piety = 10
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				trait = zealous
			}
		}
	}
	option = { # say something proud
		name = promethean.480.b
		prestige = 10
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				trait = proud
			}
		}
	}
}

# a philosopher tells the story of Deucalion's flood, with bits of metal in the stones
character_event = {
	id = promethean.481
	desc = promethean.481.desc
	picture = GFX_evt_priests_in_forest

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 180
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}
	}

	option = { # git a wee bit 'o piety
		name = promethean.481.a
		piety = 10
	}
}

# a philosopher discusses the goal of enlightenment and oneness
character_event = {
	id = promethean.482
	desc = promethean.482.desc
	picture = GFX_evt_priests_in_forest

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 180
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}
	}

	option = { # i hope to reach CHIM someday...
		name = promethean.482.a
		piety = 10
		ai_chance = {
			factor = 50
			modifier = {
				factor = 10
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = cynical
			}
		}
	}
	option = { # bunch of balderdash...
		name = promethean.482.b
		piety = -10
		ai_chance = {
			factor = 50
		}
	}
}

# brilliant philosopher can join your court
character_event = {
	id = promethean.483
	desc = promethean.483.desc
	picture = GFX_evt_emissary

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_grand_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_cheap_festivities
		}
	}

	option = { # invite them to your court
		name = promethean.483.a
		create_character = {
			dynasty = none
			age = 26
			religion = promethean_pagan
			culture = ROOT
			attributes = {
				learning = 10
			}
			trait = mastermind_theologian
			trait = scholar
			trait = genius
			trait = celibate
			trait = diligent
		}
		new_character = {
			opinion = { modifier = opinion_patron who = ROOT years = 10 }
		}

		ai_chance = {
			factor = 90
		}
	}
	option = { # i don't like having smart people in my employ :-/
		name = promethean.483.b

		ai_chance = {
			factor = 10
			modifier = {
				factor = 10
				trait = cynical
			}
		}
	}
}

# painter creates a caricature of you
character_event = {
	id = promethean.484
	desc = promethean.484.desc
	picture = GFX_evt_jugglers #placeholder

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 180
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}
	}

	option = { # laugh
		name = promethean.484.a
		random = {
			chance = 20
			add_trait = humble
		}
	}
	option = { # huff
		name = promethean.484.b
		random = {
			chance = 20
			add_trait = proud
		}
	}
	option = { # throw 'em in the klink
		name = promethean.485.c
		random_list = {
			10 = {
				add_trait = arbitrary
			}
			10 = {
				add_trait = cruel
			}
			80 = {
				#do nothing
			}
		}
	}
}

# sculptor makes an amazing statue of Prometheus giving fire to humanity
character_event = {
	id = promethean.485
	desc = promethean.485.desc
	picture = GFX_evt_prometheus_statue

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_grand_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_cheap_festivities
		}
	}

	option = { # appreciate the statue
		name = promethean.485.a

		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = content
			}
			modifier = {
				factor = 1.5
				trait = humble
			}
			modifier = {
				factor = 1.5
				trait = charitable
			}
			modifier = {
				factor = 2
				NOT = { wealth = 200 }
			}
		}
	}
	option = { # make everyone roll there eyes at you
		name = promethean.485.b
		piety = 50
		random_vassal = {
			limit = {
				NOT = { trait = zealous }
			}
			opinion = { modifier = opinion_annoyed who = ROOT years = 1 }
		}

		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 0.1
				trait = cynical
			}
		}
	}
	option = { # buy it!
		name = promethean.485.c
		wealth = -50
		add_character_modifier = { name = acr_grand_sculpture duration = 360 }

		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = greedy
			}
			modifier = {
				factor = 1.2
				trait = proud
			}
			modifier = {
				factor = 0
				NOT = {
					wealth = 100
				}
			}
		}
	}
}

# a statue is about to fall on liege and vassal
character_event = {
	id = promethean.493
	hide_window = yes

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
		random_vassal = { # ping the vassal
			character_event = { id = promethean.486 }
		}
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			liege = { NOT = { has_character_flag = festival_event_happened } }
		}
		modifier = {
			factor = 0.75
			liege = { has_character_flag = unbinding_cheap_festivities }
		}
		modifier = {
			factor = 1.25
			liege = { has_character_flag = unbinding_grand_festivities }
		}
	}
}

# falling statue, ping off the vassal
character_event = {
	id = promethean.486
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		liege = {
			character_event = { id = promethean.487 }
		}
	}
}

# a statue is about to fall on you and a vassal! (liege)
character_event = {
	id = promethean.487
	desc = promethean.487.desc
	picture = GFX_evt_falling_statue

	is_triggered_only = yes

	option = { # warn them and get out of the way
		name = promethean.487.a
		custom_tooltip = {
			text = promethean.487.a.tt
			hidden_tooltip = {
				FROM = { character_event = { id = promethean.488 } }
			}
		}
		random = {
			chance = 10
			add_trait = wounded
			hidden_tooltip = {
				character_event = { id = 38280 } # Notify Wounded
			}
		}

		ai_chance = {
			factor = 70
		}
	}
	option = { # run, like a coward
		name = promethean.487.b
		custom_tooltip = {
			text = promethean.487.b.tt
			hidden_tooltip = {
				FROM = { character_event = { id = promethean.489 }	}
			}
		}
		random = {
			chance = 25
			add_trait = craven
			hidden_tooltip = {
				character_event = { id = 38257 } # Notify Craven
			}
		}

		ai_chance = {
			factor = 15
			modifier = {
				factor = 5
				trait = craven
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = 0 } }
			}
			modifier = {
				factor = 1.5
				NOT = { opinion = { who = FROM value = -30 } }
			}
		} 
	}
	option = { # get all heroic and push them out of the way
		name = promethean.487.c
		custom_tooltip = {
			text = promethean.487.c.tt
			hidden_tooltip = {
				FROM = { character_event = { id = promethean.490 } }
			}
		}
		random_list = {
			10 = {
				#do nothing
			}
			10 = {
				death = { death_reason = death_accident }
			}
			20 = {
				add_maimed_trait_effect = yes
			}
			60 = {
				add_trait = wounded
				hidden_tooltip = {
					character_event = { id = 38280 } # Notify Wounded
				}
			}
		}
		add_trait = brave
		hidden_tooltip = {
			character_event = { id = 38270 } # Notify Brave
		}

		ai_chance = {
			factor = 15
			modifier = {
				factor = 5
				trait = brave
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 30 }
			}
			modifier = {
				factor = 1.5
				opinion = { who = FROM value = 60 }
			}
		} 
	}
}

# your liege warns of the falling statue before diving out of the way
character_event = {
	id = promethean.488
	desc = promethean.488.desc
	picture = GFX_evt_falling_statue	

	is_triggered_only = yes

	option = {
		name = promethean.488.a
		random_list = {
			5 = {
				death = { death_reason = death_accident }
			}
			15 = {
				add_maimed_trait_effect = yes			
			}
			30 = {
				add_trait = wounded
				hidden_tooltip = {
					character_event = { id = 38280 } # Notify Wounded
				}
			}
			50 = {
				#do nothing
			}
		}
	}
}

# your liege flees in terror for some reason...
character_event = {
	id = promethean.489
	desc = promethean.489.desc
	picture = GFX_evt_falling_statue

	is_triggered_only = yes

	option = {
		name = promethean.489.a
		random_list = {
			20 = {
				death = { death_reason = death_accident }
			}
			30 = {
				add_maimed_trait_effect = yes
			}
			50 = {
				add_trait = wounded
				hidden_tooltip = {
					character_event = { id = 38280 } # Notify Wounded
				}
			}
		}
		opinion = { modifier = opinion_hate who = FROM years = 100 }
	}
}

# your liege throws you to safety before a statue falls on them!
character_event = {
	id = promethean.490
	desc = promethean.490.desc
	picture = GFX_evt_falling_statue

	is_triggered_only = yes

	option = {
		name = promethean.490.a
		add_friend = FROM
	}
}

# artist tries something revolutionary (offensive) and does a mural of "The Sisters"
character_event = {
	id = promethean.491
	desc = promethean.491.desc
	picture = GFX_evt_favourite_poet

	trigger = {
		has_character_modifier = holding_unbinding_festival
		OR = {
			NOT = { has_character_flag = festival_event_happened }
			had_character_flag = {
				flag = festival_event_happened
				days = 3
			}
		}
	}

	immediate = {
		set_character_flag = festival_event_happened
	}

	mean_time_to_happen = {
		days = 270
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = festival_event_happened }
		}
		modifier = {
			factor = 0.75
			has_character_flag = unbinding_cheap_festivities
		}
		modifier = {
			factor = 1.25
			has_character_flag = unbinding_grand_festivities
		}
	}

	option = {
		name = ancrel.horrible
		capital_scope = {
			add_province_modifier = { name = peasant_unrest duration = 180 }
		}
	}
}

# our liege must cancel the festival due to war
character_event = {
	id = promethean.541
	desc = promethean.541.desc
	picture = GFX_evt_market

	is_triggered_only = yes

	option = {
		name = OK
	}
}

# we are at war, we must cancel the festival!
character_event = {
	id = promethean.542
	desc = promethean.542.desc
	picture = GFX_evt_market

	war = yes
	has_character_flag = unbinding_festival

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		clear_unbinding_effect = yes
	}

	option = {
		name = OK
		hidden_tooltip = {
			any_vassal = {
				limit = {
					prisoner = no
				}
				character_event = { id = promethean.541 }
			}
		}
	}
}

###################################################################
# Notification events for vassals during prep
###################################################################

# You've been slighted in the selection of Heracles! (marshal)
character_event = {
	id = promethean.543
	desc = promethean.543.desc
	picture = GFX_evt_prometheus_bound

	is_triggered_only = yes
	
	option = {
		name = ancrel.that_bastard
		opinion = { modifier = ancrel_jealous who = event_target:festival_heracles years = 2 }
	}
}

# You're liege has decided to play Heracles! (marshal)
character_event = {
	id = promethean.544
	desc = promethean.544.desc
	picture = GFX_evt_prometheus_bound

	is_triggered_only = yes
	
	option = {
		name = ancrel.bummer
	}
}

# You've been selected to play Heracles!
character_event = {
	id = promethean.545
	desc = {
		trigger = {
			has_job_title = job_marshal
		}
		text = promethean.545.desc
	}
	desc = {
		trigger = {
			NOT = { has_job_title = job_marshal }
		}
		text = promethean.545.desc_alt
	}
	picture = GFX_evt_prometheus_bound

	is_triggered_only = yes
	
	option = {
		name = ancrel.fantastic
	}
}

# You've been slighted in the selection of Prometheus! (chaplain)
character_event = {
	id = promethean.546
	desc = promethean.546.desc
	picture = GFX_evt_prometheus_bound

	is_triggered_only = yes

	option = {
		name = ancrel.that_bastard
		opinion = { modifier = ancrel_jealous who = event_target:festival_prometheus years = 2 }
	}
}

# You're liege has decided to play Prometheus! (chaplain)
character_event = {
	id = promethean.547
	desc = promethean.547.desc
	picture = GFX_evt_prometheus_bound

	is_triggered_only = yes

	option = {
		name = ancrel.bummer
	}
}

# You've been selected to play Prometheus!
character_event = {
	id = promethean.548
	desc = {
		trigger = {
			has_job_title = job_spiritual
		}
		text = promethean.548.desc
	}
	desc = {
		trigger = {
			NOT = { has_job_title = job_spiritual }
		}
		text = promethean.548.desc_alt
	}
	picture = GFX_evt_prometheus_bound

	is_triggered_only = yes
	
	option = {
		name = ancrel.fantastic
	}
}

# Festival is over!
character_event = {
	id = promethean.549
	desc = promethean.549.desc
	picture = GFX_evt_market
	border = GFX_event_normal_frame_economy

	trigger = {
		had_character_flag = { flag = unbinding_festival days = 60 }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		clear_unbinding_effect = yes
	}

	option = {
		name = promethean.549.a
		any_vassal = {
			limit = {
				prisoner = no
			}
			opinion = {
				modifier = opinion_held_unbinding_festival
				who = ROOT
				years = 1
			}
		}
	}
}

###################################################################
#
# Promethean Holy Orders
# - promethean.550 - promethean.599
#
###################################################################

# Men of Steel created!
# narrative_event = {
	# id = promethean.550
	# title = promethean.550.title
	# desc = promethean.550.desc
	# picture = GFX_evt_war_planning
	# border = GFX_event_narrative_frame_war

	# major = yes
	# is_triggered_only = yes

	# option = {
		# name = promethean.550.a
		# trigger = {
			# has_character_flag = acr_organizer_steel
		# }
	# }

	# option = {
		# name = promethean.550.b
		# trigger = {
			# religion = promethean_pagan
			# NOT = {
				# has_character_flag = acr_organizer_steel
			# }
		# }
	# }

	# option = {
		# name = promethean.550.c
		# trigger = {
			# NOT = { religion = promethean_pagan }
		# }
	# }
# }
