##################################################################
# 
# ANCIENT RELIGIONS
# - Britannic Events
#
##################################################################

namespace = britannic

# Archdryad is created
character_event = {
	id = britannic.0
	desc = britannic.0.desc
	picture = GFX_evt_church_council
	border = GFX_event_normal_frame_religion

	major = yes
	is_triggered_only = yes

	option = {
		name = britannic.0.a
		trigger = {
			religion = britannic_pagan
		}
	}

	option = {
		name = britannic.0.b
		trigger = {
			true_religion_in_celtic_subgroup_trigger = yes
			NOT = { religion = britannic_pagan }
		}
	}

	option = {
		name = britannic.0.c
		trigger = {
			true_religion_in_celtic_subgroup_trigger = no
		}
	}

	after = {
		event_target:archdryad = {
			recalc_succession = yes
		}
	}
}

# A dryad gives birth
character_event = {
	id = britannic.1
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		mother_even_if_dead = {
			religion = britannic_pagan
			OR = {
				trait = dryad
				trait = bad_dryad
			}
		}
	}

	immediate = {
		mother = {
			if = {
				limit = { is_alive = yes }
				piety = 100
				prestige = 20
				character_event = { id = britannic.2 days = 1 }
			}
		}

		add_trait = child_of_dryad

		if = {
			limit = {
				# stuff?
				trait = bastard
			}

			remove_trait = bastard
		}
	}
}

# bounce off mom
character_event = {
	id = britannic.2
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		liege = {
			if = {
				limit = {
					religion = britannic_pagan
					NOT = {
						FROM = {
							father = {
								character = PREVPREV
							}
						}
					}
				}
				character_event = { id = britannic.3 days = 0 }
			}
			any_realm_character = {
				limit = {
					religion = britannic_pagan
					NOT = {
						FROM = {
							father = {
								character = PREVPREV
							}
						}
					}
				}
				character_event = { id = britannic.3 days = 0 }
			}
		}
		FROM = {
			father = {
				character_event = { id = britannic.3 days = 0 }
			}
		}
	}
}

# let the (sub)realm know
character_event = {
	id = britannic.3
	desc = britannic.3.desc
	picture = GFX_evt_birth
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.3.a
		trigger = {
			NOT = { 
				FROMFROM = {
					father = {
						character = ROOT
					}
				}
			}
		}
	}

	option = {
		name = britannic.3.a
		trigger = {
			FROMFROM = {
				father = {
					character = ROOT
				}
			}
		}

		piety = 50
	}
}

# dryad gets dryad trait
character_event = {
	id = britannic.4
	hide_window = yes

	religion = britannic_pagan
	only_women = yes

	trigger = {
		is_theocracy = yes
		NOR = {
			trait = dryad
			trait = bad_dryad
		}
	}

	immediate = {
		add_trait = dryad
	}

	mean_time_to_happen = {
		days = 1
	}
}

# dryad becoming a wicked Dryad
character_event = {
	id = britannic.5
	desc = britannic.5.desc
	picture = GFX_evt_scandal
	border = GFX_event_normal_frame_religion
	
	min_age = 15
	only_capable = yes
	prisoner = no	
	religion = britannic_pagan
	has_dlc = "Sons of Abraham"
	
	trigger = {
		OR = {
			trait = dryad
			is_theocracy = yes
		}
		NOR = {
			intrigue = 3
			diplomacy = 3
			trait = bad_dryad
		}
		OR = {
			trait = cynical
			trait = chaste
			trait = celibate
			trait = gluttonous
			trait = greedy
			trait = slothful
			trait = envious
			trait = wroth
			trait = proud
			trait = lunatic
			trait = possessed
			trait = hedonist
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = britannic.5.a
		add_trait = bad_dryad
		if = {
			limit = {
				is_ruler = yes
				has_nickname = no
				NOT = { trait = possessed }
				NOT = { trait = lunatic }
			}
			give_nickname = nick_the_wicked
		}
		if = {
			limit = {
				is_ruler = yes
				has_nickname = no
				trait = possessed
			}
			give_nickname = nick_the_bewitched
		}
		if = {
			limit = {
				is_ruler = yes
				has_nickname = no
				trait = lunatic
			}
			give_nickname = nick_the_mad
		}
	}
}

# Archdryad is Wicked!
character_event = {
	id = britannic.6
	hide_window = yes

	min_age = 15
	only_capable = yes
	prisoner = no
	religion = britannic_pagan
	has_dlc = "Sons of Abraham"

	trigger = {
		controls_religion = yes
		trait = bad_dryad
		NOT = { has_character_modifier = bad_rel_head }
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		add_character_modifier = {
			name = bad_rel_head
			duration = -1
			hidden = yes
		}
		any_player = {
			limit = {
				religion_head = {
					character = ROOT
				}
			}
			character_event = { id = britannic.7 days = 8 random = 7 }         # Notify players
		}
	}
}

# players notified of Wicked Archdryad
character_event = {
	id = britannic.7
	desc = britannic.7.desc
	picture = GFX_evt_pope_feast
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.7.a
	}
}

##################################################################
# britannic theocracy succession
# fixes laws and abdicates if necessary
##################################################################

#[on_new_holder]
character_event = {
	id = britannic.8
	hide_window = yes

	is_triggered_only = yes

	religion = britannic_pagan
	only_men = yes

	trigger = {
		is_theocracy = yes
	}

	immediate = {
		FROM = {
			add_law = { law = enatic_succession cooldown = no opinion_effect = no }
			add_law = { law = succ_catholic_bishopric cooldown = no opinion_effect = no }
		}

		create_random_priest = {
			religion = britannic_pagan
			culture = ROOT
			female = yes
		}
		new_character = {
			add_trait = dryad
			ROOT = {
				abdicate_to = PREV
			}
		}

		recalc_succession = yes
	}
}

#[on_character_convert_religion]
character_event = {
	id = britannic.9
	hide_window = yes

	is_triggered_only = yes

	religion = britannic_pagan
	only_men = yes

	trigger = {
		is_theocracy = yes
	}

	immediate = {
		primary_title = {
			add_law = { law = enatic_succession cooldown = no opinion_effect = no }
			add_law = { law = succ_catholic_bishopric cooldown = no opinion_effect = no }
		}

		create_random_priest = {
			religion = britannic_pagan
			culture = ROOT
			female = yes
		}
		new_character = {
			add_trait = dryad
			ROOT = {
				abdicate_to = PREV
			}
		}

		recalc_succession = yes
	}
}

##################################################################
# 
# Britannic
# - Knights of Saint Boudicca
#   britannic.10 - 19 reserved
#
##################################################################

# character_event = {
	# id = britannic.10
	# title = britannic.10.title
	# desc = britannic.10.desc
	# picture = GFX_evt_warrior_banners
	# border = GFX_event_normal_frame_war

	# major = yes
	
	# only_rulers = yes
	# religion = britannic_pagan
	
	# trigger = {
		# NOT = {
			# is_title_active = d_saint_boudicca
		# }

		# controls_religion = yes # Let it happen for the Archdryad - she needs to be here anyway
	# }
	
	# mean_time_to_happen = {
		# months = 6
	# }
	
	# immediate = {
		# k_britannic_pagan = {
			# holder_scope = {
				# save_event_target_as = archdryad
			# }
		# }
		# activate_title = { title = d_saint_boudicca status = yes }
		# create_character = {
			# random_traits = no
			# dynasty = random
			# religion = britannic_pagan
			# culture = event_target:archdryad
			# female = yes
			# age = 28
			# trait = brilliant_strategist
			# trait = zealous
			# trait = humble
			# trait = ambitious
			# trait = strategist
			# trait = holy_warrior
		# }
		# new_character = {
			# wealth = 500
			# save_event_target_as = boudicca_leader
			# d_saint_boudicca = {
				# grant_title = PREV
			# }
			# set_government_type = order_government
			# set_defacto_liege = this
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = event_target:boudicca_leader
				# female = yes
				# age = 16
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = event_target:boudicca_leader
				# female = yes
				# age = 18
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = event_target:boudicca_leader
				# female = yes
				# age = 18
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = event_target:boudicca_leader
				# female = yes
				# age = 20
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = irish
				# female = yes
				# age = 25
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = event_target:boudicca_leader
				# female = yes
				# age = 26
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = scottish
				# female = yes
				# age = 28
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = welsh
				# female = no
				# age = 16
			# }
			# create_character = {
				# random_traits = yes
				# dynasty = random
				# religion = britannic_pagan
				# culture = event_target:boudicca_leader
				# female = no
				# age = 17
			# }
		# }
	# }
	
	# option = {
		# name = britannic.10.a
		# trigger = {
			# religion = britannic_pagan
		# }
	# }
	# option = {
		# name = britannic.10.b
		# trigger = {
			# is_feminist_religion_trigger = no
			# NOT = { religion = britannic_pagan }
		# }
	# }
	# option = {
		# name = britannic.10.c
		# trigger = {
			# is_feminist_religion_trigger = yes
			# NOT = {	religion = britannic_pagan }
		# }
	# }
# }

##################################################################
# 
# Britannic
# - Archdryad Interferes
# - Archdryad Chafes Under Secular Overlord
#   britannic.20 - 49 reserved
#
##################################################################

# archdryad wants you to have a dryad on your council
character_event = {
	id = britannic.20
	hide_window = yes

	religion = britannic_pagan
	has_global_flag = acr_arch_dryad_created

	trigger = {
		is_ruler = yes
		is_theocracy = no
		NOT = { # she's cool so long as you have at least two dryads on your council
			any_voter = {
				count = 2
				trait = dryad
			}
		}
		NOT = { archdryad_non_interference_trigger = yes }
	}

	mean_time_to_happen = {
		months = 120

		modifier = {
			factor = 1.5
			trait = zealous
		}
		modifier = {
			factor = 1.5
			has_education_learning_trigger = yes
		}
		modifier = {
			factor = 1.2
			piety = 500
		}
		modifier = {
			factor = 1.5
			piety = 1000
		}
		modifier = { # if you've given in to her demands in the last five years, she's way less likely to bug you
			factor = 10
			has_character_flag = acr_submit_to_arch_dryad
			NOT = { had_character_flag = { flag = acr_submit_to_arch_dryad days = 1825 } }
		}
	}

	immediate = {
		k_britannic_pagan = {
			holder_scope = {
				character_event = { id = britannic.21 days = 1 }
			}
		}
	}
}

character_event = {
	id = britannic.21
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		create_random_priest = {
			female = yes
			age = 25
			culture = FROM
			religion = britannic_pagan
			random_traits = yes
		}
		new_character = {
			add_trait = dryad
			add_trait = zealous

			save_event_target_as = new_dryad
		}

		FROM = {
			if = {
				limit = { 
					any_voter = {
						trait = bad_dryad
					}
				}

				random_voter = {
					limit = {
						trait = bad_dryad
					}

					save_event_target_as = old_councilor
				}
			} else_if = {
				limit = {
					any_voter = {
						trait = cynical
					}
				}

				random_voter = {
					limit = {
						trait = cynical
					}
					save_event_target_as = old_councilor
				}
			} else = {
				random_voter = {
					limit = {
						NOT = {
							trait = dryad
						}
					}
					save_event_target_as = old_councilor
				}
			}

			character_event = { id = britannic.22 days = 0 }
		}
	}
}

character_event = {
	id = britannic.22
	desc = {
		text = britannic.22.desc.bad_dryad
		trigger = {
			event_target:old_councilor = {
				trait = bad_dryad
			}
		}
	}
	desc = {
		text = britannic.22.desc.cynic
		trigger = {
			event_target:old_councilor = {
				trait = cynical
				NOT = { trait = bad_dryad }
			}
		}
	}
	desc = {
		text = britannic.22.desc.other
		trigger = {
			event_target:old_councilor = {
				NOR = {
					trait = bad_dryad
					trait = cynical
				}
			}
		}
	}
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = { # Acquiesce to her request
		name = britannic.22.a
		clr_character_flag = acr_submit_to_arch_dryad
		set_character_flag = acr_submit_to_arch_dryad

		piety = 100
		prestige = -50
		reverse_opinion = { who = FROM modifier = ancrel_pleased }
		reverse_opinion = { who = event_target:old_councilor modifier = ancrel_dissapointed }

		event_target:new_dryad = {
			move_character = ROOT
		}

		#figure out which job to give to new_dryad
		if = {
			limit = {
				job_spiritual = {
					character = event_target:old_councilor
				}
			}

			event_target:new_dryad = {
				give_job_title = job_spiritual
			}
		}
		if = {
			limit = {
				job_spymaster = {
					character = event_target:old_councilor
				}
			}

			event_target:new_dryad = {
				give_job_title = job_spymaster
			}
		}
		if = {
			limit = {
				job_treasurer = {
					character = event_target:old_councilor
				}
			}

			event_target:new_dryad = {
				give_job_title = job_treasurer
			}
		}
		if = {
			limit = {
				job_marshal = {
					character = event_target:old_councilor
				}
			}

			event_target:new_dryad = {
				give_job_title = job_marshal
			}
		}
		if = {
			limit = {
				job_chancellor = {
					character = event_target:old_councilor
				}
			}

			event_target:new_dryad = {
				give_job_title = job_chancellor
			}
		}
		if = {
			limit = {
				event_target:old_councilor = {
					has_minor_title = title_councilmember_king
				}
			}

			event_target:new_dryad = {
				give_minor_title = title_councilmember_king
			}
		}
		if = {
			limit = {
				event_target:old_councilor = {
					has_minor_title = title_councilmember_emperor
				}
			}

			event_target:new_dryad = {
				give_minor_title = title_councilmember_emperor
			}
		}

		ai_chance = {
			factor = 90
		}
	}

	option = { # be disinclined
		name = britannic.22.b
		piety = -100
		prestige = 50

		reverse_opinion = { who = FROM modifier = ancrel_dissapointed }
		reverse_opinion = { who = event_target:old_councilor modifier = ancrel_pleased }

		custom_tooltip = { # new_dryad returns to archdryad with your answer
			text = britannic.22.b.tt
		}

		ai_chance = {
			factor = 10
		}
	}

	option = { # ah, but you see <diplomacy diplomacy>
		name = britannic.22.c
		tooltip_info = diplomacy

		trigger = { diplomacy > 12 }

		ai_chance = {
			factor = 50
		}
	}

	option = { # cite scripture to get out of it
		name = britannic.22.d
		tooltip_info = learning

		trigger = { learning > 12 }

		ai_chance = {
			factor = 50
		}
	}
}

# archdryad wants your laws to favor priests
character_event = {
	id = britannic.23
	hide_window = yes

	religion = britannic_pagan

	trigger = {
		is_ruler = yes
		is_theocracy = no
		OR = {
			tier = COUNT
			is_patrician = yes
		}
		# doesn't have laws churches like
		NOR = {
			AND = {
				has_law = tax_levy_law_theocracy_4
				has_dlc = "Zeus"
			}
			AND = {
				OR = {
					has_law = temple_contract_0
					has_law = temple_tax_0
				}
				NOT = { has_dlc = "Zeus" }
			}
		}

		archdryad_non_interference_trigger = no
	}

	immediate = {
		k_britannic_pagan = {
			holder_scope = { character_event = { id = britannic.24 days = 1 } }
		}
	}

	mean_time_to_happen = {
		months = 120

		modifier = {
			factor = 1.5
			trait = zealous
		}
		modifier = {
			factor = 1.5
			has_education_learning_trigger = yes
		}
		modifier = {
			factor = 1.2
			piety = 500
		}
		modifier = {
			factor = 1.5
			piety = 1000
		}
		modifier = { # if you've given in to her demands in the last five years, she's way less likely to bug you
			factor = 10
			has_character_flag = acr_submit_to_arch_dryad
			NOT = { had_character_flag = { flag = acr_submit_to_arch_dryad days = 1825 } }
		}
	}
}

character_event = {
	id = britannic.24
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOT = { has_dlc = "Zeus" }
			}
			random_list = {
				10 = {
					modifier = {
						factor = 0
						has_law = temple_contract_0
					}

					FROM = { set_character_flag = acr_reduce_contract_law }
				}
				10 = {
					modifier = {
						factor = 0
						has_law = temple_tax_0
					}

					FROM = { set_character_flag = acr_reduce_tax_law }
				}
			}
		}

		FROM = { character_event = { id = britannic.25 days = 0 } }
	}
}

character_event = {
	id = britannic.25
	desc = {
		text = britannic.25.contract
		trigger = { 
			NOT = { has_dlc = "Zeus" }
			has_character_flag = acr_reduce_contract_law
		}
	}
	desc = {
		text = britannic.25.tax
		trigger = { 
			NOT = { has_dlc = "Zeus" }
			has_character_flag = acr_reduce_tax_law
		}
	}
	desc = {
		text = britannic.25.zeus
		trigger = {
			has_dlc = "Zeus"
		}
	}
	picture = GFX_evt_emissary
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.25.a
		if = {
			limit = {
				has_character_flag = acr_reduce_contract_law
			}
			primary_title = { lower_temple_levy_obligation_effect = yes }
		} else_if = {
			limit = {
				has_character_flag = acr_reduce_tax_law
			}
			primary_title = { lower_temple_tax_obligation_effect = yes }
		} else = {
			primary_title = { move_temple_obligations_toward_balanced_effect = yes }
		}

		reverse_opinion = { who = FROM modifier = ancrel_pleased }
		clr_character_flag = acr_submit_to_arch_dryad
		set_character_flag = acr_submit_to_arch_dryad
	}

	option = {
		name = britannic.25.b

		reverse_opinion = { who = FROM modifier = ancrel_dissapointed }
	}

	option = {
		name = britannic.25.c
		tooltip_info = diplomacy

		trigger = {
			diplomacy > 12
		}
	}

	option = {
		name = britannic.25.d
		tooltip_info = learning

		trigger = {
			learning > 12
		}
	}
}

# Placate the Archdryad (bounce off her)
character_event = {
	id = britannic.26
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROM = { character_event = { id = britannic.27 days = 6 } }
	}
}

# notify ruler the AD is placated
letter_event = {
	id = britannic.27
	desc = britannic.27.desc
	border = GFX_event_letter_frame_religion
	is_triggered_only = yes

	option = {
		name = britannic.27.a
		custom_tooltip = { text = britannic.27.tt }
		set_character_flag = archdryad_noninterference
	}
}

# archdryad demands you switch to "papal" investiture
# having this trigger on the ruler because the AD will NOT
# put up with this shit (unless she *really* likes you)
character_event = {
	id = britannic.28
	hide_window = yes

	religion = britannic_pagan
	only_rulers = yes

	trigger = {
		primary_title = {
			has_law = investiture_law_1
		}
		is_title_active = k_britannic_pagan

		k_britannic_pagan = {
			holder_scope = {
				NOT = { opinion = { who = ROOT value = 80 } }
			}
		}
	}

	immediate = {
		k_britannic_pagan = {
			holder_scope = {
				character_event = { id = britannic.29 days = 1 }
			}
		}
	}

	mean_time_to_happen = {
		months = 36
	}
}

# ping off the archdryad
character_event = {
	id = britannic.29
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROM = {
			letter_event = { id = britannic.30 days = 3 }
		}
	}
}

# AD demands you switch to papal investiture (ruler)
letter_event = {
	id = britannic.30
	desc = britannic.30.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = { # submit to her demand
		name = britannic.30.a

		primary_title = {
			revoke_law = investiture_law_1
			add_law = investiture_law_0
		}

		FROM = {
			opinion = { who = ROOT modifier = ancrel_pleased }
		}
	}

	option = { # refuse
		name = britannic.30.b

		FROM = {
			opinion = { who = ROOT modifier = ancrel_furious }
		}
	}
}

##################################################################
# Vassalized Archdryad Events                                   #
##################################################################

# Archdryad demands control of Middlesex
character_event = {
	id = britannic.31
	hide_window = yes

	religion = britannic_pagan
	only_rulers = yes
	only_women = yes

	trigger = {
		independent = no
		controls_religion = yes
		top_liege = {
			NOT = { reverse_opinion = { who = ROOT value = 80 } }
			NOT = { has_character_flag = ancrel_scriptured_archdryad_@ROOT }
			archdryad_non_interference_trigger = no
			any_realm_title = {
				title = c_londinium
				holder_scope = {
					NOT = { character = ROOT }
				}
			}
		}
	}

	immediate = {
		liege = {
			letter_event = { id = britannic.32 days = 1 }
		}
	}

	mean_time_to_happen = {
		months = 36

		modifier = {
			factor = 10
			archdryad_submission_trigger = yes
		}
	}
}

letter_event = {
	id = britannic.32
	desc = britannic.32.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = { # submit
		name = britannic.32.a

		c_londinium = {
			holder_scope = {
				if = {
					limit = {
						NOT = { character = ROOT }
					}

					opinion = { who = ROOT modifier = ancrel_furious }
				}
			}

			usurp_title_plus_barony_if_unlanded_and_vassals = FROM
			FROM = {
				opinion = { who = ROOT modifier = ancrel_pleased }
			}
		}
	}

	option = { # defy her
		name = britannic.32.b

		c_londinium = {
			holder_scope = {
				if = {
					limit = {
						NOT = { character = ROOT }
					}

					opinion = { who = ROOT modifier = ancrel_grateful }
				}
			}
		}

		FROM = {
			opinion = { who = ROOT modifier = ancrel_furious }
		}
	}

	option = { # out scripture her
		name = britannic.32.c
		custom_tooltip = { text = britannic.32.c.tt }
		tooltip_info = learning
		set_character_flag = ancrel_scriptured_archdryad_@FROM
		set_character_flag = acr_submit_to_arch_dryad
		trigger = {
			learning = 16
		}
	}
}

# Archdryad demands control of Essex
character_event = {
	id = britannic.33
	hide_window = yes

	religion = britannic_pagan
	only_rulers = yes
	only_women = yes

	trigger = {
		independent = no
		controls_religion = yes
		top_liege = {
			NOT = { reverse_opinion = { who = ROOT value = 80 } }
			NOT = { has_character_flag = ancrel_scriptured_archdryad_@ROOT }
			archdryad_non_interference_trigger = no
			any_realm_title = {
				title = d_lundein
				holder_scope = {
					NOT = { character = ROOT }
				}
			}
		}
	}

	immediate = {
		liege = {
			letter_event = { id = britannic.34 days = 1 }
		}
	}

	mean_time_to_happen = {
		months = 36

		modifier = {
			factor = 10
			archdryad_submission_trigger = yes
		}
	}
}

letter_event = {
	id = britannic.34
	desc = britannic.34.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = { # submit
		name = britannic.34.a

		d_lundein = {
			holder_scope = {
				if = {
					limit = {
						NOT = { character = ROOT }
					}

					opinion = { who = ROOT modifier = ancrel_furious }
				}
			}

			usurp_title_plus_barony_if_unlanded_and_vassals = FROM
			FROM = {
				opinion = { who = ROOT modifier = ancrel_pleased }
			}
		}
	}

	option = { # defy her
		name = britannic.34.b

		d_lundein = {
			holder_scope = {
				if = {
					limit = {
						NOT = { character = ROOT }
					}

					opinion = { who = ROOT modifier = ancrel_grateful }
				}
			}
		}

		FROM = {
			opinion = { who = ROOT modifier = ancrel_furious }
		}
	}

	option = { # out scripture her
		name = britannic.34.c
		tooltip_info = learning
		set_character_flag = ancrel_scriptured_archdryad_@FROM
		set_character_flag = acr_submit_to_arch_dryad
		trigger = {
			learning = 16
		}
	}
}

# Archdryad demands to be released as a vassal
character_event = {
	id = britannic.35
	hide_window = yes

	religion = britannic_pagan
	only_women = yes
	only_rulers = yes

	trigger = {
		controls_religion = yes
		independent = no
		NOT = { # demand Middlesex and Essex first, if she can
			liege = {
				any_realm_title = {
					OR = {
						title = d_lundein
						title = c_londinium
					}
				}
				archdryad_non_interference_trigger = yes
				reverse_opinion = { who = ROOT value = 60 }
				has_character_flag = refused_independence_@ROOT
			}
		}
	}

	immediate = {
		liege = {
			letter_event = { id = britannic.36 days = 1 }
		}
	}

	mean_time_to_happen = {
		years = 10

		modifier = {
			factor = 2
			archdryad_submission_trigger = yes
		}
	}
}

letter_event = {
	id = britannic.36
	desc = britannic.36.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = { # release her
		name = britannic.36.a

		FROM = {
			set_defacto_liege = THIS
		}
	}

	option = { # refuse
		name = britannic.36.b
		set_character_flag = refused_independence_@FROM
		FROM = {
			opinion = { who = ROOT modifier = ancrel_furious }
		}
	}
}
# Archdryad threatens your position
character_event = {
	id = britannic.37
	hide_window = yes

	only_rulers = yes
	only_women = yes
	religion = britannic_pagan

	trigger = {
		independent = no
		controls_religion = yes
		liege = {
			any_realm_title = {
				OR = {
					title = d_lundein
					title = c_londinium
				}
			}
			archdryad_non_interference_trigger = no
			reverse_opinion = { who = ROOT value = 80 }
			has_character_flag = refused_independence_@ROOT
		}
	}

	immediate = {
		liege = {
			letter_event = { id = britannic.38 days = 1 }
		}
	}

	mean_time_to_happen = {
		months = 36

		modifier = {
			factor = 2
			archdryad_submission_trigger = yes
		}
	}
}

letter_event = {
	id = britannic.38
	desc = britannic.38.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.38.a

		FROM = {
			set_defacto_liege = THIS
		}
	}

	option = {
		name = britannic.38.b
		set_character_flag = ignored_ultimatum_archdryad_@FROM
		FROM = {
			custom_tooltip = {
				text = britannic.39.tt
				hidden_tooltip = {
					character_event = { id = britannic.39 days = 7 }
				}
			}
		}
	}
}

# grants a claim to a powerful/ambitious/both vassal
character_event = {
	id = britannic.39
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		ROOT = {
			most_popular_vassal = {
				limit = {
					OR = {
						AND = {
							ai_ambition = 30
							ai_zeal = 30
						}
						AND = {
							ai = no
							OR = {
								trait = ambitious
								trait = zealous
							}
						}
					}
				}

				FROM = {
					primary_title = {
						add_claim = PREVPREV
					}
				}

				save_event_target_as = chosen_vassal
			}

			any_realm_character = {
				character_event = { id = britannic.40 days = 3 }
			}
		}

		character_event = { id = britannic.41 days = 365 }
	}
}

character_event = {
	id = britannic.40
	desc = britannic.40.desc
	picture = GFX_evt_pope
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = { # WHAT?!
		name = britannic.40.a
		trigger = {
			FROMFROM = {
				character = ROOT
			}
		}
	}

	option = { # Nice
		name = britannic.40.b
		trigger = {
			event_target:chosen_vassal = {
				character = ROOT
			}
		}
	}

	option = { # interesting...
		name = britannic.40.c
		trigger = {
			NOR = {
				FROMFROM = {
					character = ROOT
				}
				event_target:chosen_vassal = {
					character = ROOT
				}
			}
		}
	}
}

# excommunicates you
character_event = {
	id = britannic.41
	hide_window = yes

	is_triggered_only = yes

	trigger = {
		independent = no
	}

	immediate = {
		liege = { character_event = { id = britannic.42 days = 3 } }
	}
}

character_event = {
	id = britannic.42
	desc = britannic.42.desc
	picture = GFX_evt_emissary

	hide_from = yes
	is_triggered_only = yes

	option = {
		name = britannic.42.a

		add_trait = excommunicated
		piety = -50
	}
}

# instigates local peasant revolts against you

# wide-scale rebellion

##################################################################
# 
# Britannic
# - Archdryad Grants Boons
#   britannic.50 - 99 reserved
#
##################################################################

# The Archdryad gives money to someone fighting infidels
character_event = {
	id = britannic.50
	hide_window = yes
	
	min_age = 15
	only_playable = yes
	war = no
	
	trigger = {
		controls_religion = yes	
		religion = britannic_pagan

		wealth = 600
		any_playable_ruler = {
			religion = ROOT
			NOT = { wealth = 500 }
			religion_head = {
				character = ROOT
			}
			NOT = { excommunicated_for = ROOT }
			any_current_enemy = {
				NOT = { religion = PREV }
			}
			NOT = { war_with = ROOT }
			reverse_opinion = { who = ROOT value = 0 }

			# don't have the archdryad bombard the player
			NOT = { had_character_flag = { flag = soldier_from_the_archdryad days = 365 } }
			OR = {
				NOT = { has_character_flag = money_from_the_archdryad }
				OR = {
					had_character_flag = { flag = money_from_the_archdryad days = 730 }
					AND = {
						ai = yes
						had_character_flag = { flag = money_from_the_archdryad days = 365 }
						any_war = {
							OR = {
								using_cb = county_conquest
								using_cb = duchy_invasion
								using_cb = viking_invasion_britannia
								using_cb = imperial_reclaim
								using_cb = county_conquest_tribal
							}
							OR = {
								attacker = {
									character = PREVPREV
									defender = { NOT = { religion = britannic_pagan } }
									NOT = { war_score = -15 }
								}
								defender = {
									character = PREVPREV
									attacker = { NOT = { religion = britannic_pagan } }
									war_score = 15
								}
							}
						}
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
		modifier = {
			factor = 0.5
			wealth = 1000
		}
		modifier = {
			factor = 0.5
			wealth = 2000
		}
	}
	
	option = {
		name = OK
		ai_chance = { factor = 100 }
		wealth = -200
		
		random_playable_ruler = {
			limit = {
				religion = ROOT
				NOT = { wealth = 500 }
				religion_head = {
					character = ROOT
				}
				NOT = { excommunicated_for = ROOT }
				any_current_enemy = {
					NOT = { religion = PREV }
				}
				NOT = { war_with = ROOT }
				reverse_opinion = {
					who = ROOT
					value = 0
				}
				OR = {
					NOT = { has_character_flag = money_from_the_archdryad }
					OR = {
						had_character_flag = { flag = money_from_the_archdryad days = 730 }
						AND = {
							ai = yes
							had_character_flag = { flag = money_from_the_archdryad days = 365 }
							any_war = {
								OR = {
									using_cb = county_conquest
									using_cb = duchy_invasion
									using_cb = viking_invasion_britannia
									using_cb = imperial_reclaim
									using_cb = county_conquest_tribal
								}
								OR = {
									attacker = {
										character = PREVPREV
										defender = { NOT = { religion = britannic_pagan } }
										NOT = { war_score = -15 }
									}
									defender = {
										character = PREVPREV
										attacker = { NOT = { religion = britannic_pagan } }
										war_score = 15
									}
								}
							}
						}
					}
				}
			}
			
			letter_event = { id = britannic.51 }
		}
	}
	
	option = {
		name = NO
		ai_chance = { factor = 0 }
	}
}

letter_event = {
	id = britannic.51
	desc = britannic.51.desc
	border = GFX_event_letter_frame_religion
	
	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = { reverse_opinion = { who = FROM value = 50 } }
		}
		name = britannic.51.a
		wealth = 200
		set_character_flag = money_from_the_archdryad
	}

	option = {
		trigger = {
			reverse_opinion = { who = FROM value = 50 }
		}
		name = britannic.51.a
		wealth = 500
		set_character_flag = money_from_the_archdryad
	}
}

# Archdryad offers absolution for Kinslaying
character_event = {
	id = britannic.52
	hide_window = yes
	
	min_age = 15
	only_capable = yes
	prisoner = no
	only_playable = yes
	religion = britannic_pagan
	war = no
	
	trigger = {
		controls_religion = yes
		
		any_independent_ruler = {
			religion = ROOT
			rightful_religious_head = ROOT
			is_any_kinslayer_trigger = yes
			piety = 100
			reverse_opinion  = { who = ROOT value = 0 }
			NOT = { has_character_flag = kinslaying_offered }
		}
	}
	
	mean_time_to_happen = {
		months = 24
	}
	immediate = {
		random_independent_ruler = {
			limit = {
				religion = ROOT
				rightful_religious_head = ROOT
				is_any_kinslayer_trigger = yes
				piety = 100
				reverse_opinion  = { who = ROOT value = 0 }
			}
			set_character_flag = kinslaying_offered
		}
	}
	
	option = {
		name = OK
		ai_chance = { factor = 100 }
		
		random_independent_ruler = {
			limit = {
				religion = ROOT
				rightful_religious_head = ROOT
				is_any_kinslayer_trigger = yes
				piety = 100
				reverse_opinion  = { who = ROOT value = 0 }
			}
			
			character_event = { id = britannic.53 }
		}
	}
	
	option = {
		name = NO
		ai_chance = { factor = 0 }
	}
}

character_event = {
	id = britannic.53
	desc = britannic.53.desc
	picture = GFX_evt_pope
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = britannic.53.a
		ai_chance = { factor = 100 }
		trigger_switch = {
			on_trigger = trait
			kinslayer = {
				piety = -100
				wealth = -50
				remove_trait = kinslayer
			}
			familial_kinslayer = {
				piety = -50
				wealth = -25
				remove_trait = familial_kinslayer
			}
			dynastic_kinslayer = {
				piety = -25
				wealth = -12
				remove_trait = dynastic_kinslayer
			}
		}
		FROM = { character_event = { id = britannic.54 days = 1 tooltip = britannic.54.tt } }
	}
	
	option = {
		name = britannic.53.b
		ai_chance = { factor = 0 }
		add_trait = cynical
		FROM = { character_event = { id = britannic.55 days = 1  tooltip = britannic.55.tt } }
	}
}

character_event = {
	id = britannic.54
	hide_window = yes
	
	is_triggered_only = yes

	option = {
		name = OK
		prestige = 10
	}
}

character_event = {
	id = britannic.55
	hide_window = yes
	
	is_triggered_only = yes
	
	option = {
		name = OK
		prestige = -10
	}
}

# Archdryad sends a holy warrior to serve someone fighting infidels
character_event = {
	id = britannic.56
	hide_window = yes
	
	min_age = 15
	only_playable = yes
	war = no
	
	trigger = {
		controls_religion = yes	
		religion = britannic_pagan

		# don't have the archdryad bombard the player
		NOT = { had_character_flag = { flag = money_from_the_archdryad days = 365 } }
		NOT = { wealth = 500 }
		any_playable_ruler = {
			religion = ROOT
			religion_head = {
				character = ROOT
			}
			NOT = { excommunicated_for = ROOT }
			any_current_enemy = {
				NOT = { religion = PREV }
			}
			NOT = { war_with = ROOT }
			reverse_opinion = { who = ROOT value = 30 }
			OR = {
				NOT = { has_character_flag = soldier_from_the_archdryad }
				OR = {
					had_character_flag = { flag = soldier_from_the_archdryad days = 730 }
					AND = {
						ai = yes
						had_character_flag = { flag = soldier_from_the_archdryad days = 365 }
						any_war = {
							OR = {
								using_cb = county_conquest
								using_cb = duchy_invasion
								using_cb = viking_invasion_britannia
								using_cb = imperial_reclaim
								using_cb = county_conquest_tribal
							}
							OR = {
								attacker = {
									character = PREVPREV
									defender = { NOT = { religion = britannic_pagan } }
									NOT = { war_score = -15 }
								}
								defender = {
									character = PREVPREV
									attacker = { NOT = { religion = britannic_pagan } }
									war_score = 15
								}
							}
						}
					}
				}
			}
		}
	}
	
	mean_time_to_happen = {
		months = 60
		modifier = { # if the archdryad is low on cash, she'll prefer sending a soldier
			factor = 0.5
			NOT = { wealth = 1000 }
		}
		modifier = {
			factor = 0.5
			NOT = { wealth = 2000 }
		}
	}
	
	option = {
		name = OK
		ai_chance = { factor = 100 }
		
		random_playable_ruler = {
			limit = {
				religion = ROOT
				NOT = { wealth = 500 }
				religion_head = {
					character = ROOT
				}
				NOT = { excommunicated_for = ROOT }
				any_current_enemy = {
					NOT = { religion_group = PREV }
				}
				NOT = { war_with = ROOT }
				reverse_opinion = {
					who = ROOT
					value = 0
				}
				OR = {
					NOT = { has_character_flag = soldier_from_the_archdryad }
					OR = {
						had_character_flag = { flag = soldier_from_the_archdryad days = 730 }
						AND = {
							ai = yes
							had_character_flag = { flag = soldier_from_the_archdryad days = 365 }
							any_war = {
								OR = {
									using_cb = county_conquest
									using_cb = duchy_invasion
									using_cb = viking_invasion_britannia
									using_cb = imperial_reclaim
									using_cb = county_conquest_tribal
								}
								OR = {
									attacker = {
										character = PREVPREV
										defender = { NOT = { religion = britannic_pagan } }
										NOT = { war_score = -15 }
									}
									defender = {
										character = PREVPREV
										attacker = { NOT = { religion = britannic_pagan } }
										war_score = 15
									}
								}
							}
						}
					}
				}
			}
			
			letter_event = { id = britannic.57 }
		}
	}
	
	option = {
		name = NO
		ai_chance = { factor = 0 }
	}

	option = {
		name = OK
		trigger = {
			trait = lunatic
		}

		ai_chance = { factor = 200 }

		random_playable_ruler = {
			limit = {
				religion = ROOT
				NOT = { wealth = 500 }
				religion_head = {
					character = ROOT
				}
				NOT = { excommunicated_for = ROOT }
				any_current_enemy = {
					NOT = { religion_group = PREV }
				}
				NOT = { war_with = ROOT }
				reverse_opinion = {
					who = ROOT
					value = 0
				}
				NOT = { has_character_flag = horse_from_archdryad_@ROOT }
				OR = {
					NOT = { has_character_flag = soldier_from_the_archdryad }
					OR = {
						had_character_flag = { flag = soldier_from_the_archdryad days = 7300 }
						AND = {
							ai = yes
							had_character_flag = { flag = soldier_from_the_archdryad days = 3650 }
							any_war = {
								OR = {
									using_cb = county_conquest
									using_cb = duchy_invasion
									using_cb = viking_invasion_britannia
									using_cb = imperial_reclaim
									using_cb = county_conquest_tribal
								}
								OR = {
									attacker = {
										character = PREVPREV
										defender = { NOT = { religion = britannic_pagan } }
										NOT = { war_score = -15 }
									}
									defender = {
										character = PREVPREV
										attacker = { NOT = { religion = britannic_pagan } }
										war_score = 15
									}
								}
							}
						}
					}
				}
			}
			
			letter_event = { id = britannic.58 }
		}
	}
}

# archdryad sends a holy warrior
letter_event = {
	id = britannic.57
	desc = britannic.57.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.57.a
		custom_tooltip = {
			text = britannic.57.a.tt
			hidden_tooltip = {
				random_list = {
					75 = {
						create_random_soldier = {
							dynasty = random
							age = 19
							female = yes
							religion = britannic_pagan
							culture = FROM
							random_traits = yes
						}
					}
					25 = {
						create_random_soldier = {
							dynasty = random
							age = 20
							female = no
							religion = britannic_pagan
							culture = FROM
							random_traits = yes
						}
					}
				}
				new_character = {
					add_trait = zealous
					add_trait = holy_warrior

					opinion = { who = ROOT modifier = opinion_patron }
				}
			}
		}
		set_character_flag = soldier_from_the_archdryad
	}
}

# zomg the crazy lady sent me a horse to be a commander
letter_event = {
	id = britannic.58
	desc = britannic.58.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.58.a
		create_character = {
			name = "Enbarr"
			female = yes
			age = 16
			religion = ROOT
			culture = horse
			race = horse
			dynasty = NONE
			trait = horse
			trait = imbecile
			trait = stubborn
			trait = fair
			trait = strong
		}
		new_character = {
			hidden_tooltip = {
				if = { 
					limit = { ROOT = { trait = immortal trait = lunatic } }
					character_event = { id = ZE.15001 days = 10 }
				}
				if = {
					limit = { has_dlc = "Jade Dragon" }
					character_event = { id = JD.60007 days = 30 }
				}
			}
			give_nickname = nick_flowing_mane
			opinion = { who = ROOT modifier = opinion_patron }
		}
		set_character_flag = soldier_from_the_archdryad
		set_character_flag = horse_from_archdryad_@FROM
	}	
}

# Archdryad gifts a ruler with an artifact
character_event = {
	id = britannic.59
	hide_window = yes
	
	min_age = 15
	only_playable = yes
	war = no
	
	trigger = {
		controls_religion = yes	
		religion = britannic_pagan

		any_playable_ruler = {
			religion = ROOT
			religion_head = {
				character = ROOT
			}
			has_dlc = "Mystics"
			# don't have the archdryad bombard the player
			NOR = {
				had_character_flag = { flag = money_from_the_archdryad days = 365 }
				had_character_flag = { flag = soldier_from_the_archdryad days = 365 }
				excommunicated_for = ROOT
			}
			any_current_enemy = {
				NOT = { religion = PREV }
			}
			NOT = { war_with = ROOT }
			reverse_opinion = { who = ROOT value = 30 }
			NOT = { has_character_flag = artifact_from_archdryad_@ROOT }
		}
	}
	
	mean_time_to_happen = {
		months = 120
	}
	
	option = {
		name = OK
		ai_chance = { factor = 100 }
		wealth = -200
		
		random_playable_ruler = {
			limit = {
				religion = ROOT
				religion_head = {
					character = ROOT
				}
				# don't have the archdryad bombard the player
				NOR = {
					had_character_flag = { flag = money_from_the_archdryad days = 365 }
					had_character_flag = { flag = soldier_from_the_archdryad days = 365 }
					excommunicated_for = ROOT
				}
				any_current_enemy = {
					NOT = { religion = PREV }
				}
				NOT = { war_with = ROOT }
				reverse_opinion = { who = ROOT value = 25 }
				NOT = { has_character_flag = artifact_from_archdryad_@ROOT }
			}
			
			letter_event = { id = britannic.60 }
		}
	}
	
	option = {
		name = NO
		ai_chance = { factor = 0 }
	}
}

# archdryad sends an artifact
letter_event = {
	id = britannic.60
	desc = britannic.60.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.60.a
		set_character_flag = artifact_from_archdryad_@FROM
		custom_tooltip = {
			text = britannic.60.a.tt
			hidden_tooltip = {
				# generate random artifact based on archdryad opinion,
				# with caps on quality based on britannic MA

				random_list = {
					50 = {
						modifier = {
							factor = 0
							OR = {
								religion_authority < 0.8
								reverse_opinion = {
									who = FROM
									value < 75
								}
								AND = {
									has_artifact = silver_hand_of_nuada
									has_artifact = trident_of_britannia
									has_artifact = helm_of_britannia
									has_artifact = shield_of_britannia
								}
							}
						}
						FROM = {
							give_random_tier_5_artifact_to_prev_effect = yes
						}
					}
					40 = {
						modifier = {
							factor = 0
							OR = {
								religion_authority < 0.6
								reverse_opinion = {
									who = FROM
									value < 50
								}
								AND = {
									has_artifact = skull_of_brigid
									has_artifact = horn_of_bran_galed
								}
							}
						}
						FROM = {
							give_random_tier_4_artifact_to_prev_effect = yes
						}
					}
					30 = {
						modifier = {
							factor = 0
							OR = {
								religion_authority < 0.4
								AND = {
									has_artifact = tusk_of_torc_triath
								}
							}
						}
						FROM = {
							give_random_tier_3_artifact_to_prev_effect = yes
						}
					}
					20 = {
						modifier = {
							factor = 0
							OR = {
								religion_authority < 0.25
								AND = {
									has_artifact = torque_of_boudicca
									has_artifact = old_carnyx
									has_artifact = horned_helm
									has_artifact = battersea_shield
								}
							}
						}
						FROM = {
							give_random_tier_2_artifact_to_prev_effect = yes
						}
					}
					10 = {
						FROM = {
							give_random_tier_1_artifact_to_prev_effect = yes
						}
					}
				}
			}	
		}
	}
}

# Archdryad sends an inquisitor
character_event = {
	id = britannic.61
	hide_window = yes
	
	min_age = 15
	only_playable = yes
	war = no
	has_dlc = "Mystics"
	
	trigger = {
		controls_religion = yes	
		religion = britannic_pagan

		any_playable_ruler = {
			religion = ROOT
			religion_head = {
				character = ROOT
			}
			# don't have the archdryad bombard the player
			NOR = {
				had_character_flag = { flag = money_from_the_archdryad days = 365 }
				had_character_flag = { flag = soldier_from_archdryad_@ROOT days = 365 }
				excommunicated_for = ROOT
			}
			war = no
			any_realm_province = {
				OR = {
					NOT = { religion = britannic_pagan }
					has_province_modifier = heretic_stronghold
				}
			}
			reverse_opinion = { who = ROOT value = 30 }

			NOT = { has_character_flag = inquisitor_from_archdryad_@ROOT }
		}
	}
	
	mean_time_to_happen = {
		months = 120
	}
	
	option = {
		name = OK
		ai_chance = { factor = 100 }
		
		random_playable_ruler = {
			limit = {
				religion = ROOT
				religion_head = {
					character = ROOT
				}
				# don't have the archdryad bombard the player
				NOR = {
					had_character_flag = { flag = money_from_the_archdryad days = 365 }
					had_character_flag = { flag = soldier_from_archdryad_@ROOT days = 365 }
					excommunicated_for = ROOT
				}
				war = no
				any_realm_province = {
					OR = {
						NOT = { religion = britannic_pagan }
						has_province_modifier = heretic_stronghold
					}
				}
				reverse_opinion = { who = ROOT value = 0 }
				NOT = {
					any_courtier = {
						has_character_flag = archdryads_inquisitor
					}
				}
				OR = {
					NOT = { has_character_flag = inquisitor_from_the_archdryad }
					OR = {
						had_character_flag = { flag = inquisitor_from_the_archdryad days = 730 }
						AND = {
							ai = yes
							had_character_flag = { flag = inquisitor_from_the_archdryad days = 365 }
						}
					}
				}
			}
			
			letter_event = { id = britannic.62 }
		}
	}
	
	option = {
		name = NO
		ai_chance = { factor = 0 }
	}
}

# archdryad sends an inquisitor
letter_event = {
	id = britannic.62
	desc = britannic.62.desc
	border = GFX_event_letter_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.62.a
		set_character_flag = inquisitor_from_archdryad_@FROM
		custom_tooltip = {
			text = britannic.62.tt
			hidden_tooltip = {
				create_random_intriguer = {
					dynasty = none
					female = yes
					religion = britannic_pagan
					culture = FROM
				}
				new_character = { # traits that are good for an inquisitor, no?
					add_trait = zealous
					add_trait = celibate # too focused on the inquisition!
					add_trait = diligent
					add_trait = just
					opinion = { who = ROOT modifier = opinion_patron }

					set_character_flag = archdryads_inquisitor
					set_character_flag = special_spiritual
				}
			}
		}
	}
}

# Archdryad sponsors construction of a hospital in a plague-ridden province
character_event = {
	id = britannic.63
	hide_window = yes
	
	religion = britannic_pagan

	trigger = {
		controls_religion = yes

		NOT = { # she won't do it if she's dealing with plague herself
			any_demesne_province = {
				has_disease = yes
			}
		}

		wealth = 200

		any_playable_ruler = {
			religion = ROOT
			religion_head = {
				character = ROOT
			}
			NOT = { excommunicated_for = ROOT }
			reverse_opinion = { who = ROOT value = 30 }
			war = no

			any_demesne_province = {
				has_disease = yes
			}
		}
	}

	mean_time_to_happen = {
		months = 120
	}

	immediate = {
		wealth = -100
		random_playable_ruler = {
			limit = {
				religion = ROOT
				religion_head = {
					character = ROOT
				}
				NOT = { excommunicated_for = ROOT }
				reverse_opinion = { who = ROOT value = 30 }
				war = no
				any_demesne_province = {
					has_disease = yes
				}
			}

			character_event = { id = britannic.64 days = 3 }
		}
	}
}

character_event = {
	id = britannic.64
	desc = {
		trigger = { has_character_flag = upgrade_hospital }
		text = britannic.64.upgrade
	}
	desc = {
		trigger = { has_character_flag = relief }
		text = britannic.64.relief
	}
	desc = {
		trigger = {
			NOR = {
				has_character_flag = upgrade_hospital
				has_character_flag = relief
			}
		}
		text = britannic.64.build
	}
	picture = GFX_evt_peasants
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		if = { 
			limit = { 
				any_demesne_province = {
					has_disease = yes
					has_hospital = no
				}
			}

			random_demesne_province = {
				limit = {
					has_disease = yes
					has_hospital = no
				}

				save_event_target_as = afflicted_province
			}
		} else_if = {
			limit = {
				any_demesne_province = {
					has_disease = yes
					NOT = { hospital_level = 2 }
				}
			}

			random_demesne_province = {
				limit = {
					has_disease = yes
					NOT = { hospital_level = 2 }
				}

				save_event_target_as = afflicted_province
				ROOT = {
					set_character_flag = upgrade_hospital
				}
			}
		} else = {
			random_demesne_province = {
				limit = {
					has_disease = yes
				}
				save_event_target_as = afflicted_province
			}
			# send some doctors
			set_character_flag = relief
		}
	}

	option = {
		trigger = {
			has_character_flag = relief
		}
		name = britannic.64.a

		event_target:afflicted_province = {
			add_province_modifier = {
				name = relief_effort
				duration = 365
			}
		}
		clr_character_flag = relief
	}
	option = {
		trigger = {
			has_character_flag = upgrade_hospital
		}
		name = britannic.64.a
		event_target:afflicted_province = { add_to_extra_holding = { type = hospital building = hospital_building_2 } }
		clr_character_flag = upgrade_hospital
	}
	option = {
		trigger = {
			NOR = {
				has_character_flag = relief
				has_character_flag = upgrade_hospital
			}
		}
		name = britannic.64.a
		
		create_hospital = event_target:afflicted_province
	}
}

##################################################################
# 
# Britannic
# - La Thumoideachais (baptism)
#   britannic.100 - 149 reserved
#
##################################################################

# dryad is asked to officiate a tumtha
character_event = {
	id = britannic.110
	hide_window = yes

	is_triggered_only = yes

	option = {
		name = OK

		event_target:the_ruler = { letter_event = { id = britannic.109 days = 3 } }

		ai_chance = {
			factor = 75

			modifier = {
				factor = 10
				event_target:the_child = {
					mother = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 1.2
				opinion = {
					who = event_target:the_ruler
					value = 30
				}
			}
			modifier = {
				factor = 1.2
				opinion = {
					who = event_target:the_ruler
					value = 50
				}
			}
			modifier = {
				factor = 1.2
				opinion = {
					who = event_target:the_ruler
					value = 80
				}
			}
			modifier = {
				factor = 1.2
				event_target:the_child = {
					is_female = yes
				}
			}
		}
	}

	option = {
		name = NO

		event_target:the_ruler = { letter_event = { id = britannic.108 days = 3 } }

		ai_chance = {
			factor = 50
			modifier = {
				factor = 100
				event_target:the_ruler = {
					trait = excommunicated
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = event_target:the_ruler
						value = -30
					}
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = event_target:the_ruler
						value = -50
					}
				}
			}
			modifier = {
				factor = 1.2
				NOT = {
					opinion = {
						who = event_target:the_ruler
						value = -80
					}
				}
			}
		}
	}
}

# dryad will officiate the tumtha
letter_event = {
	id = britannic.109
	desc = britannic.109.desc

	is_triggered_only = yes

	option = {
		name = OK
		if = {
			limit = {
				any_demesne_province = {
					any_neighbor_province = {
						is_land = no
					}
				}
			}
			wealth = -25
		} else_if = {
			limit = {
				top_liege = {
					any_realm_province = {
						any_neighbor_province = {
							is_land = no
						}
					}
				}
			}
			wealth = -50
		} else = {
			wealth = -100
		}

		character_event = { id = britannic.101 days = 7 }

		ai_chance = {
			factor = 1
		}
	}

	option = { # wait, no, i lied. i'm broke :(
		name = britannic.109.b

		ai_chance = {
			factor = 0
			additive_modifier = {
				value = 1000
				NOT = { wealth = 100 }
			}
		}
	}
}

# dryad will not officiate the tumtha
letter_event = {
	id = britannic.108
	desc = britannic.108.desc

	is_triggered_only = yes

	option = {
		name = ancrel.damn
	}
}

character_event = {
	id = britannic.101
	desc = britannic.101.desc
	picture = GFX_evt_bishop
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = { # cool
		name = britannic.101.a
		trigger = {
			event_target:the_child = {
				NOT = { has_character_flag = changeling_child }
			}
		}

		hidden_tooltip = { 
			random_list = {
				90 = { character_event = { id = britannic.102 days = 1 } }
				10 = { character_event = { id = britannic.103 days = 1 } }
			}
		}
	}

	option = { # I pray this saves the child from the unseelie
		name = britannic.101.b
		trigger = {
			event_target:the_child = {
				has_character_flag = changeling_child
			}
		}

		hidden_tooltip = { character_event = { id = britannic.103 days = 1 } }
	}
}

# la thumoideachais (immersion day)
long_character_event = {
	id = britannic.102
	desc = {
		text = britannic.102.desc
		trigger = {
			event_target:the_child = {
				mother_even_if_dead = {
					NOT = { character = event_target:the_dryad }
				}
			}
		}
	}
	desc = {
		text = britannic.102.mom
		trigger = {
			event_target:the_child = {
				mother_even_if_dead = {
					character = event_target:the_dryad
				}
			}
		}
	}
	picture = GFX_evt_religious_exultation
	border = GFX_event_long_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.102.a

		event_target:the_child = {
			add_character_modifier = {
				modifier = good_tumtha
				duration = 2190 # six years
			}
			if = {
				limit = {
					NOT = { religion = britannic_pagan }
				}
				religion = britannic_pagan
			}

			set_character_flag = tumtha
		}

		piety = 25
		prestige = 25

		event_target:the_child = {
			mother = {
				piety = 75
			}
			father = {
				piety = 75
			}
		}
	}
}

# bad weather on la thumoideachais
long_character_event = {
	id = britannic.103
	desc = {
		text = britannic.103.desc
		trigger = {
			event_target:the_child = {
				mother = {
					NOT = { character = event_target:the_dryad }
				}
			}
		}
	}
	desc = {
		text = britannic.103.mom
		trigger = {
			event_target:the_child = {
				mother = {
					character = event_target:the_dryad
				}
			}
		}
	}
	picture = GFX_evt_bishop
	border = GFX_event_long_frame_religion

	is_triggered_only = yes

	option = {
		name = britannic.103.a

		piety = -10

		random_list = {
			15 = {
				add_trait = zealous
			}
			85 = {}
		}

		event_target:the_child = {
			add_character_modifier = {
				modifier = bad_tumtha
				days = 2190
			}

			mother = {
				piety = -75
			}
			father = {
				piety = -75
			}

			set_character_flag = tumtha
		}
	}

	option = {
		name = britannic.103.b

		piety = -25

		random_list = {
			15 = {
				add_trait = cynical
			}
			85 = {}
		}

		event_target:the_child = {
			add_character_modifier = {
				modifier = bad_tumtha
				days = 2190
			}

			mother = {
				piety = -75
			}
			father = {
				piety = -75
			}

			set_character_flag = tumtha
		}
	}
}

# child was never tumtha (child)
character_event = {
	id = britannic.104
	hide_window = yes

	is_triggered_only = yes
	
	religion = britannic_pagan
	min_age = 3

	trigger = {
		NOR = {
			age = 4
			trait = sych
		}
	}

	immediate = {
		liege = {
			character_event = { id = britannic.105 days = 3 }
		}
	}
}

# child was never tumtha (liege)
character_event = {
	id = britannic.105
	desc = britannic.105.desc
	picture = GFX_evt_child_bully
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	option = {
		name = OK

		FROM = {
			add_trait = sych

			father = {
				piety = -100
			}
			mother = {
				piety = -100
			}
		}
	}
}

##################################################################
# 
# Britannic
# - Imbolg (fertility festival)
#   britannic.150 - 199 reserved
#
##################################################################

# The Imbolg begins!
# Opening ceremony is a sunwise parade around the temple
character_event = {
	id = britannic.150
	title = britannic.imbolg_title
	desc = britannic.150.desc
	picture = GFX_evt_market
	border = GFX_event_normal_frame_religion

	is_triggered_only = yes

	immediate = {
		set_character_flag = imbolg_begin
	}

	option = {
		name = britannic.150.a
	}
}

# spring cleaning, found some old stuff
# belonging to a close relative
character_event = {
	id = britannic.151
	title = britannic.imbolg_title
	desc = britannic.151.desc
	picture = GFX_evt_castle_construction

	only_playable = yes
	capable_only = yes
	prisoner = no
	min_age = 15

	trigger = {
		in_command = no
		any_courtier = {
			war = no
			prisoner = no
			NOT = { trait = incapable }
			NOT = { is_inaccessible_trigger = yes }
			is_adult = yes
			is_close_relative = yes
		}
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_spring_cleaning }
	}
	
	immediate = {
		set_character_flag = imbolg_event_happened
		set_character_flag = imbolg_event_spring_cleaning

		any_courtier = {
			limit = { 
				war = no
				prisoner = no
				NOT = { trait = incapable }
				NOT = { is_inaccessible_trigger = yes }
				is_adult = yes
				is_close_relative = yes
			}

			save_event_target_as = close_relative
		}
	}	

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}	
		
		modifier = {
			factor = 1.5
			has_character_flag = imbolg_event_happened
		}			
	}

	# return their things
	option = {
		name = britannic.151.a
		trigger = {
			NOR = { 
				trait = greedy
				trait = deceitful
			}
		}
		event_target:close_relative = {
			opinion = {
				modifier = ancrel_pleased
				who = ROOT
				years = 5
			}
		}
	}

	# sell it and donate the money to the church
	option = {
		name = britannic.151.b
		trigger = {
			OR = {
				trait = kind
				trait = charitable
			}
		}

		piety = 100
	}

	# sell it and keep the money
	option = {
		name = britannic.151.c
		trigger = {
			trait = greedy
		}
		wealth = 50
	}
}

# dick cakes
character_event = {
	id = britannic.152
	title = britannic.imbolg_title
	desc = britannic.152.desc
	picture = GFX_evt_market

	only_playable = yes
	capable_only = yes
	prisoner = no
	min_age = 15

	trigger = {
		in_command = no
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_dick_cakes }
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}	
	}

	option = {
		name = britannic.152.a
	}

	option = {
		name = britannic.152.b

		wealth = -1
		piety = 10
	}
}

# visit a holy well
# do you leave a clootie or money?
character_event = {
	id = britannic.153
	title = britannic.imbolg_title
	desc = britannic.153.desc
	picture = GFX_evt_magnificent_castle

	only_playable = yes
	capable_only = yes
	prisoner = no
	min_age = 15

	trigger = {
		in_command = no

		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_holy_well }
	}

	immediate = {
		set_character_flag = imbolg_event_holy_well
		set_character_flag = imbolg_event_happened
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}			
	}

	option = { # clootie
		name = britannic.153.a

		piety = 10

		random_list = {
			20 = {
				add_trait = greedy
			}
			80 = { }
		}

		hidden_tooltip = {
			random_vassal = {
				limit = {
					NOR = {
						in_command = yes
						trait = incapable
					}
					religion = britannic_pagan
				}

				character_event = { id = britannic.154 days = 0 }
			}
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				trait = cynical
			}
			modifier = {
				factor = 1.2
				trait = greedy
			}
		}
	}

	option = { # gold
		name = britannic.153.b

		wealth = -10
		piety = 100

		random_list = {
			20 = {
				add_trait = charitable
			}
			80 = { }
		}

		hidden_tooltip = {
			random_vassal = {
				limit = {
					NOR = {
						in_command = yes
						trait = incapable
					}
					religion = britannic_pagan
				}

				character_event = { id = britannic.155 days = 0 }
			}
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.2
				trait = zealous
			}
			modifier = {
				factor = 1.2
				trait = charitable
			}
		}
	}
}

# clootie (random vassal)
character_event = {
	id = britannic.154
	title = britannic.imbolg_title
	desc = britannic.154.desc
	picture = GFX_evt_magnificent_castle

	is_triggered_only = yes

	option = { # approve
		name = ancrel.well_done

		hidden_tooltip = {
			FROM = {
				character_event = { id = britannic.156 days = 2 }
			}
		}
	}

	option = { # disapprove
		name = ancrel.fool

		hidden_tooltip = {
			FROM = {
				character_event = { id = britannic.157 days = 2 }
			}
		}
	}
}

# money (random vassal)
character_event = {
	id = britannic.155
	title = britannic.imbolg_title
	desc = britannic.155.desc
	picture = GFX_evt_magnificent_castle

	is_triggered_only = yes

	option = { # approve
		name = ancrel.well_done

		hidden_tooltip = {
			FROM = {
				character_event = { id = britannic.156 days = 2 }
			}
		}
	}

	option = { # disapprove
		name = ancrel.fool

		hidden_tooltip = {
			FROM = {
				character_event = { id = britannic.157 days = 2 }
			}
		}
	}
}

# vassal approves (o.c.)
character_event = {
	id = britannic.156
	title = britannic.imbolg_title
	desc = britannic.156.desc
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = ancrel.fantastic

		prestige = 100
	}
}

# vassal disapproves (o.c.)
character_event = {
	id = britannic.157
	title = britannic.imbolg_title
	desc = britannic.157.desc
	picture = GFX_evt_courtiers_talking

	is_triggered_only = yes

	option = {
		name = ancrel.fool

		prestige = -100
	}
}

# making blackthorn solar wheels (brigid)
character_event = {
	id = britannic.158
	title = britannic.imbolg_title
	desc = britannic.158.desc
	picture = GFX_evt_children_talking

	min_age = 15
	capable_only = yes
	prisoner = no
	only_rulers = yes

	trigger = {
		in_command = no
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_blackthorn_wheel }
	}

	immediate = {
		set_character_flag = imbolg_event_blackthorn_wheel
		set_character_flag = imbolg_event_happened
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}		
	}

	option = {
		name = britannic.158.a

		piety = 10
	}
}

# commiserate at bonfire (ruler)
character_event = {
	id = britannic.159
	title = britannic.imbolg_title
	desc = britannic.159.desc
	picture = GFX_evt_woman_in_firelight

	min_age = 15
	capable_only = yes
	prisoner = no
	only_rulers = yes

	trigger = {
		in_command = no

		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		any_vassal = {
			in_command = no
			religion = britannic_pagan
			is_incapable = no
			NOT = { is_inaccessible_trigger = yes }
			is_adult = yes
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_bonfire }
	}

	immediate = {
		set_character_flag = imbolg_event_bonfire
		set_character_flag = imbolg_event_happened

		random_vassal = {
			limit = {
				in_command = no
				religion = britannic_pagan
				is_incapable = no
				NOT = { is_inaccessible_trigger = yes }
				is_adult = yes
			}

			save_event_target_as = the_vassal
		}
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}		
	}

	option = {
		name = britannic.159.a

		add_friend = event_target:the_vassal
			
		hidden_tooltip = {
			event_target:the_vassal = {
				character_event = { id = britannic.160 days = 0 }
			}
		}
	}
}

# commiserate at bonfire (vassal)
character_event = {
	id = britannic.160
	title = britannic.imbolg_title
	desc = britannic.160.desc
	picture = GFX_evt_woman_in_firelight

	is_triggered_only = yes

	option = {
		name = britannic.160.a

		custom_tooltip = {
			text = britannic.160.tt
			add_friend = FROM
		}
	}
}

# get in an argument at bonfire (ruler)
character_event = {
	id = britannic.161
	title = britannic.imbolg_title
	desc = britannic.161.desc
	picture = GFX_evt_poke_king_in_chest

	min_age = 15
	capable_only = yes
	prisoner = no
	only_rulers = yes

	trigger = {
		in_command = no

		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		any_vassal = {
			in_command = no
			religion = britannic_pagan
			is_incapable = no
			NOT = { is_inaccessible_trigger = yes }
			is_adult = yes
			NOT = {
				is_rival = ROOT
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_bonfire }
	}

	immediate = {
		set_character_flag = imbolg_event_bonfire
		set_character_flag = imbolg_event_happened

		random_vassal = {
			limit = {
				in_command = no
				religion = britannic_pagan
				is_incapable = no
				NOT = { is_inaccessible_trigger = yes }
				is_adult = yes
			}

			save_event_target_as = the_vassal
		}
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}		
	}

	option = {
		name = britannic.161.a

		add_rival = event_target:the_vassal
			
		hidden_tooltip = {
			event_target:the_vassal = {
				character_event = { id = britannic.162 days = 0 }
			}
		}
	}
}

# get in an argument at bonfire (vassal)
character_event = {
	id = britannic.162
	title = britannic.imbolg_title
	desc = britannic.162.desc
	picture = GFX_evt_poke_king_in_chest

	is_triggered_only = yes

	option = {
		name = britannic.162.a

		custom_tooltip = {
			text = britannic.162.tt
			add_rival = FROM
		}
	}
}

# candlelight procession
character_event = {
	id = britannic.163
	title = britannic.imbolg_title
	desc = britannic.163.desc
	picture = GFX_evt_market

	min_age = 15
	capable_only = yes
	prisoner = no
	only_rulers = yes

	trigger = {
		in_command = no
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_candlelight_procession }
	}

	immediate = {
		set_character_flag = imbolg_event_candlelight_procession
		set_character_flag = imbolg_event_happened
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}
	}

	option = {
		name = OK

		piety = 10
	}
}

# divinators offering to discern baby gender
character_event = {
	id = britannic.164
	title = britannic.imbolg_title
	desc = britannic.164.desc
	picture = GFX_evt_heretic

	min_age = 15
	capable_only = yes
	prisoner = no
	only_rulers = yes

	trigger = {
		any_vassal = {
			prisoner = no
			NOT = { trait = incapable }
			NOT = { is_inaccessible_trigger = yes }
			is_adult = yes
			is_priest = yes
		}
		capital_scope = {
			NOT = { has_province_modifier = peasants_upset }
		}
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}			

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_divinators }
	}
	
	immediate = {
		set_character_flag = imbolg_event_happened
		set_character_flag = imbolg_event_divinators
	}	

	mean_time_to_happen = {
		days = 120
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}
	}

	option = {
		name = britannic.164.a #Allow them
		trigger = {
			OR = {	
				ai = no
				NOT = { trait = zealous }
			}
		}		
		piety = -5
		random_vassal = {
			limit = {
				prisoner = no
				NOT = { trait = incapable }
				NOT = { is_inaccessible_trigger = yes }
				is_adult = yes
				is_priest = yes
			}
			opinion = {
				modifier = opinion_irritated
				who = ROOT
				years = 5
			}
		}
		if = {
			limit = { trait = zealous }
			remove_trait = zealous
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = cynical
			}
			modifier = {
				factor = 1.2
				trait = arbitrary
			}
			modifier = {
				factor = 1.2
				trait = mystic
			}
			modifier = {
				factor = 1.2
				trait = pregnant
			}
		}
	}
	option = {
		name = britannic.164.b #Banish them
		piety = 10
		capital_scope = {
			add_province_modifier = {
				name = peasants_upset
				duration = 365
			}
		}

		ai_chance = {
			factor = 50
			modifier = {
				factor = 2
				trait = zealous
			}
			modifier = {
				factor = 1.2
				is_female = no
			}
		}
	}
}

# villager gives birth during festival, blessed day!
character_event = {
	id = britannic.165
	title = britannic.imbolg_title
	desc = britannic.165.desc
	picture = GFX_evt_birth

	min_age = 15
	capable_only = yes
	prisoner = no
	only_rulers = yes

	trigger = {
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_birth }
	}

	immediate = {
		set_character_flag = imbolg_event_happened
		set_character_flag = imbolg_event_birth
	}

	mean_time_to_happen = {
		days = 120
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}	
	}

	option = {
		name = britannic.165.a

		piety = 25

		random = {
			chance = 20
			add_trait = zealous
		}
	}

	option = {
		name = britannic.165.b

		piety = 10

		random = {
			chance = 20
			add_trait = cynical
		}
	}
}

# villager has stillborn during festival, britannia protect us!
character_event = {
	id = britannic.166
	title = britannic.imbolg_title
	desc = britannic.166.desc
	picture = GFX_evt_birth

	min_age = 15
	capable_only = yes
	prisoner = no
	only_rulers = yes

	trigger = {
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_birth }
	}

	immediate = {
		set_character_flag = imbolg_event_happened
		set_character_flag = imbolg_event_birth
	}

	mean_time_to_happen = {
		days = 120
		
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}
	}

	option = {
		name = britannic.166.a

		piety = -10

		random = {
			chance = 20
			add_trait = zealous
		}
	}

	option = {
		name = britannic.166.b

		piety = -25

		random = {
			chance = 20
			add_trait = cynical
		}
	}
}

# dryad wants a male ruler to make her preggers
character_event = {
	id = britannic.167
	hide_window = yes

	only_playable = yes
	capable_only = yes
	prisoner = no
	min_age = 15
	only_men = yes

	trigger = {
		any_vassal = {
			prisoner = no
			is_inaccessible_trigger = no
			is_adult = yes
			OR = {
				trait = dryad
				trait = bad_dryad
			}
			is_pregnant = no
			NOR = {
				age = 45
				is_incapable = yes
				num_of_children = 3
				spouse = {
					character = ROOT
				}
			}
		}
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}			

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_horny_dryad }	
	}

	immediate = {
		random_vassal = {
			limit = {
				prisoner = no
				is_inaccessible_trigger = no
				is_adult = yes
				OR = {
					trait = dryad
					trait = bad_dryad
				}
				is_pregnant = no
				NOR = {
					age = 45
					trait = incapable
					num_of_children = 3
					spouse = {
						character = ROOT
					}
				}
			}

			character_event = { id = britannic.168 days = 1 }
		}
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 2
			OR = {
				has_character_flag = imbolg_event_horny_spouse
				has_character_flag = imbolg_event_horny_courtier # just in-case
			}
		}
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}
	}
}

# horny dryad decides whether to proposition the ruler (dryad)
character_event = {
	id = britannic.168
	hide_window = yes

	is_triggered_only = yes

	option = { # proposition him
		name = EVTOPTA452
		ai_chance = {
			factor = 33
			modifier = { # dryads in good standing aren't likely to hit on married men!
				factor = 0.1
				FROM = {
					is_married = yes
				}
				trait = dryad
			}
			modifier = {
				factor = 2
				FROM = {
					ROOT = { is_attracted_to_prev = yes }
				}
			}
			modifier = {
				factor = 1.5
				spouse = {
					ROOT = { likes_better_than = { who = FROM than = PREV } }
				}
			}
			modifier = {
				factor = 1.2
				trait = lustful
			}
			modifier = {
				factor = 1.2
				trait = arbitrary
			}
			modifier = {
				factor = 1.2
				num_of_children = 2
			}
			modifier = {
				factor = 1.2
				NOT = {
					num_of_children = 2
				}
			}
			modifier = {
				factor = 2
				NOT = {
					num_of_children = 1
				}
			}
		}
		
		FROM = { character_event = { id = britannic.169 days = 0 } }
	}

	option = { # i ain't no hussy
		name = EVTOPTB452
		ai_chance = {
			factor = 67
			modifier = {
				factor = 10
				trait = chaste
			}
			modifier = {
				factor = 2
				trait = shy
			}
			modifier = {
				factor = 0.5
				trait = trusting
			}
			modifier = {
				factor = 0.1
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 5
				FROM = {
					ROOT = { is_attracted_to_prev = no }
				}
			}
		}
	}
}

# male ruler is propositioned (ruler)
character_event = {
	id = britannic.169
	title = britannic.imbolg_title
	desc = britannic.169.desc
	picture = GFX_evt_whispers

	is_triggered_only = yes

	immediate = {
		set_character_flag = imbolg_event_horny_dryad
		set_character_flag = imbolg_event_happened
	}

	option = { # heck yeah!
		name = britannic.169.a
		
		add_lover = FROM
		
		hidden_tooltip = {
			FROM = { character_event = { id = 453 tooltip = EVTTOOLTIP453 } }
			# Chance of impregnation
			if = {
				limit = {
					fertility = 0.25
					FROM = { fertility = 0.25 }
					OR = {
						AND = {
							is_female = yes
							FROM = { is_female = no }
							NOT = { age = 45 }
						}
						AND = {
							is_female = no
							FROM = {
								is_female = yes
								NOT = { age = 45 }
							}
						}
					}
				}
				if = {
					limit = {
						fertility = 0.5
						FROM = { fertility = 0.5 }
					}
					random_list = {
						75 = {
							if = { 
								limit = {
									OR = {
										is_female = yes
										FROM = {
											is_female = yes
										}
									}
								}
								impregnate = FROM
								break = yes
							}
							impregnate_cuckoo = FROM
						}
						25 = { }
					}
					break = yes
				}
				
				random_list = {
					50 = {
						if = { 
							limit = {
								OR = {
									is_female = yes 
									FROM = {
										is_female = yes
									}
								}
							}
							impregnate = FROM
							break = yes
						}
						impregnate_cuckoo = FROM
					}
					50 = { }
				}
			
			}		
		}
	}

	option = { # sure, but just this once!
		name = britannic.169.b

		hidden_tooltip = {
			# Chance of impregnation
			if = {
				limit = {
					fertility = 0.25
					FROM = { fertility = 0.25 }
					OR = {
						AND = {
							is_female = yes
							FROM = { is_female = no }
							NOT = { age = 45 }
						}
						AND = {
							is_female = no
							FROM = {
								is_female = yes
								NOT = { age = 45 }
							}
						}
					}
				}
				if = {
					limit = {
						fertility = 0.5
						FROM = { fertility = 0.5 }
					}
					random_list = {
						75 = {
							if = { 
								limit = {
									OR = {
										is_female = yes
										FROM = {
											is_female = yes
										}
									}
								}
								impregnate = FROM
								break = yes
							}
							impregnate_cuckoo = FROM
						}
						25 = { }
					}
					break = yes
				}
				
				random_list = {
					50 = {
						if = { 
							limit = {
								OR = {
									is_female = yes 
									FROM = {
										is_female = yes
									}
								}
							}
							impregnate = FROM
							break = yes
						}
						impregnate_cuckoo = FROM
					}
					50 = { }
				}
			
			}		
		}
	}

	option = { # control yourself woman!
		name = britannic.169.c

		reverse_opinion = { who = FROM modifier = ancrel_dissapointed }
	}
}

# male courtier comes on to female ruler, hoping to get lucky
character_event = {
	id = britannic.170
	hide_window = yes

	only_playable = yes
	capable_only = yes
	prisoner = no
	min_age = 15
	only_women = yes

	trigger = {
		any_vassal = {
			prisoner = no
			NOT = { trait = incapable }
			NOT = { is_inaccessible_trigger = yes }
			is_adult = yes
			is_landed = no
			is_female = no
			NOT = { age = 35 }
			NOT ={
				spouse = {
					character = ROOT
				}
			}
		}
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}			

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_horny_courtier }	
	}

	immediate = {
		random_vassal = {
			limit = {
				prisoner = no
				NOT = { trait = incapable }
				NOT = { is_inaccessible_trigger = yes }
				is_adult = yes
				is_landed = no
				is_female = no
				NOT = { age = 35 }
				NOT ={
					spouse = {
						character = ROOT
					}
				}
			}

			character_event = { id = britannic.171 days = 1 }
		}
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 2
			OR = {
				has_character_flag = imbolg_event_horny_spouse
				has_character_flag = imbolg_event_horny_dryad # just in-case
			}
		}
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}
	}
}

# horny courtier decides whether to proposition the ruler (courtier)
character_event = {
	id = britannic.171
	hide_window = yes

	is_triggered_only = yes

	option = { # proposition her
		name = EVTOPTA452
		ai_chance = {
			factor = 33
			modifier = {
				factor = 2
				FROM = {
					ROOT = { is_attracted_to_prev = yes }
				}
			}
			modifier = {
				factor = 1.5
				spouse = {
					ROOT = { likes_better_than = { who = FROM than = PREV } }
				}
			}
			modifier = {
				factor = 1.2
				trait = lustful
			}
			modifier = {
				factor = 1.2
				trait = arbitrary
			}
			modifier = {
				factor = 1.2
				num_of_children = 2
			}
			modifier = {
				factor = 1.2
				NOT = {
					num_of_children = 2
				}
			}
			modifier = {
				factor = 1.5
				is_married = no
			}
			modifier = {
				factor = 2
				FROM = { is_married = no }
			}
			modifier = {
				factor = 2
				NOT = {
					num_of_children = 1
				}
			}
		}
		
		FROM = { character_event = { id = britannic.172 days = 0 } }
	}

	option = { # i ain't no hussy
		name = EVTOPTB452
		ai_chance = {
			factor = 67
			modifier = {
				factor = 10
				trait = chaste
			}
			modifier = {
				factor = 2
				trait = shy
			}
			modifier = {
				factor = 0.5
				trait = trusting
			}
			modifier = {
				factor = 0.1
				FROM = {
					OR = {
						trait = seducer
						trait = seductress
					}
				}
			}
			modifier = {
				factor = 1.2
				is_married = yes
			}
			modifier = {
				factor = 1.2
				FROM = { is_married = yes }
			}
			modifier = {
				factor = 5
				FROM = {
					ROOT = { is_attracted_to_prev = no }
				}
			}
		}
	}
}

# female ruler is propositioned (ruler)
character_event = {
	id = britannic.172
	title = britannic.imbolg_title
	desc = britannic.172.desc
	picture = GFX_evt_whispers

	is_triggered_only = yes

	immediate = {
		set_character_flag = imbolg_event_horny_courtier
		set_character_flag = imbolg_event_happened
	}

	option = { # heck yeah!
		name = britannic.172.a
		
		add_lover = FROM
		
		hidden_tooltip = {
			FROM = { character_event = { id = 453 tooltip = EVTTOOLTIP453 } }
			# Chance of impregnation
			if = {
				limit = {
					fertility = 0.25
					FROM = { fertility = 0.25 }
					OR = {
						AND = {
							is_female = yes
							FROM = { is_female = no }
							NOT = { age = 45 }
						}
						AND = {
							is_female = no
							FROM = {
								is_female = yes
								NOT = { age = 45 }
							}
						}
					}
				}
				if = {
					limit = {
						fertility = 0.5
						FROM = { fertility = 0.5 }
					}
					random_list = {
						75 = {
							if = { 
								limit = {
									OR = {
										is_female = yes
										FROM = {
											is_female = yes
										}
									}
								}
								impregnate = FROM
								break = yes
							}
							impregnate_cuckoo = FROM
						}
						25 = { }
					}
					break = yes
				}
				
				random_list = {
					50 = {
						if = { 
							limit = {
								OR = {
									is_female = yes 
									FROM = {
										is_female = yes
									}
								}
							}
							impregnate = FROM
							break = yes
						}
						impregnate_cuckoo = FROM
					}
					50 = { }
				}
			
			}		
		}
	}

	option = { # sure, but just this once!
		name = britannic.172.b

		hidden_tooltip = {
			# Chance of impregnation
			if = {
				limit = {
					fertility = 0.25
					FROM = { fertility = 0.25 }
					OR = {
						AND = {
							is_female = yes
							FROM = { is_female = no }
							NOT = { age = 45 }
						}
						AND = {
							is_female = no
							FROM = {
								is_female = yes
								NOT = { age = 45 }
							}
						}
					}
				}
				if = {
					limit = {
						fertility = 0.5
						FROM = { fertility = 0.5 }
					}
					random_list = {
						75 = {
							if = { 
								limit = {
									OR = {
										is_female = yes
										FROM = {
											is_female = yes
										}
									}
								}
								impregnate = FROM
								break = yes
							}
							impregnate_cuckoo = FROM
						}
						25 = { }
					}
					break = yes
				}
				
				random_list = {
					50 = {
						if = { 
							limit = {
								OR = {
									is_female = yes 
									FROM = {
										is_female = yes
									}
								}
							}
							impregnate = FROM
							break = yes
						}
						impregnate_cuckoo = FROM
					}
					50 = { }
				}
			
			}		
		}
	}

	option = {
		name = britannic.172.c

		reverse_opinion = { who = FROM modifier = ancrel_dissapointed }
	}
}

# spouse gives you the eyebrow wiggle
character_event = {
	id = britannic.173
	hide_window = yes

	only_playable = yes
	capable_only = yes
	prisoner = no
	min_age = 15

	trigger = {
		any_spouse = {
			religion = britannic_pagan

			opinion = { who = PREV value = 30 }

			ai = yes
		}
		
		OR = {
			NOT = { has_character_flag = imbolg_event_happened }
			had_character_flag = {
				flag = imbolg_event_happened
				days = 3
			}
		}			

		has_character_modifier = holding_imbolg
		had_character_flag = {
			flag = imbolg_begin
			days = 3
		}
		NOT = { has_character_flag = imbolg_event_horny_spouse }	
	}

	immediate = {
		set_character_flag = imbolg_event_horny_spouse
		set_character_flag = imbolg_event_happened

		spouse = {
			character_event = { id = britannic.174 days = 1 }
		}
	}

	mean_time_to_happen = {
		days = 90
		
		modifier = {
			factor = 2
			OR = {
				has_character_flag = imbolg_event_horny_dryad
				has_character_flag = imbolg_event_horny_courtier
			}
		}
		modifier = {
			factor = 0.33
			NOT = { has_character_flag = imbolg_event_happened }
		}
	}
}

# ping off spouse
character_event = {
	id = britannic.174
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		FROM = { character_event = { id = britannic.175 days = 1 } }
	}
}

# do you wiggle back?
character_event = {
	id = britannic.175
	title = britannic.imbolg_title
	desc = britannic.175.desc
	picture = GFX_evt_whispers

	is_triggered_only = yes

	option = { # giggity
		name = britannic.175.a

		add_lover = FROM

		hidden_tooltip = {
			FROM = { character_event = { id = 453 tooltip = EVTTOOLTIP453 } }
			# Chance of impregnation
			if = {
				limit = {
					fertility = 0.25
					FROM = { fertility = 0.25 }
					OR = {
						AND = {
							is_female = yes
							FROM = { is_female = no }
							NOT = { age = 45 }
						}
						AND = {
							is_female = no
							FROM = {
								is_female = yes
								NOT = { age = 45 }
							}
						}
					}
				}
				if = {
					limit = {
						fertility = 0.5
						FROM = { fertility = 0.5 }
					}
					random_list = {
						75 = {
							if = { 
								limit = {
									OR = {
										is_female = yes
										FROM = {
											is_female = yes
										}
									}
								}
								impregnate = FROM
								break = yes
							}
							impregnate_cuckoo = FROM
						}
						25 = { }
					}
					break = yes
				}
				
				random_list = {
					50 = {
						if = { 
							limit = {
								OR = {
									is_female = yes 
									FROM = {
										is_female = yes
									}
								}
							}
							impregnate = FROM
							break = yes
						}
						impregnate_cuckoo = FROM
					}
					50 = { }
				}
			}		
		}		
	}

	option = { # no thanks
		name = britannic.175.b

		FROM = {
			opinion = { who = ROOT modifier = ancrel_dissapointed }
		}
	}

	option = { # sorry babe, i have a headache (diplo)
		name = britannic.175.c
		tooltip_info = diplomacy

		trigger = {
			diplomacy = 12
		}
	}
}

# The Imbolg is over
character_event = {
	id = britannic.199
	title = britannic.imbolg_title
	desc = britannic.199.desc
	picture = GFX_evt_market

	is_triggered_only = yes

	option = {
		name = britannic.199.a
		remove_character_modifier = holding_imbolg
		set_character_flag = recent_imbolg

		clr_character_flag = do_not_disturb
		clr_character_flag = imbolg_event_happened
		clr_character_flag = imbolg_begin
		clr_character_flag = imbolg_event_spring_cleaning
		clr_character_flag = imbolg_event_dick_cakes
		clr_character_flag = imbolg_event_holy_well
		clr_character_flag = imbolg_event_bonfire
		clr_character_flag = imbolg_event_candlelight_procession
		clr_character_flag = imbolg_event_divinators
		clr_character_flag = imbolg_event_birth
		clr_character_flag = imbolg_event_horny_dryad
		clr_character_flag = imbolg_event_horny_courtier
		clr_character_flag = imbolg_event_horny_spouse

		prestige = 10
		piety = 10
	}
}

##################################################################
# 
# Britannic
# - Flavor Events
#   britannic.200 - 249 reserved
#
##################################################################

# yall be preggers, and someone wants to rub the bump for luck

# someone is running a hustle, selling fake sea water for tumtha

# something about fishing

##################################################################
# 
# Britannic
# - Fishing Trip (pilgrimage)
#   britannic.300 - 349 reserved
#
##################################################################

#Britannic Warrior Lodge has been recreated.
#Players notified.
# narrative_event = {
	# id = britannic.350
	# title = britannic.350.title
	# desc = britannic.350.desc
	# hide_from = yes
	# hide_new = yes

	# picture = GFX_evt_celtic_warriors
	
	# only_playable = yes	
	# is_triggered_only = yes
	
	# option = {
		# name = britannic.350.a
		# trigger = {
			# OR = { 
				# society_member_of = warrior_lodge_britannic
				# religion = britannic_pagan
				# secret_religion = britannic_pagan
				# can_join_society = warrior_lodge_britannic
			# }
		# }
		# if = {
			# limit = { 
				# NOT = { society_member_of = warrior_lodge_britannic }
				# can_join_society = warrior_lodge_britannic
			# }
			# join_society = warrior_lodge_britannic
		# }
	# }
	# option = {
		# name = britannic.350.b
		# trigger = {
			# NOR = { 
				# society_member_of = warrior_lodge_britannic
				# religion = britannic_pagan
				# secret_religion = britannic_pagan
				# can_join_society = warrior_lodge_britannic
			# }
		# }
	# }
# }

# ## Power 3: Call Hedge Knights
# #Which composition?
# character_event = {
	# id = britannic.351
	# desc = britannic.351.desc
    # picture = GFX_evt_mysterious_forest
    # border = GFX_event_normal_frame_war
    
    # has_dlc = "Holy Fury"

    # is_triggered_only = yes
    
	# immediate = { 
		# random_list = { 
			# 33 = { sound_effect = land_battle_sword_1 } 
			# 33 = { sound_effect = land_battle_sword_2 } 
			# 33 = { sound_effect = land_battle_sword_3 } 
		# }
	# }

    # option = {
        # name = britannic.351.a
            # capital_scope = {
                # show_scope_change = no
                # ROOT = {
                    # show_scope_change = no
                    # spawn_unit = { 
                        # province = PREV
                        # owner = ROOT
                        # troops = { 
                    		# heavy_infantry = { 1000 1000 }
                    		# archers = { 500 500 }
                        # }
                        # earmark = hedge_knights
                        # attrition = 0.5
                        # disband_on_peace = yes
                    # }
                # }
            # }
        # ai_chance = {    
            # factor = 30
        # }
    # }
    # option = {
        # name = britannic.351.b
            # capital_scope = {
                # show_scope_change = no
                # ROOT = {
                    # show_scope_change = no
                    # spawn_unit = { 
                        # province = PREV
                        # owner = ROOT
                        # troops = { 
                            # pikemen = { 1000 1000 }
                        # }
                        # earmark = hedge_knights
                        # attrition = 0.5
                        # disband_on_peace = yes 
                    # }
                # }
            # }
        # ai_chance = {    
            # factor = 30
        # }
    # }
    # option = {
        # name = britannic.351.c
            # capital_scope = {
                # show_scope_change = no
                # ROOT = {
                    # show_scope_change = no
                    # spawn_unit = { 
                        # province = PREV
                        # owner = ROOT
                        # troops = { 
                    		# light_cavalry = { 1000 1000 }
							# knights = { 250 250 }
                        # }
                        # earmark = hedge_knights
                        # attrition = 0.5
                        # disband_on_peace = yes
                    # }
                # }
            # }
        # ai_chance = {    
            # factor = 30
        # }
    # }
    # option = { #Changed my mind
        # name = britannic.351.d
       # hidden_tooltip = {
            # remove_character_modifier = lodge_summon_warriors_cooldown
           	# if = { 
           		# limit = { society_member_of = warrior_lodge_britannic } #Safety check for sneaky players.
           		# add_society_currency_medium_effect = yes 
           	# }
        # }
        # ai_chance = {    
            # factor = 0
        # }
    # }
# }