###################################
#
# Ancient Religions
# - Titan Flavor Events
#
# titan.0-3699 Titan Thysia
# titan.100-3749 Holy Orders
#
###################################


###################################
#
# Ancient Religions
# - Titan Thysia Events
# titan.0 - titan.99 reserved
#
###################################

# Written by Henrik Eklund for the Viking Blot
# Adapted for the Titan Cult by Adam 'theStormWeaver' Chevalier

namespace = titan

# You summon your vassals to a Thysia
character_event = {
	id = titan.0
	desc = titan.0.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = titan.0.a
		any_vassal = {
			limit = {
				religion = titan_pagan
				age = 16
				prisoner = no
				war = no
				NOT = { trait = incapable }
			}
			character_event = { id = titan.1 tooltip = titan.1.tt }
			hidden_tooltip = { character_event = { id = titan.5 days = 10 } }
		}
		any_vassal = {
			limit = {
				OR = {
					religion_group = christian
					religion_group = muslim
					#religion_group = indian_group
					religion = promethean_pagan
					is_roman_pagan_or_reformed_trigger = yes
				}
				age = 16
				prisoner = no
				war = no
				NOT = { trait = incapable }
			}
			character_event = { id = titan.2 tooltip = titan.2.tt }
		}
		hidden_tooltip = { character_event = { id = titan.4 days = 10 } }
	}
}

# Summoned to Thysia (Vassal)
character_event = {
	id = titan.1
	desc = titan.1.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.1.a
		set_character_flag = attending_titan_thysia
		set_character_flag = do_not_disturb
		if = {
			limit = { trait = in_hiding	}
			remove_trait = in_hiding
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			hidden_tooltip = { character_event = { id = CM.6400 } } # Notify plotters and family
		}
		hidden_tooltip = { character_event = { id = titan.99 days = 50 } } # Safety catch flag clearing
	}
}

# Non-Titanic Pagans pay to skip Thysia
character_event = {
	id = titan.2
	desc = titan.2.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = { # Pay
		name = titan.2.a
		trigger = {
			wealth = 5
		}
		FROM = {
			character_event = { id = titan.3 tooltip = titan.3.tt }
		}
		wealth = -5
	}
	option = { # Don't pay
		name = titan.2.b
		FROM = {
			character_event = { id = titan.36 tooltip = titan.36.tt }
		}
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_refused_titan_thysia
					who = ROOT
				}
				any_vassal = {
					limit = { has_character_flag = attending_titan_thysia }
					opinion = {
						modifier = opinion_refused_titan_thysia
						who = ROOT
					}
				}
			}
		}
	}
}

# Non-Titanic Pagans pay to skip Thysia (Liege)
character_event = {
	id = titan.3
	desc = titan.3.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.3.a
		wealth = 20
	}
}

# Non-Titanic Pagans refuse to pay to skip Thysia (Liege)
character_event = {
	id = titan.36
	desc = titan.36.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.36.a
	}
}

# Thysia Begins! (Liege)
character_event = {
	id = titan.4
	desc = titan.4.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = titan.4.a
		hidden_tooltip = {
			if = {
				limit = { 
					any_courtier = {
						prisoner = yes
						host = { character = ROOT }
						age = 16
					}
				}
				random_courtier = {
					limit = { 
						prisoner = yes 
						host = { character = ROOT }
						age = 16
					}
					character_event = { id = titan.6 days = 5 }
				}
			}
			if = {
				limit = { 
					NOT = {
						any_courtier = {
							prisoner = yes
							host = { character = ROOT }
							age = 16
						}
					}
				}
				character_event = { id = titan.34 days = 5 }
			}
		}
		custom_tooltip = { text = titan_thysia_begins }
		if = {
			limit = { ai = no }
			chronicle = {
				entry = CHRONICLE_HELD_THYSIA
				picture = GFX_evt_viking_throneroom_oldgods
			}
		}
	}
}

# Thysia Begins! (Vassal)
character_event = {
	id = titan.5
	desc = titan.5.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = titan.4.a
	}
}

# Sacrifice Prisoner 1 (Prisoner)
character_event = {
	id = titan.6
	desc = titan.6.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.6.a
		hidden_tooltip = {
			if = {
				limit = { # Generic
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
						religion_group = christian
						religion_group = muslim
					}
				}
				random_list = {
					25 = { FROM = { character_event = { id = titan.10 } } }
					25 = { FROM = { character_event = { id = titan.80 } } }
					25 = { FROM = { character_event = { id = titan.81 } } }
					25 = { FROM = { character_event = { id = titan.82 } } }
				}
			}
			if = {
				limit = { # Christian
					religion_group = christian
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.11 } }
			}
			if = {
				limit = { # Muslim
					religion_group = muslim
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.12 } }
			}
			if = {
				limit = { # Brother
					sibling = FROM
					is_female = no
				}
				FROM = { character_event = { id = titan.13 } }
			}
			if = {
				limit = { # Sister
					sibling = FROM
					is_female = yes
				}
				FROM = { character_event = { id = titan.14 } }
			}
			if = {
				limit = { # Father
					any_child = { character = FROM }
					is_female = no
				}
				FROM = { character_event = { id = titan.15 } }
			}
			if = {
				limit = { # Mother
					any_child = { character = FROM }
					is_female = yes
				}
				FROM = { character_event = { id = titan.16 } }
			}
			if = {
				limit = { # Son
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = no
				}
				FROM = { character_event = { id = titan.17 } }
			}
			if = {
				limit = { # Daughter
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = yes
				}
				FROM = { character_event = { id = titan.18 } }
			}
			if = {
				limit = { # Kin
					any_dynasty_member = { character = FROM}
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
					}
				}
				FROM = { character_event = { id = titan.19 } }
			}
			if = {
				limit = { # Spouse
					any_spouse = { character = FROM }
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.20 } }
			}
			if = {
				limit = { # Hellenic ('Olympian')
					is_roman_pagan_or_reformed_trigger = yes
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.21 } }
			}
			FROM = { character_event = { id = titan.45 } }
		}
	}
}

# Sacrifice Prisoner 2 (Prisoner)
character_event = {
	id = titan.7
	desc = titan.6.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.6.a
		hidden_tooltip = {
			if = {
				limit = { # Generic
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
						religion_group = christian
						religion_group = muslim
					}
				}
				random_list = {
					25 = { FROM = { character_event = { id = titan.10 } } }
					25 = { FROM = { character_event = { id = titan.80 } } }
					25 = { FROM = { character_event = { id = titan.81 } } }
					25 = { FROM = { character_event = { id = titan.82 } } }
				}
			}
			if = {
				limit = { # Christian
					religion_group = christian
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.11 } }
			}
			if = {
				limit = { # Muslim
					religion_group = muslim
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.12 } }
			}
			if = {
				limit = { # Brother
					sibling = FROM
					is_female = no
				}
				FROM = { character_event = { id = titan.13 } }
			}
			if = {
				limit = { # Sister
					sibling = FROM
					is_female = yes
				}
				FROM = { character_event = { id = titan.14 } }
			}
			if = {
				limit = { # Father
					any_child = { character = FROM }
					is_female = no
				}
				FROM = { character_event = { id = titan.15 } }
			}
			if = {
				limit = { # Mother
					any_child = { character = FROM }
					is_female = yes
				}
				FROM = { character_event = { id = titan.16 } }
			}
			if = {
				limit = { # Son
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = no
				}
				FROM = { character_event = { id = titan.17 } }
			}
			if = {
				limit = { # Daughter
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = yes
				}
				FROM = { character_event = { id = titan.18 } }
			}
			if = {
				limit = { # Kin
					any_dynasty_member = { character = FROM}
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
					}
				}
				FROM = { character_event = { id = titan.19 } }
			}
			if = {
				limit = { # Spouse
					any_spouse = { character = FROM }
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.20 } }
			}
			if = {
				limit = { # Hellenic ('Olympian')
					is_roman_pagan_or_reformed_trigger = yes
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.21 } }
			}
			FROM = { character_event = { id = titan.46 } }
		}
	}
}

# Sacrifice Prisoner 3 (Prisoner)
character_event = {
	id = titan.8
	desc = titan.6.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.6.a
		hidden_tooltip = {
			if = {
				limit = { # Generic
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
						religion_group = christian
						religion_group = muslim
					}
				}
				random_list = {
					25 = { FROM = { character_event = { id = titan.10 } } }
					25 = { FROM = { character_event = { id = titan.80 } } }
					25 = { FROM = { character_event = { id = titan.81 } } }
					25 = { FROM = { character_event = { id = titan.82 } } }
				}
			}
			if = {
				limit = { # Christian
					religion_group = christian
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.11 } }
			}
			if = {
				limit = { # Muslim
					religion_group = muslim
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.12 } }
			}
			if = {
				limit = { # Brother
					sibling = FROM
					is_female = no
				}
				FROM = { character_event = { id = titan.13 } }
			}
			if = {
				limit = { # Sister
					sibling = FROM
					is_female = yes
				}
				FROM = { character_event = { id = titan.14 } }
			}
			if = {
				limit = { # Father
					any_child = { character = FROM }
					is_female = no
				}
				FROM = { character_event = { id = titan.15 } }
			}
			if = {
				limit = { # Mother
					any_child = { character = FROM }
					is_female = yes
				}
				FROM = { character_event = { id = titan.16 } }
			}
			if = {
				limit = { # Son
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = no
				}
				FROM = { character_event = { id = titan.17 } }
			}
			if = {
				limit = { # Daughter
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = yes
				}
				FROM = { character_event = { id = titan.18 } }
			}
			if = {
				limit = { # Kin
					any_dynasty_member = { character = FROM}
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
					}
				}
				FROM = { character_event = { id = titan.19 } }
			}
			if = {
				limit = { # Spouse
					any_spouse = { character = FROM }
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.20 } }
			}
			if = {
				limit = { # Hellenic ('Olympian')
					is_roman_pagan_or_reformed_trigger = yes
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.21 } }
			}
			FROM = { character_event = { id = titan.47 } }
		}
	}
}

# Sacrifice Prisoner 4 (Prisoner)
character_event = {
	id = titan.9
	desc = titan.6.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.6.a
		hidden_tooltip = {
			if = {
				limit = { # Generic
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
						religion_group = christian
						religion_group = muslim
					}
				}
				random_list = {
					25 = { FROM = { character_event = { id = titan.10 } } }
					25 = { FROM = { character_event = { id = titan.80 } } }
					25 = { FROM = { character_event = { id = titan.81 } } }
					25 = { FROM = { character_event = { id = titan.82 } } }
				}
			}
			if = {
				limit = { # Christian
					religion_group = christian
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.11 } }
			}
			if = {
				limit = { # Muslim
					religion_group = muslim
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.12 } }
			}
			if = {
				limit = { # Brother
					sibling = FROM
					is_female = no
				}
				FROM = { character_event = { id = titan.13 } }
			}
			if = {
				limit = { # Sister
					sibling = FROM
					is_female = yes
				}
				FROM = { character_event = { id = titan.14 } }
			}
			if = {
				limit = { # Father
					any_child = { character = FROM }
					is_female = no
				}
				FROM = { character_event = { id = titan.15 } }
			}
			if = {
				limit = { # Mother
					any_child = { character = FROM }
					is_female = yes
				}
				FROM = { character_event = { id = titan.16 } }
			}
			if = {
				limit = { # Son
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = no
				}
				FROM = { character_event = { id = titan.17 } }
			}
			if = {
				limit = { # Daughter
					OR = {
						father = { character = FROM }
						mother = { character = FROM }
					}
					is_female = yes
				}
				FROM = { character_event = { id = titan.18 } }
			}
			if = {
				limit = { # Kin
					any_dynasty_member = { character = FROM}
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
					}
				}
				FROM = { character_event = { id = titan.19 } }
			}
			if = {
				limit = { # Spouse
					any_spouse = { character = FROM }
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.20 } }
			}
			if = {
				limit = { # Hellenic ('Olympian')
					is_roman_pagan_or_reformed_trigger = yes
					NOT = {
						sibling = FROM
						father = { character = FROM }
						mother = { character = FROM }
						any_spouse = { character = FROM }
						any_child = { character = FROM }
						any_dynasty_member = { character = FROM}
					}
				}
				FROM = { character_event = { id = titan.21 } }
			}
			FROM = { character_event = { id = titan.40 days = 5 } }
		}
	}
}

# Sacrifice Generic 1 (Liege)
character_event = {
	id = titan.10
	desc = titan.10.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.10.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.22 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.10.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Christian (Liege)
character_event = {
	id = titan.11
	desc = titan.11.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.11.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.23 }
			}
		}
		prestige = 50
		piety = 25
	}
	option = {
		name = titan.11.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -50
	}
}

# Sacrifice Muslim (Liege)
character_event = {
	id = titan.12
	desc = titan.12.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.12.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.24 }
			}
		}
		prestige = 50
		piety = 25
	}
	option = {
		name = titan.12.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -50
	}
}

# Sacrifice Brother (Liege)
character_event = {
	id = titan.13
	desc = titan.13.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.13.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		add_trait = kinslayer
		hidden_tooltip = {
			character_event = { id = 38287 } #Notify Kinslayer
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.25 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.13.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Sister (Liege)
character_event = {
	id = titan.14
	desc = titan.14.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.14.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		add_trait = kinslayer
		hidden_tooltip = {
			character_event = { id = 38287 } #Notify Kinslayer
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.26 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.14.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Father (Liege)
character_event = {
	id = titan.15
	desc = titan.15.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.15.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		add_trait = kinslayer
		hidden_tooltip = {
			character_event = { id = 38287 } #Notify Kinslayer
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.27 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.15.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Mother (Liege)
character_event = {
	id = titan.16
	desc = titan.16.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.16.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		add_trait = kinslayer
		hidden_tooltip = {
			character_event = { id = 38287 } #Notify Kinslayer
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.28 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.16.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Son (Liege)
character_event = {
	id = titan.17
	desc = titan.17.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.17.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		add_trait = kinslayer
		hidden_tooltip = {
			character_event = { id = 38287 } #Notify Kinslayer
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.29 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.17.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Daughter (Liege)
character_event = {
	id = titan.18
	desc = titan.18.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.18.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		add_trait = kinslayer
		hidden_tooltip = {
			character_event = { id = 38287 } #Notify Kinslayer
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.30 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.18.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Other Kinsman (Liege)
character_event = {
	id = titan.19
	desc = titan.19.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.19.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.31 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.19.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Spouse/Consort (Liege)
character_event = {
	id = titan.20
	desc = titan.20.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.20.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.32 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.20.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Olympian (Liege)
character_event = {
	id = titan.21
	desc = titan.21.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.21.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.33 }
			}
		}
		prestige = 50
		piety = 25
	}
	option = {
		name = titan.21.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -50
	}
}

# Sacrifice Generic (Vassal)
character_event = {
	id = titan.22
	desc = titan.22.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Christian (Vassal)
character_event = {
	id = titan.23
	desc = titan.23.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Muslim (Vassal)
character_event = {
	id = titan.24
	desc = titan.24.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Brother (Vassal)
character_event = {
	id = titan.25
	desc = titan.25.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Sister (Vassal)
character_event = {
	id = titan.26
	desc = titan.26.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Father (Vassal)
character_event = {
	id = titan.27
	desc = titan.27.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Mother (Vassal)
character_event = {
	id = titan.28
	desc = titan.28.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Son (Vassal)
character_event = {
	id = titan.29
	desc = titan.29.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Daughter (Vassal)
character_event = {
	id = titan.30
	desc = titan.30.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Other Kinsman (Vassal)
character_event = {
	id = titan.31
	desc = titan.31.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Spouse/Consort (Vassal)
character_event = {
	id = titan.32
	desc = titan.32.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# Sacrifice Olympian (Vassal)
character_event = {
	id = titan.33
	desc = titan.33.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.22.a
		tooltip = {
			FROMFROM = {
				death = {
					death_reason = death_sacrificed
					killer = FROM
				}
			}
		}
	}
}

# No Prisoners, Slaves sacrificed instead (Liege)
character_event = {
	id = titan.34
	desc = titan.34.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = titan.34.a
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.35 }
			}
			character_event = { id = titan.40 days = 5 }
		}
		wealth = -50
		prestige = 50
		piety = 50
	}
}

# No Prisoners, Slaves sacrificed instead (Vassal)
character_event = {
	id = titan.35
	desc = titan.35.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.35.a
	}
}

# Liege changed his mind about sacrifice (prisoner)
character_event = {
	id = titan.37
	desc = titan.37.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.37.a
	}
}

# Prisoner 2 (Liege invisible)
character_event = {
	id = titan.45
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { 
				any_courtier = {
					prisoner = yes
					host = { character = ROOT }
					age = 16
					NOT = { character = FROM }
				}
			}
			random_courtier = {
				limit = { 
					prisoner = yes 
					host = { character = ROOT }
					age = 16
					NOT = { character = FROM }
				}
				character_event = { id = titan.7 days = 5 }
			}
		}
		if = {
			limit = {
				NOT = { 
					any_courtier = {
						prisoner = yes
						host = { character = ROOT }
						age = 16
						NOT = { character = FROM }
					}
				}
			}
			character_event = { id = titan.40 days = 5 }
		}
	}
}

# Prisoner 3 (Liege invisible)
character_event = {
	id = titan.46
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { 
				any_courtier = {
					prisoner = yes
					host = { character = ROOT }
					age = 16
					NOT = { character = FROM }
				}
			}
			random_courtier = {
				limit = { 
					prisoner = yes 
					host = { character = ROOT }
					age = 16
					NOT = { character = FROM }
				}
				character_event = { id = titan.8 days = 5 }
			}
		}
		if = {
			limit = {
				NOT = { 
					any_courtier = {
						prisoner = yes
						host = { character = ROOT }
						age = 16
						NOT = { character = FROM }
					}
				}
			}
			character_event = { id = titan.40 days = 5 }
		}
	}
}

# Prisoner 4 (Liege invisible)
character_event = {
	id = titan.47
	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		if = {
			limit = { 
				any_courtier = {
					prisoner = yes
					host = { character = ROOT }
					age = 16
					NOT = { character = FROM }
				}
			}
			random_courtier = {
				limit = { 
					prisoner = yes 
					host = { character = ROOT }
					age = 16
					NOT = { character = FROM }
				}
				character_event = { id = titan.9 days = 5 }
			}
		}
		if = {
			limit = {
				NOT = { 
					any_courtier = {
						prisoner = yes
						host = { character = ROOT }
						age = 16
						NOT = { character = FROM }
					}
				}
			}
			character_event = { id = titan.40 days = 5 }
		}
	}
}

# Feast Begins (Liege)
character_event = {
	id = titan.40
	desc = titan.40.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = titan.40.a
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.41 }
			}
			character_event = { id = titan.42 days = 25 }
			random_list = {
				10 = { character_event = { id = titan.83 days = 3 } }
				10 = { character_event = { id = titan.84 days = 3 } }
				10 = { character_event = { id = titan.85 days = 3 } }
				10 = { character_event = { id = titan.86 days = 3 } }
				10 = { character_event = { id = titan.87 days = 3 } }
				10 = { character_event = { id = titan.88 days = 3 } }
				10 = { character_event = { id = titan.89 days = 3 } }
			}
			random_list = {
				10 = { character_event = { id = titan.83 days = 8 } }
				10 = { character_event = { id = titan.84 days = 8 } }
				10 = { character_event = { id = titan.85 days = 8 } }
				10 = { character_event = { id = titan.86 days = 8 } }
				10 = { character_event = { id = titan.87 days = 8 } }
				10 = { character_event = { id = titan.88 days = 8 } }
				10 = { character_event = { id = titan.89 days = 8 } }
			}
			random_list = {
				10 = { character_event = { id = titan.83 days = 13 } }
				10 = { character_event = { id = titan.84 days = 13 } }
				10 = { character_event = { id = titan.85 days = 13 } }
				10 = { character_event = { id = titan.86 days = 13 } }
				10 = { character_event = { id = titan.87 days = 13 } }
				10 = { character_event = { id = titan.88 days = 13 } }
				10 = { character_event = { id = titan.89 days = 13 } }
			}
			random_list = {
				10 = { character_event = { id = titan.83 days = 18 } }
				10 = { character_event = { id = titan.84 days = 18 } }
				10 = { character_event = { id = titan.85 days = 18 } }
				10 = { character_event = { id = titan.86 days = 18 } }
				10 = { character_event = { id = titan.87 days = 18 } }
				10 = { character_event = { id = titan.88 days = 18 } }
				10 = { character_event = { id = titan.89 days = 18 } }
			}
		}
		set_character_flag = titan_thysia_feast
		
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				opinion = {
					modifier = opinion_held_titan_thysia
					who = ROOT
				}
			}
		}
		
		custom_tooltip = { text = feast_begins }
	}
}

# Feast Begins (Vassal)
character_event = {
	id = titan.41
	desc = titan.40.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.41.a
		set_character_flag = titan_thysia_feast_vassal
		custom_tooltip = { text = feast_begins }
	}
}

# Feast Ends (Liege)
character_event = {
	id = titan.42
	desc = titan.42.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	hide_from = yes
	
	option = {
		name = titan.42.a
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.43 }
			}
		}
		add_character_modifier = {
			name = held_titan_thysia_timer
			duration = 3285
			hidden = yes
		}
		add_character_modifier = {
			name = held_titan_thysia_modifier
			duration = 365
		}
		clr_character_flag = holding_titan_thysia
		clr_character_flag = titan_thysia_feast
		clr_character_flag = feast_drunkard
		clr_character_flag = feast_gluttonous
		clr_character_flag = feast_lunatic
		clr_character_flag = feast_lustful
		clr_character_flag = feast_homosexual
		clr_character_flag = do_not_disturb
	}
}

# Feast Ends (Vassal)
character_event = {
	id = titan.43
	desc = titan.43.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.42.a
		clr_character_flag = attending_titan_thysia
		clr_character_flag = titan_thysia_feast_vassal
		clr_character_flag = feast_drunkard
		clr_character_flag = feast_gluttonous
		clr_character_flag = feast_lunatic
		clr_character_flag = feast_lustful
		clr_character_flag = feast_friendship
		clr_character_flag = feast_homosexual
		clr_character_flag = do_not_disturb
	}
}

### Feast Events

# Drunkard (Guest)
character_event = {
	id = titan.50
	desc = titan.50.desc
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_religion
	hide_from = yes
	is_triggered_only = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast_vassal
	
	trigger = {
		NOT = { has_character_flag = feast_drunkard }
		liege = { 
			has_character_flag = titan_thysia_feast
			NOT = { has_character_flag = feast_drunkard }
		}
		trait = drunkard
	}
	
	option = {
		name = titan.50.a
		tooltip_info = drunkard
		set_character_flag = feast_drunkard
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_drunkard
				character_event = { id = titan.51 }
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = titan.51 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = drunkard } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = drunkard }
					opinion = {
						modifier = opinion_drinking_buddy
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						NOT = { trait = drunkard }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						trait = drunkard
					}
					opinion = {
						modifier = opinion_drinking_buddy
						who = ROOT
					}
				}
			}
		}
	}
}

# Drunkard (Host and Other Guests)
character_event = {
	id = titan.51
	desc = titan.51.desc
	picture = GFX_evt_drunk
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.51.a
		trigger = { 
			NOT = { trait = drunkard } 
		}
		opinion = {
			modifier = opinion_feast_scandal
			who = FROM
		}
	}
	option = {
		name = titan.51.b
		tooltip_info = drunkard
		trigger = { 
			trait = drunkard
		}
		opinion = {
			modifier = opinion_drinking_buddy
			who = FROM
		}
	}
}

# Gluttonous (Victim Hidden)
character_event = {
	id = titan.52
	hide_window = yes
	is_triggered_only = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast_vassal
	
	trigger = {
		liege = {
			has_character_flag = titan_thysia_feast
			NOT = { has_character_flag = feast_gluttonous }
			any_vassal = {
				has_character_flag = titan_thysia_feast_vassal
				NOT = { has_character_flag = feast_gluttonous }
				trait = gluttonous
				NOT = { character = ROOT }
			}
		}
	}

	immediate = {
		liege = {
			set_character_flag = feast_gluttonous
			random_vassal = {
				limit = {
					has_character_flag = titan_thysia_feast_vassal
					trait = gluttonous
					NOT = { character = ROOT }
				}
				character_event = { id = titan.53 }
				set_character_flag = feast_gluttonous
			}
		}
	}
}

# Gluttonous (Guest)
character_event = {
	id = titan.53
	desc = titan.53.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.53.a
		tooltip_info = gluttonous
		FROM = {
			character_event = { id = titan.54 tooltip = titan.54.tt }
		}	
		hidden_tooltip = {
			liege = {
				character_event = { id = titan.55 }
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { 
							character = ROOT 
							character = FROM
						}
					}
					character_event = { id = titan.55 }
				}
			}
		}
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_vomit
					who = ROOT
				}
			}
			liege = {
				opinion = {
					modifier = opinion_feast_scandal
					who = ROOT
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { 
							character = ROOT 
							character = FROM
						}
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
			}
		}
	}
}

# Gluttonous (Victim)
character_event = {
	id = titan.54
	desc = titan.54.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.54.a
		opinion = {
			modifier = opinion_vomit
			who = FROM
		}
	}
}

# Gluttonous (Host and Other Guests)
character_event = {
	id = titan.55
	desc = titan.55.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.55.a
		opinion = {
			modifier = opinion_feast_scandal
			who = FROM
		}
	}
}

# Lunatic (Guest)
character_event = {
	id = titan.56
	desc = titan.56.desc
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_religion
	hide_from = yes
	
	is_triggered_only = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast_vassal
	
	trigger = {
		NOT = { has_character_flag = feast_lunatic }
		liege = { 
			has_character_flag = titan_thysia_feast
			NOT = { has_character_flag = feast_lunatic }
		}
		trait = lunatic
	}
	
	option = {
		name = titan.56.a
		tooltip_info = lunatic
		set_character_flag = feast_lunatic
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_lunatic
				character_event = { id = titan.57 }
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = titan.57 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = lunatic } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = lunatic }
					opinion = {
						modifier = opinion_feast_friend
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						NOT = { trait = lunatic }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						trait = lunatic
					}
					opinion = {
						modifier = opinion_feast_friend
						who = ROOT
					}
				}
			}
		}	
	}
}

# Lunatic (Host and Other Guests)
character_event = {
	id = titan.57
	desc = titan.57.desc
	picture = GFX_evt_lunatic
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.57.a
		trigger = {
			NOT = { trait = lunatic }
		}
		opinion = {
			modifier = opinion_feast_scandal
			who = ROOT
		}
	}
	option = {
		name = titan.57.b
		tooltip_info = lunatic
		trigger = {
			trait = lunatic
		}
		opinion = {
			modifier = opinion_feast_friend
			who = ROOT
		}
	}
}

# Lustful (Guest)
character_event = {
	id = titan.58
	desc = titan.58.desc
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_religion
	hide_from = yes
	is_triggered_only = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast_vassal
	only_men = yes
	
	trigger = {
		NOT = { has_character_flag = feast_lustful }
		liege = { 
			has_character_flag = titan_thysia_feast
			NOT = { has_character_flag = feast_lustful }
		}
		trait = lustful
	}
	
	option = {
		name = titan.58.a
		tooltip_info = lustful
		set_character_flag = feast_lustful
		trigger = {
			is_married = no
		}
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_lustful
				character_event = { id = titan.59 }
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = titan.59 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = lustful } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = lustful }
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						NOT = { trait = lustful }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						trait = lustful
					}
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
			}
		}	
	}
	option = {
		name = titan.58.b
		tooltip_info = lustful
		set_character_flag = feast_lustful
		trigger = {
			is_married = yes
		}
		hidden_tooltip = {
			liege = {
				set_character_flag = feast_lustful
				character_event = { id = titan.59 }
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
					}
					character_event = { id = titan.59 }
				}
			}
		}
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = lustful } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = lustful }
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						NOT = { trait = lustful }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						trait = lustful
					}
					opinion = {
						modifier = opinion_lustful_buddy
						who = ROOT
					}
				}
			}
			any_spouse = {
				opinion = {
					modifier = opinion_mad_as_hell
					who = ROOT
					years = 1
				}
			}
		}	
	}
}

# Lustful (Host and Other Guests)
character_event = {
	id = titan.59
	desc = titan.59.desc
	picture = GFX_evt_brothel
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.59.a
		trigger = {
			NOT = { trait = lustful }
			NOT = { any_spouse = { character = FROM } }
		}
		opinion = {
			modifier = opinion_feast_scandal
			who = FROM
		}
	}
	option = {
		name = titan.59.b
		tooltip_info = lustful
		trigger = {
			trait = lustful
			NOT = { any_spouse = { character = FROM } }
		}
		opinion = {
			modifier = opinion_lustful_buddy
			who = FROM
		}
	}
	option = {
		name = titan.59.c
		trigger = {
			any_spouse = { character = FROM }
		}
		opinion = {
			modifier = opinion_mad_as_hell
			who = FROM
			years = 1
		}
	}
}

# Friendship Formed (Guest 1 Hidden)
character_event = {
	id = titan.60
	hide_window = yes
	is_triggered_only = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast_vassal
	
	trigger = {
		NOT = { has_character_flag = feast_friendship }
		liege = { 
			has_character_flag = titan_thysia_feast
			any_vassal = {
				has_character_flag = titan_thysia_feast_vassal
				NOT = { has_character_flag = feast_friendship }
				NOT = { character = ROOT }
				opinion = { who = ROOT value =  20 }
			}		
		}
	}
	
	immediate = {
		set_character_flag = feast_friendship
		liege = { 
			random_vassal = {
				limit = {
					has_character_flag = titan_thysia_feast_vassal
					NOT = { character = ROOT }
					opinion = { who = ROOT value =  20 }
				}
				character_event = { id = titan.61 }
				set_character_flag = feast_friendship
				opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
				reverse_opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
			}		
		}
	}
}

# Friendship Formed (Guest 2)
character_event = {
	id = titan.61
	desc = titan.61.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.61.a
		hidden_tooltip = {
			FROM = {
				character_event = { id = titan.62 }
			}
		}
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
			}
			opinion = {
				modifier = opinion_feast_friend
				who = FROM
			}
		}
	}
}

# Friendship Formed (Guest 1)
character_event = {
	id = titan.62
	desc = titan.61.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.61.a
		tooltip = {
			FROM = {
				opinion = {
					modifier = opinion_feast_friend
					who = ROOT
				}
			}
			opinion = {
				modifier = opinion_feast_friend
				who = FROM
			}
		}
	}
}

# Homosexual Male (Guest 1 Hidden)
character_event = {
	id = titan.63
	hide_window = yes
	is_triggered_only = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast_vassal
	only_men = yes
	
	trigger = {
		NOT = { has_character_flag = feast_homosexual }
		trait = homosexual
		has_lover = no
		liege = { 
			NOT = { has_character_flag = feast_homosexual }
			has_character_flag = titan_thysia_feast
			any_vassal = {
				has_character_flag = titan_thysia_feast_vassal
				NOT = { has_character_flag = feast_homosexual }
				NOT = { character = ROOT }
				opinion = { who = ROOT value =  0 }
				trait = homosexual
				is_female = no
				has_lover = no
			}		
		}
	}
	
	immediate = {
		set_character_flag = feast_homosexual
		liege = { 
			set_character_flag = feast_homosexual
			random_vassal = {
				limit = {
					has_character_flag = titan_thysia_feast_vassal
					NOT = { has_character_flag = feast_homosexual }
					NOT = { character = ROOT }
					opinion = { who = ROOT value =  0 }
					trait = homosexual
					is_female = no
				}
				character_event = { id = titan.64 }
				add_lover = FROM
				set_character_flag = feast_homosexual
			}		
		}
	}
}

# Homosexual Male (Guest 2)
character_event = {
	id = titan.64
	desc = titan.64.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.64.a
		tooltip_info = homosexual
		hidden_tooltip = {
			FROM = {
				character_event = { id = titan.65 }
			}
			liege = {
				character_event = { id = titan.70 }
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = {
							character = ROOT
							character = FROM
						}
					}
					character_event = { id = titan.70 }
				}
			}
		}
		tooltip = {
			random = {
				chance = 50
				character_event = { id = titan.69 tooltip = titan.69.tt }
			}
			add_lover = FROM
		}
	}
}

# Homosexual Male (Guest 1)
character_event = {
	id = titan.65
	desc = titan.64.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.64.a
		tooltip_info = homosexual
		random = {
			chance = 50
			character_event = { id = titan.69 tooltip = titan.69.tt }
			hidden_tooltip = {
				FROM = {
					character_event = { id = titan.69 }
				}
			}
		}
		tooltip = {
			add_lover = FROM
		}
	}
}

# Homosexual Female (Guest 1 Hidden)
character_event = {
	id = titan.66
	hide_window = yes
	is_triggered_only = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast_vassal
	only_women = yes
	
	trigger = {
		NOT = { has_character_flag = feast_homosexual }
		trait = homosexual
		has_lover = no
		liege = { 
			NOT = { has_character_flag = feast_homosexual }
			has_character_flag = titan_thysia_feast
			any_vassal = {
				has_character_flag = titan_thysia_feast_vassal
				NOT = { has_character_flag = feast_homosexual }
				NOT = { character = ROOT }
				opinion = { who = ROOT value =  0 }
				trait = homosexual
				is_female = yes
				has_lover = no
			}		
		}
	}
	
	immediate = {
		set_character_flag = feast_homosexual
		liege = { 
			set_character_flag = feast_homosexual
			random_vassal = {
				limit = {
					has_character_flag = titan_thysia_feast_vassal
					NOT = { has_character_flag = feast_homosexual }
					NOT = { character = ROOT }
					opinion = { who = ROOT value =  0 }
					trait = homosexual
					is_female = yes
				}
				character_event = { id = titan.67 }
				set_character_flag = feast_homosexual
				add_lover = FROM
			}		
		}
	}
}

# Homosexual Female (Guest 2)
character_event = {
	id = titan.67
	desc = titan.64.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.64.a
		tooltip_info = homosexual
		hidden_tooltip = {
			FROM = {
				character_event = { id = titan.68 }
			}
			liege = {
				character_event = { id = titan.70 }
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = {
							character = ROOT
							character = FROM
						}
					}
					character_event = { id = titan.70 }
				}
			}			
		}
		tooltip = {
			random = {
				chance = 50
				character_event = { id = titan.69 tooltip = titan.69.tt }
			}
			add_lover = FROM
		}
	}
}

# Homosexual Female (Guest 1)
character_event = {
	id = titan.68
	desc = titan.64.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.64.a
		tooltip_info = homosexual
		random = {
			chance = 50
			character_event = { id = titan.69 tooltip = titan.69.tt }
			hidden_tooltip = {
				FROM = {
					character_event = { id = titan.69 }
				}
			}
		}
		tooltip = {
			add_lover = FROM
		}
	}
}

# Homosexual Caught
character_event = {
	id = titan.69
	desc = titan.69.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.69.a
		tooltip = {
			liege = {
				if = {
					limit = { NOT = { trait = homosexual } }
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				if = {
					limit = { trait = homosexual }
					opinion = {
						modifier = opinion_homosexual_sympathy
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						NOT = { trait = homosexual }
					}
					opinion = {
						modifier = opinion_feast_scandal
						who = ROOT
					}
				}
				any_vassal = {
					limit = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { character = ROOT }
						trait = homosexual
					}
					opinion = {
						modifier = opinion_homosexual_sympathy
						who = ROOT
					}
				}
			}
		}	
	}
}

# Homosexual Caught (Host and Other Guests)
character_event = {
	id = titan.70
	desc = titan.70.desc
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.70.a
		trigger = {
			NOT = { trait = homosexual }
		}
		opinion = {
			modifier = opinion_feast_scandal
			who = FROM
		}
	}
	option = {
		name = titan.70.b
		tooltip_info = homosexual
		trigger = {
			trait = homosexual
		}
		opinion = {
			modifier = opinion_homosexual_sympathy
			who = FROM
		}
	}
}

# Sacrifice Generic 2 (Liege)
character_event = {
	id = titan.80
	desc = titan.80.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.10.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.22 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.10.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Generic 3 (Liege)
character_event = {
	id = titan.81
	desc = titan.81.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.10.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.22 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.10.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

# Sacrifice Generic 4 (Liege)
character_event = {
	id = titan.82
	desc = titan.82.desc
	picture = GFX_evt_midwinter_blot_oldgods
	border = GFX_event_normal_frame_religion
	
	is_triggered_only = yes
	
	option = {
		name = titan.10.a
		FROM = {
			death = {
				death_reason = death_sacrificed
				killer = ROOT
			}
		}
		hidden_tooltip = {
			any_vassal = {
				limit = { has_character_flag = attending_titan_thysia }
				character_event = { id = titan.22 }
			}
		}
		prestige = 25
		piety = 15
	}
	option = {
		name = titan.10.b
		FROM = { character_event = { id = titan.37 tooltip = titan.37.tt } }
		piety = -25
	}
}

### Feast event bounces
character_event = { #feast_drunkard
	id = titan.83
	
	is_triggered_only = yes
	
	hide_window = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast
	
	trigger = {
		NOT = { has_character_flag = feast_drunkard }
		any_vassal = {
			has_character_flag = titan_thysia_feast_vassal
			NOT = { has_character_flag = feast_drunkard }
			trait = drunkard
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = titan_thysia_feast_vassal
				trait = drunkard
			}
			character_event = { id = titan.50 }
		}
	}
}

character_event = {
	id = titan.84 #feast_gluttonous
	
	is_triggered_only = yes
	
	hide_window = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast
	
	trigger = {
		NOT = { has_character_flag = feast_gluttonous }
		any_vassal = {
			has_character_flag = titan_thysia_feast_vassal
			NOT = { has_character_flag = feast_gluttonous }
			trait = gluttonous
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = titan_thysia_feast_vassal
				trait = gluttonous
			}
			character_event = { id = titan.52 }
		}
	}
}

character_event = {
	id = titan.85 #feast_lunatic
	
	is_triggered_only = yes
	
	hide_window = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast
	
	trigger = {
		NOT = { has_character_flag = feast_lunatic }
		any_vassal = {
			has_character_flag = titan_thysia_feast_vassal
			NOT = { has_character_flag = feast_lunatic }
			trait = lunatic
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = titan_thysia_feast_vassal
				trait = lunatic
			}
			character_event = { id = titan.56 }
		}
	}
}

character_event = {
	id = titan.86 #feast_lustful
	
	is_triggered_only = yes
	
	hide_window = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast
	
	trigger = {
		NOT = { has_character_flag = feast_lustful }
		any_vassal = { 
			has_character_flag = titan_thysia_feast_vassal
			NOT = { has_character_flag = feast_lustful }
			trait = lustful
			is_female = no
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = titan_thysia_feast_vassal
				trait = lustful
				is_female = no
			}
			character_event = { id = titan.58 }
		}
	}
}

character_event = {
	id = titan.87 #feast_friendship
	
	is_triggered_only = yes
	
	hide_window = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast
	
	trigger = {
		NOT = { has_character_flag = feast_friendship }
		has_character_flag = titan_thysia_feast_vassal
		any_vassal = {
			has_character_flag = titan_thysia_feast_vassal
			NOT = { has_character_flag = feast_friendship }
			liege = { 
				any_vassal = {
					has_character_flag = titan_thysia_feast_vassal
					NOT = { has_character_flag = feast_friendship }
					NOT = { character = PREVPREV }
					opinion = { who = PREVPREV value =  20 }
				}		
			}
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = titan_thysia_feast_vassal
				NOT = { has_character_flag = feast_friendship }
				liege = { 
					any_vassal = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { has_character_flag = feast_friendship }
						NOT = { character = PREVPREV }
						opinion = { who = PREVPREV value =  20 }
					}		
				}
			}
			character_event = { id = titan.60 }
		}
	}
}

character_event = {
	id = titan.88 #male_homosexual
	
	is_triggered_only = yes
	
	hide_window = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast
	
	trigger = {
		NOT = { has_character_flag = feast_homosexual }
		any_vassal = { 
			has_character_flag = titan_thysia_feast_vassal
			NOT = { has_character_flag = feast_homosexual }
			trait = homosexual
			is_female = no
			has_lover = no
			liege = { 
				any_vassal = {
					has_character_flag = titan_thysia_feast_vassal
					NOT = { has_character_flag = feast_homosexual }
					NOT = { character = PREVPREV }
					opinion = { who = PREVPREV value =  0 }
					trait = homosexual
					is_female = no
					has_lover = no
				}		
			}
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = titan_thysia_feast_vassal
				NOT = { has_character_flag = feast_homosexual }
				trait = homosexual
				is_female = no
				has_lover = no
				liege = { 
					any_vassal = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { has_character_flag = feast_homosexual }
						NOT = { character = PREVPREV }
						opinion = { who = PREVPREV value =  0 }
						trait = homosexual
						is_female = no
						has_lover = no
					}		
				}
			}
			character_event = { id = titan.63 }
		}
	}
}

character_event = {
	id = titan.89 #female_homosexual
	
	is_triggered_only = yes
	
	hide_window = yes
	
	has_dlc = "The Old Gods"
	has_character_flag = titan_thysia_feast
	
	trigger = {
		NOT = { has_character_flag = feast_homosexual }
		any_vassal = { 
			has_character_flag = titan_thysia_feast_vassal
			NOT = { has_character_flag = feast_homosexual }
			trait = homosexual
			is_female = yes
			has_lover = no
			liege = { 
				any_vassal = {
					has_character_flag = titan_thysia_feast_vassal
					NOT = { has_character_flag = feast_homosexual }
					NOT = { character = PREVPREV }
					opinion = { who = PREVPREV value =  0 }
					trait = homosexual
					is_female = yes
					has_lover = no
				}		
			}
		}
	}
	
	immediate = {
		random_vassal = {
			limit = {
				has_character_flag = titan_thysia_feast_vassal
				NOT = { has_character_flag = feast_homosexual }
				trait = homosexual
				is_female = yes
				has_lover = no
				liege = { 
					any_vassal = {
						has_character_flag = titan_thysia_feast_vassal
						NOT = { has_character_flag = feast_homosexual }
						NOT = { character = PREVPREV }
						opinion = { who = PREVPREV value =  0 }
						trait = homosexual
						is_female = yes
						has_lover = no
					}		
				}
			}
			character_event = { id = titan.66 }
		}
	}
}

###########################################
# Flag management                         #
###########################################

# Safety catch - clears character flags and modifiers
character_event = {
	id = titan.99

	hide_window = yes
	
	is_triggered_only = yes
	
	immediate = {
		clr_character_flag = holding_titan_thysia
		clr_character_flag = titan_thysia_feast
		clr_character_flag = attending_titan_thysia
		clr_character_flag = titan_thysia_feast_vassal
		clr_character_flag = feast_gluttonous
		clr_character_flag = feast_lunatic
		clr_character_flag = feast_lustful
		clr_character_flag = feast_homosexual
		clr_character_flag = feast_drunkard
		clr_character_flag = feast_friendship
		clr_character_flag = do_not_disturb
	}
}

###################################
#
# Ancient Religions
# - Titan Holy Order Events
# titan.100 - titan.149 reserved
#
###################################

# The Sickles are formed, and now everyone knows it!
# narrative_event = {
	# id = titan.100
	# title = titan.100.title
	# desc = titan.100.desc
	# picture = GFX_evt_war_planning
	# border = GFX_event_narrative_frame_religion

	# is_triggered_only = yes
	# major = yes
	
	# only_rulers = yes
	
	# option = {
		# trigger = {
			# has_character_flag = acr_formed_sickles
		# }

		# chronicle = { 
			# entry = CHRONICLE_SICKLES
			# portrait = [From.GetID]
		# }

		# name = titan.100.a
	# }

	# option = {
		# trigger = {
			# religion = titan_pagan
			# NOT = { has_character_flag = acr_formed_sickles }
		# }

		# name = titan.100.b
	# }

	# option = {
		# trigger = {
			# NOT = {
				# religion = titan_pagan
			# }
		# }

		# name = titan.100.c
	# }
# }
